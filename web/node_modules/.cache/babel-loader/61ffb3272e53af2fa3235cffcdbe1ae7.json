{"ast":null,"code":"import _slicedToArray from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/Documents/projects/hollaex/src/containers/Admin/UserBalance/index.js\";\nimport React, { Component } from 'react';\nimport { Row, Col, Spin, Card } from 'antd';\nimport { requestUserBalance } from './actions';\nimport { SubmissionError } from 'redux-form';\nimport { isSupport } from '../../../utils/token';\nimport { formatCurrency } from '../../../utils';\nimport moment from 'moment';\nvar INITIAL_STATE = {\n  tradeHistory: '',\n  loading: true\n};\n\nvar UserBalance =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserBalance, _Component);\n\n  function UserBalance() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, UserBalance);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UserBalance)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = INITIAL_STATE;\n\n    _this.componentWillMount = function () {\n      var isSupportUser = isSupport();\n\n      if (_this.props.userData) {\n        _this.handleBalance(_this.props.userData, isSupportUser);\n      }\n    };\n\n    _this.handleBalance = function (userData, isSupportUser) {\n      if (!isSupportUser) {\n        requestUserBalance(userData.id).then(function (res) {\n          if (res) {\n            _this.setState({\n              isSupportUser: isSupportUser,\n              userBalance: res,\n              loading: false,\n              userInformation: userData\n            });\n          }\n        }).catch(function (err) {\n          if (err.status === 403) {\n            _this.setState({\n              loading: false\n            });\n          }\n\n          throw new SubmissionError({\n            _error: err.data.message\n          });\n        });\n      } else {\n        var error = new Error('Not found');\n        error.data = userData;\n        throw error;\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(UserBalance, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          userInformation = _this$state.userInformation,\n          userBalance = _this$state.userBalance,\n          loading = _this$state.loading,\n          isSupportUser = _this$state.isSupportUser;\n\n      if (loading) {\n        return React.createElement(\"div\", {\n          className: \"app_container-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, React.createElement(Spin, {\n          size: \"large\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }));\n      }\n\n      return React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(Row, {\n        gutter: 16,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, Object.entries(userInformation.crypto_wallet).map(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            key = _ref2[0],\n            value = _ref2[1];\n\n        return React.createElement(Col, {\n          key: key,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74\n          },\n          __self: this\n        }, React.createElement(Card, {\n          title: React.createElement(\"h3\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 75\n            },\n            __self: this\n          }, key),\n          type: \"inner\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, value));\n      })), !isSupportUser && React.createElement(Row, {\n        gutter: 16,\n        style: {\n          marginTop: 16\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(Card, {\n        title: React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, \"Balance\"),\n        type: \"inner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, Object.entries(userBalance).map(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n            key = _ref4[0],\n            value = _ref4[1];\n\n        if (key === 'created_at' || key === 'updated_at') {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89\n            },\n            __self: this\n          }, ' ', React.createElement(\"strong\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 91\n            },\n            __self: this\n          }, key), \" :\", ' ', moment(value).format('YYYY/MM/DD HH:mm'), ' ');\n        } else {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 97\n            },\n            __self: this\n          }, React.createElement(\"strong\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 98\n            },\n            __self: this\n          }, key), \" :\", ' ', typeof value !== 'number' ? React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100\n            },\n            __self: this\n          }, \"no data\") : formatCurrency(value), ' ');\n        }\n      })))));\n    }\n  }]);\n\n  return UserBalance;\n}(Component);\n\nexport default UserBalance;","map":{"version":3,"sources":["/home/user/Documents/projects/hollaex/src/containers/Admin/UserBalance/index.js"],"names":["React","Component","Row","Col","Spin","Card","requestUserBalance","SubmissionError","isSupport","formatCurrency","moment","INITIAL_STATE","tradeHistory","loading","UserBalance","state","componentWillMount","isSupportUser","props","userData","handleBalance","id","then","res","setState","userBalance","userInformation","catch","err","status","_error","data","message","error","Error","Object","entries","crypto_wallet","map","key","value","marginTop","format"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Row, Col, Spin, Card } from 'antd';\nimport { requestUserBalance } from './actions';\n\nimport { SubmissionError } from 'redux-form';\n\nimport { isSupport } from '../../../utils/token';\n\nimport { formatCurrency } from '../../../utils';\nimport moment from 'moment';\n\nconst INITIAL_STATE = {\n\ttradeHistory: '',\n\tloading: true\n};\n\nclass UserBalance extends Component {\n\tstate = INITIAL_STATE;\n\n\tcomponentWillMount = () => {\n\t\tconst isSupportUser = isSupport();\n\t\tif (this.props.userData) {\n\t\t\tthis.handleBalance(this.props.userData, isSupportUser);\n\t\t}\n\t};\n\n\thandleBalance = (userData, isSupportUser) => {\n\t\tif (!isSupportUser) {\n\t\t\trequestUserBalance(userData.id)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tif (res) {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tisSupportUser: isSupportUser,\n\t\t\t\t\t\t\tuserBalance: res,\n\t\t\t\t\t\t\tloading: false,\n\t\t\t\t\t\t\tuserInformation: userData\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tif (err.status === 403) {\n\t\t\t\t\t\tthis.setState({ loading: false });\n\t\t\t\t\t}\n\t\t\t\t\tthrow new SubmissionError({ _error: err.data.message });\n\t\t\t\t});\n\t\t} else {\n\t\t\tconst error = new Error('Not found');\n\t\t\terror.data = userData;\n\t\t\tthrow error;\n\t\t}\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tuserInformation,\n\t\t\tuserBalance,\n\t\t\tloading,\n\t\t\tisSupportUser\n\t\t} = this.state;\n\n\t\tif (loading) {\n\t\t\treturn (\n\t\t\t\t<div className=\"app_container-content\">\n\t\t\t\t\t<Spin size=\"large\" />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<Row>\n\t\t\t\t<Row gutter={16}>\n\t\t\t\t\t{Object.entries(userInformation.crypto_wallet).map(\n\t\t\t\t\t\t([key, value]) => (\n\t\t\t\t\t\t\t<Col key={key}>\n\t\t\t\t\t\t\t\t<Card title={<h3>{key}</h3>} type=\"inner\">\n\t\t\t\t\t\t\t\t\t{value}\n\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t)\n\t\t\t\t\t)}\n\t\t\t\t</Row>\n\t\t\t\t{!isSupportUser && (\n\t\t\t\t\t<Row gutter={16} style={{ marginTop: 16 }}>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<Card title={<h3>Balance</h3>} type=\"inner\">\n\t\t\t\t\t\t\t\t{Object.entries(userBalance).map(([key, value]) => {\n\t\t\t\t\t\t\t\t\tif (key === 'created_at' || key === 'updated_at') {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{key}</strong> :{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t{moment(value).format('YYYY/MM/DD HH:mm')}{' '}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<strong>{key}</strong> :{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t{typeof value !== 'number' ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>no data</span>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\tformatCurrency(value)\n\t\t\t\t\t\t\t\t\t\t\t\t)}{' '}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t)}\n\t\t\t</Row>\n\t\t);\n\t}\n}\n\nexport default UserBalance;\n"]},"metadata":{},"sourceType":"module"}