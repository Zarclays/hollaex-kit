{"ast":null,"code":"import _defineProperty from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/Documents/projects/hollaex/src/containers/Admin/Limits/index.js\";\nimport React, { Component } from 'react';\nimport { Table, Spin, notification, Input, Select } from 'antd';\nimport { CSVLink } from 'react-csv';\nimport { requestLimits, performLimitUpdate } from './actions';\nimport { UPDATE_KEYS, CURRENCY_KEYS, COLUMNS_CURRENCY } from './constants';\nvar InputGroup = Input.Group;\nvar Option = Select.Option;\nvar Search = Input.Search;\n\nvar openNotification = function openNotification() {\n  notification.open({\n    message: 'Successfully updated'\n  });\n};\n\nvar Limits =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Limits, _Component);\n\n  function Limits() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Limits);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Limits)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      limits: [],\n      fetched: false,\n      loading: false,\n      error: '',\n      verification_level: null,\n      update_type: ''\n    };\n\n    _this.requestLimits = function () {\n      _this.setState({\n        loading: true,\n        error: ''\n      });\n\n      requestLimits().then(function (res) {\n        console.log(res);\n\n        _this.setState({\n          limits: res,\n          loading: false,\n          fetched: true\n        });\n      }).catch(function (error) {\n        var message = error.message;\n\n        _this.setState({\n          loading: false,\n          error: message\n        });\n      });\n    };\n\n    _this.onLvlSelect = function (value, option) {\n      _this.setState({\n        verification_level: value\n      });\n    };\n\n    _this.onTypeSelect = function (value, option) {\n      _this.setState({\n        update_type: value\n      });\n    };\n\n    _this.onSearch = function (value) {\n      performLimitUpdate(_this.state.verification_level, _defineProperty({}, _this.state.update_type, Number(value))).then(function (res) {\n        console.log(res);\n\n        _this.requestLimits();\n\n        openNotification();\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Limits, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.requestLimits();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          limits = _this$state.limits,\n          loading = _this$state.loading,\n          error = _this$state.error;\n      return React.createElement(\"div\", {\n        className: \"app_container-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, loading ? React.createElement(Spin, {\n        size: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, error && React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"-\", error, \"-\"), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"DAILY MAX LIMITS\"), React.createElement(CSVLink, {\n        filename: 'daily-max-limits.csv',\n        data: limits,\n        headers: COLUMNS_CURRENCY,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Download table\"), React.createElement(Table, {\n        columns: COLUMNS_CURRENCY,\n        dataSource: limits,\n        rowKey: function rowKey(data) {\n          return data.id;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Limits;\n}(Component);\n\nexport default Limits;","map":{"version":3,"sources":["/home/user/Documents/projects/hollaex/src/containers/Admin/Limits/index.js"],"names":["React","Component","Table","Spin","notification","Input","Select","CSVLink","requestLimits","performLimitUpdate","UPDATE_KEYS","CURRENCY_KEYS","COLUMNS_CURRENCY","InputGroup","Group","Option","Search","openNotification","open","message","Limits","state","limits","fetched","loading","error","verification_level","update_type","setState","then","res","console","log","catch","onLvlSelect","value","option","onTypeSelect","onSearch","Number","data","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Table, Spin, notification, Input, Select } from 'antd';\nimport { CSVLink } from 'react-csv';\n\nimport { requestLimits, performLimitUpdate } from './actions';\nimport { UPDATE_KEYS, CURRENCY_KEYS, COLUMNS_CURRENCY } from './constants';\n\nconst InputGroup = Input.Group;\nconst Option = Select.Option;\nconst Search = Input.Search;\nconst openNotification = () => {\n\tnotification.open({\n\t\tmessage: 'Successfully updated'\n\t});\n};\n\nclass Limits extends Component {\n\tstate = {\n\t\tlimits: [],\n\t\tfetched: false,\n\t\tloading: false,\n\t\terror: '',\n\t\tverification_level: null,\n\t\tupdate_type: ''\n\t};\n\n\tcomponentWillMount() {\n\t\tthis.requestLimits();\n\t}\n\n\trequestLimits = () => {\n\t\tthis.setState({\n\t\t\tloading: true,\n\t\t\terror: ''\n\t\t});\n\t\trequestLimits()\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tthis.setState({\n\t\t\t\t\tlimits: res,\n\t\t\t\t\tloading: false,\n\t\t\t\t\tfetched: true\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconst message = error.message;\n\t\t\t\tthis.setState({\n\t\t\t\t\tloading: false,\n\t\t\t\t\terror: message\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\tonLvlSelect = (value, option) => {\n\t\tthis.setState({ verification_level: value });\n\t};\n\n\tonTypeSelect = (value, option) => {\n\t\tthis.setState({ update_type: value });\n\t};\n\n\tonSearch = (value) => {\n\t\tperformLimitUpdate(this.state.verification_level, {\n\t\t\t[this.state.update_type]: Number(value)\n\t\t}).then((res) => {\n\t\t\tconsole.log(res);\n\t\t\tthis.requestLimits();\n\t\t\topenNotification();\n\t\t});\n\t};\n\n\trender() {\n\t\tconst { limits, loading, error } = this.state;\n\t\treturn (\n\t\t\t<div className=\"app_container-content\">\n\t\t\t\t{loading ? (\n\t\t\t\t\t<Spin size=\"large\" />\n\t\t\t\t) : (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{error && <p>-{error}-</p>}\n\t\t\t\t\t\t<h1>DAILY MAX LIMITS</h1>\n\t\t\t\t\t\t<CSVLink\n\t\t\t\t\t\t\tfilename={'daily-max-limits.csv'}\n\t\t\t\t\t\t\tdata={limits}\n\t\t\t\t\t\t\theaders={COLUMNS_CURRENCY}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tDownload table\n\t\t\t\t\t\t</CSVLink>\n\t\t\t\t\t\t<Table\n\t\t\t\t\t\t\tcolumns={COLUMNS_CURRENCY}\n\t\t\t\t\t\t\tdataSource={limits}\n\t\t\t\t\t\t\trowKey={(data) => {\n\t\t\t\t\t\t\t\treturn data.id;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/* <div>\n\t\t\t\t\t\t\t<h2>CHANGE DAILY MAX LIMITS</h2>\n\n\t\t\t\t\t\t\t<InputGroup compact>\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tdefaultValue={'Verification level'}\n\t\t\t\t\t\t\t\t\tstyle={{ width: '22%' }}\n\t\t\t\t\t\t\t\t\tonSelect={this.onLvlSelect}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{UPDATE_KEYS.map(({ value, label }, index) => (\n\t\t\t\t\t\t\t\t\t\t<Option value={value} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tdefaultValue={'Choose currency type'}\n\t\t\t\t\t\t\t\t\tstyle={{ width: '26%' }}\n\t\t\t\t\t\t\t\t\tonSelect={this.onTypeSelect}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{CURRENCY_KEYS.map(({ value, label }, index) => (\n\t\t\t\t\t\t\t\t\t\t<Option value={value} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t<Search\n\t\t\t\t\t\t\t\t\tplaceholder=\"Update amount\"\n\t\t\t\t\t\t\t\t\tenterButton=\"Save changes\"\n\t\t\t\t\t\t\t\t\tsize=\"default\"\n\t\t\t\t\t\t\t\t\tstyle={{ width: '40%' }}\n\t\t\t\t\t\t\t\t\tonSearch={(value) => this.onSearch(value)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</InputGroup>\n\t\t\t\t\t\t</div> */}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Limits;\n"]},"metadata":{},"sourceType":"module"}