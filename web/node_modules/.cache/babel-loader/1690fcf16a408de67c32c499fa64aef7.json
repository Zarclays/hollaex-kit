{"ast":null,"code":"import _classCallCheck from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/Documents/projects/hollaex/src/containers/QuickTrade/index.js\";\nimport React, { Component } from 'react';\nimport classnames from 'classnames';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { isMobile } from 'react-device-detect';\nimport STRINGS from '../../config/localizedStrings';\nimport { ICONS, BALANCE_ERROR, BASE_CURRENCY, DEFAULT_COIN_DATA } from '../../config/constants';\nimport { QuickTrade, Dialog, Countdown, IconTitle, Loader, MobileBarBack } from '../../components';\nimport { requestQuote, executeQuote, changeSymbol, requestQuickTrade } from '../../actions/orderbookAction';\nimport { formatBtcAmount, calculateBalancePrice, formatToCurrency } from '../../utils/currency';\nimport { isLoggedIn } from '../../utils/token';\nimport { changePair, setNotification, RISKY_ORDER } from '../../actions/appActions';\nimport QuoteResult from './QuoteResult';\n\nvar QuickTradeContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(QuickTradeContainer, _Component);\n\n  function QuickTradeContainer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, QuickTradeContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(QuickTradeContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      pair: '',\n      showQuickTradeModal: false,\n      side: 'buy',\n      quote: {},\n      interval: undefined,\n      totalAssets: ''\n    };\n\n    _this.changePair = function (pair) {\n      _this.setState({\n        pair: pair\n      });\n\n      _this.props.changePair(pair);\n    };\n\n    _this.onOpenDialog = function () {\n      _this.onClearQuoteInterval();\n\n      _this.setState({\n        showQuickTradeModal: true\n      });\n    };\n\n    _this.onCloseDialog = function () {\n      _this.setState({\n        showQuickTradeModal: false\n      });\n\n      if (_this.state.quote) {\n        _this.props.requestQuote(_this.state.quote);\n      }\n    };\n\n    _this.calculateSections = function (_ref) {\n      var balance = _ref.balance,\n          prices = _ref.prices;\n      var totalAssets = calculateBalancePrice(balance, prices);\n\n      _this.setState({\n        totalAssets: totalAssets\n      });\n    };\n\n    _this.onReviewQuickTrade = function () {\n      var _this$props$pairData = _this.props.pairData,\n          pair_base = _this$props$pairData.pair_base,\n          pair_2 = _this$props$pairData.pair_2;\n      var _this$props = _this.props,\n          _this$props$settings$ = _this$props.settings.risk,\n          risk = _this$props$settings$ === void 0 ? {} : _this$props$settings$,\n          _this$props$quoteData = _this$props.quoteData.data,\n          data = _this$props$quoteData === void 0 ? {} : _this$props$quoteData,\n          setNotification = _this$props.setNotification,\n          pairData = _this$props.pairData;\n\n      if (_this.props.quoteData.error === BALANCE_ERROR) {\n        _this.props.changeSymbol(_this.state.side === 'sell' ? pair_base : pair_2);\n\n        _this.props.router.push('deposit');\n      } else {\n        var order = {\n          type: 'quick trade',\n          side: data.side,\n          price: 0,\n          size: data.size,\n          symbol: pair_base,\n          orderPrice: data.price,\n          orderFees: 0\n        };\n        var riskyPrice = _this.state.totalAssets / 100 * risk.order_portfolio_percentage;\n\n        if (risk.popup_warning && data.price > riskyPrice) {\n          order['order_portfolio_percentage'] = risk.order_portfolio_percentage;\n          setNotification(RISKY_ORDER, {\n            order: order,\n            onConfirm: function onConfirm() {\n              _this.onClearQuoteInterval();\n\n              _this.onOpenDialog();\n            },\n            fees: {},\n            pairData: pairData\n          });\n        } else {\n          _this.onClearQuoteInterval();\n\n          _this.onOpenDialog();\n        }\n      }\n    };\n\n    _this.onChangeSide = function () {\n      var side = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n      _this.setState({\n        side: side\n      });\n    };\n\n    _this.onExecuteTrade = function () {\n      var token = _this.props.quoteData.token;\n\n      _this.props.executeQuote(token);\n    };\n\n    _this.onRequestQuote = function (quoteData) {\n      var quote;\n\n      if (quoteData) {\n        quote = quoteData;\n\n        _this.setState({\n          quote: quote\n        });\n      } else {\n        quote = _this.state.quote;\n      }\n\n      isLoggedIn() ? _this.props.requestQuote(quote) : _this.props.requestQuickTrade(quote);\n    };\n\n    _this.onClearQuoteInterval = function () {\n      if (_this.state.interval) {\n        clearInterval(_this.state.interval);\n      }\n    };\n\n    _this.renderCountdown = function (countdown) {\n      return React.createElement(\"div\", {\n        className: \"quote-countdown-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, STRINGS.formatString(STRINGS.QUOTE_COUNTDOWN_MESSAGE, React.createElement(\"div\", {\n        className: \"counter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, countdown)));\n    };\n\n    _this.renderTimeout = function () {\n      return React.createElement(\"div\", {\n        className: \"quote-countdown-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, STRINGS.QUOTE_EXPIRED_TOKEN);\n    };\n\n    _this.onGoBack = function () {\n      _this.props.router.push(\"/trade/\".concat(_this.state.pair));\n    };\n\n    return _this;\n  }\n\n  _createClass(QuickTradeContainer, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.changePair(this.props.routeParams.pair);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.user.id) {\n        this.calculateSections(this.props);\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      var nextExp = nextProps.quoteData.data.exp;\n      var thisExp = this.props.quoteData.data.exp;\n\n      if (nextProps.quoteData.error && nextProps.quoteData.error !== this.props.quoteData.error) {\n        this.onClearQuoteInterval();\n      }\n\n      if (nextExp !== thisExp) {\n        var interval = setInterval(function () {\n          _this2.onRequestQuote();\n        }, 60 * 1000);\n        this.onClearQuoteInterval();\n        this.setState({\n          interval: interval\n        });\n      }\n\n      if (nextProps.routeParams.pair !== this.props.routeParams.pair) {\n        this.changePair(nextProps.routeParams.pair);\n      }\n\n      if (JSON.stringify(this.props.prices) !== JSON.stringify(nextProps.prices) || JSON.stringify(this.props.balance) !== JSON.stringify(nextProps.balance)) {\n        this.calculateSections(nextProps);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.onClearQuoteInterval();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          quoteData = _this$props2.quoteData,\n          pairData = _this$props2.pairData,\n          activeTheme = _this$props2.activeTheme,\n          quickTrade = _this$props2.quickTrade,\n          orderLimits = _this$props2.orderLimits,\n          pairs = _this$props2.pairs,\n          coins = _this$props2.coins;\n      var _this$state = this.state,\n          showQuickTradeModal = _this$state.showQuickTradeModal,\n          side = _this$state.side,\n          pair = _this$state.pair;\n\n      if (!pair || pair !== this.props.pair || !pairData) {\n        return React.createElement(Loader, {\n          background: false,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220\n          },\n          __self: this\n        });\n      }\n\n      var data = quoteData.data,\n          order = quoteData.order;\n      var end = quoteData.data.exp;\n      var tradeData = isLoggedIn() ? quoteData : quickTrade;\n      var baseCoin = coins[BASE_CURRENCY] || DEFAULT_COIN_DATA;\n      var pairCoin = coins[pairData.pair_base] || DEFAULT_COIN_DATA;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, isMobile && React.createElement(MobileBarBack, {\n        onBackClick: this.onGoBack,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: classnames('d-flex', 'f-1', 'quote-container', {\n          'flex-column': isMobile\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(QuickTrade, {\n        onReviewQuickTrade: this.onReviewQuickTrade,\n        onRequestMarketValue: this.onRequestQuote,\n        symbol: pair,\n        theme: activeTheme,\n        quickTradeData: tradeData,\n        onChangeSide: this.onChangeSide,\n        disabled: quoteData.error === BALANCE_ERROR ? true : !quoteData.token,\n        orderLimits: orderLimits,\n        pairs: pairs,\n        coins: coins,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }), React.createElement(Dialog, {\n        isOpen: !!end && showQuickTradeModal,\n        label: \"quick-trade-modal\",\n        onCloseDialog: this.onCloseDialog,\n        shouldCloseOnOverlayClick: false,\n        showCloseText: !order.fetching && !order.completed,\n        theme: activeTheme,\n        style: {\n          'z-index': 100\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, showQuickTradeModal ? !order.fetching && !order.completed ? React.createElement(Countdown, {\n        buttonLabel: STRINGS.QUOTE_BUTTON,\n        onClickButton: this.onExecuteTrade,\n        end: end,\n        renderTimeout: this.renderTimeout,\n        renderCountdown: this.renderCountdown,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(IconTitle, {\n        iconPath: ICONS.SQUARE_DOTS,\n        text: STRINGS.QUOTE_REVIEW,\n        underline: true,\n        useSvg: true,\n        className: \"w-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"quote-review-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, STRINGS.formatString(STRINGS.QUOTE_MESSAGE, STRINGS.SIDES_VALUES[side], formatBtcAmount(data.size), pairCoin.fullname, formatToCurrency(data.price, baseCoin.min), baseCoin.fullname))) : React.createElement(QuoteResult, {\n        data: order,\n        name: pairCoin.fullname,\n        coins: coins,\n        onClose: this.onCloseDialog,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return QuickTradeContainer;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(store) {\n  var pair = store.app.pair;\n  var pairData = store.app.pairs[pair];\n  var activeTheme = store.app.theme;\n  return {\n    pair: pair,\n    pairData: pairData,\n    pairs: store.app.pairs,\n    coins: store.app.coins,\n    quoteData: store.orderbook.quoteData,\n    activeTheme: activeTheme,\n    activeLanguage: store.app.language,\n    quickTrade: store.orderbook.quickTrade,\n    orderLimits: store.app.orderLimits,\n    prices: store.orderbook.prices,\n    balance: store.user.balance,\n    user: store.user,\n    settings: store.user.settings\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    changePair: bindActionCreators(changePair, dispatch),\n    requestQuote: bindActionCreators(requestQuote, dispatch),\n    executeQuote: bindActionCreators(executeQuote, dispatch),\n    changeSymbol: bindActionCreators(changeSymbol, dispatch),\n    requestQuickTrade: bindActionCreators(requestQuickTrade, dispatch),\n    setNotification: bindActionCreators(setNotification, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(QuickTradeContainer);","map":{"version":3,"sources":["/home/user/Documents/projects/hollaex/src/containers/QuickTrade/index.js"],"names":["React","Component","classnames","connect","bindActionCreators","isMobile","STRINGS","ICONS","BALANCE_ERROR","BASE_CURRENCY","DEFAULT_COIN_DATA","QuickTrade","Dialog","Countdown","IconTitle","Loader","MobileBarBack","requestQuote","executeQuote","changeSymbol","requestQuickTrade","formatBtcAmount","calculateBalancePrice","formatToCurrency","isLoggedIn","changePair","setNotification","RISKY_ORDER","QuoteResult","QuickTradeContainer","state","pair","showQuickTradeModal","side","quote","interval","undefined","totalAssets","setState","props","onOpenDialog","onClearQuoteInterval","onCloseDialog","calculateSections","balance","prices","onReviewQuickTrade","pairData","pair_base","pair_2","settings","risk","quoteData","data","error","router","push","order","type","price","size","symbol","orderPrice","orderFees","riskyPrice","order_portfolio_percentage","popup_warning","onConfirm","fees","onChangeSide","onExecuteTrade","token","onRequestQuote","clearInterval","renderCountdown","countdown","formatString","QUOTE_COUNTDOWN_MESSAGE","renderTimeout","QUOTE_EXPIRED_TOKEN","onGoBack","routeParams","user","id","nextProps","nextExp","exp","thisExp","setInterval","JSON","stringify","activeTheme","quickTrade","orderLimits","pairs","coins","end","tradeData","baseCoin","pairCoin","fetching","completed","QUOTE_BUTTON","SQUARE_DOTS","QUOTE_REVIEW","QUOTE_MESSAGE","SIDES_VALUES","fullname","min","mapStateToProps","store","app","theme","orderbook","activeLanguage","language","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport classnames from 'classnames';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { isMobile } from 'react-device-detect';\n\nimport STRINGS from '../../config/localizedStrings';\nimport { ICONS, BALANCE_ERROR, BASE_CURRENCY, DEFAULT_COIN_DATA } from '../../config/constants';\n\nimport {\n\tQuickTrade,\n\tDialog,\n\tCountdown,\n\tIconTitle,\n\tLoader,\n\tMobileBarBack\n} from '../../components';\nimport {\n\trequestQuote,\n\texecuteQuote,\n\tchangeSymbol,\n\trequestQuickTrade\n} from '../../actions/orderbookAction';\nimport {\n\tformatBtcAmount,\n\tcalculateBalancePrice,\n\tformatToCurrency\n} from '../../utils/currency';\nimport { isLoggedIn } from '../../utils/token';\nimport {\n\tchangePair,\n\tsetNotification,\n\tRISKY_ORDER\n} from '../../actions/appActions';\n\nimport QuoteResult from './QuoteResult';\n\nclass QuickTradeContainer extends Component {\n\tstate = {\n\t\tpair: '',\n\t\tshowQuickTradeModal: false,\n\t\tside: 'buy',\n\t\tquote: {},\n\t\tinterval: undefined,\n\t\ttotalAssets: ''\n\t};\n\n\tcomponentWillMount() {\n\t\tthis.changePair(this.props.routeParams.pair);\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.props.user.id) {\n\t\t\tthis.calculateSections(this.props);\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tconst nextExp = nextProps.quoteData.data.exp;\n\t\tconst thisExp = this.props.quoteData.data.exp;\n\t\tif (\n\t\t\tnextProps.quoteData.error &&\n\t\t\tnextProps.quoteData.error !== this.props.quoteData.error\n\t\t) {\n\t\t\tthis.onClearQuoteInterval();\n\t\t}\n\t\tif (nextExp !== thisExp) {\n\t\t\tconst interval = setInterval(() => {\n\t\t\t\tthis.onRequestQuote();\n\t\t\t}, 60 * 1000);\n\t\t\tthis.onClearQuoteInterval();\n\t\t\tthis.setState({ interval });\n\t\t}\n\t\tif (nextProps.routeParams.pair !== this.props.routeParams.pair) {\n\t\t\tthis.changePair(nextProps.routeParams.pair);\n\t\t}\n\t\tif (\n\t\t\tJSON.stringify(this.props.prices) !==\n\t\t\t\tJSON.stringify(nextProps.prices) ||\n\t\t\tJSON.stringify(this.props.balance) !==\n\t\t\t\tJSON.stringify(nextProps.balance)\n\t\t) {\n\t\t\tthis.calculateSections(nextProps);\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.onClearQuoteInterval();\n\t}\n\n\tchangePair = (pair) => {\n\t\tthis.setState({ pair });\n\t\tthis.props.changePair(pair);\n\t};\n\n\tonOpenDialog = () => {\n\t\tthis.onClearQuoteInterval();\n\t\tthis.setState({ showQuickTradeModal: true });\n\t};\n\n\tonCloseDialog = () => {\n\t\tthis.setState({ showQuickTradeModal: false });\n\t\tif (this.state.quote) {\n\t\t\tthis.props.requestQuote(this.state.quote);\n\t\t}\n\t};\n\n\tcalculateSections = ({ balance, prices }) => {\n\t\tconst totalAssets = calculateBalancePrice(balance, prices);\n\t\tthis.setState({ totalAssets });\n\t};\n\n\tonReviewQuickTrade = () => {\n\t\tconst { pair_base, pair_2 } = this.props.pairData;\n\t\tconst {\n\t\t\tsettings: { risk = {} },\n\t\t\tquoteData: { data = {} },\n\t\t\tsetNotification,\n\t\t\tpairData\n\t\t} = this.props;\n\n\t\tif (this.props.quoteData.error === BALANCE_ERROR) {\n\t\t\tthis.props.changeSymbol(\n\t\t\t\tthis.state.side === 'sell' ? pair_base : pair_2\n\t\t\t);\n\t\t\tthis.props.router.push('deposit');\n\t\t} else {\n\t\t\tconst order = {\n\t\t\t\ttype: 'quick trade',\n\t\t\t\tside: data.side,\n\t\t\t\tprice: 0,\n\t\t\t\tsize: data.size,\n\t\t\t\tsymbol: pair_base,\n\t\t\t\torderPrice: data.price,\n\t\t\t\torderFees: 0\n\t\t\t};\n\t\t\tconst riskyPrice =\n\t\t\t\t(this.state.totalAssets / 100) * risk.order_portfolio_percentage;\n\t\t\tif (risk.popup_warning && data.price > riskyPrice) {\n\t\t\t\torder['order_portfolio_percentage'] =\n\t\t\t\t\trisk.order_portfolio_percentage;\n\t\t\t\tsetNotification(RISKY_ORDER, {\n\t\t\t\t\torder,\n\t\t\t\t\tonConfirm: () => {\n\t\t\t\t\t\tthis.onClearQuoteInterval();\n\t\t\t\t\t\tthis.onOpenDialog();\n\t\t\t\t\t},\n\t\t\t\t\tfees: {},\n\t\t\t\t\tpairData\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis.onClearQuoteInterval();\n\t\t\t\tthis.onOpenDialog();\n\t\t\t}\n\t\t}\n\t};\n\n\tonChangeSide = (side = '') => {\n\t\tthis.setState({ side });\n\t};\n\n\tonExecuteTrade = () => {\n\t\tconst { token } = this.props.quoteData;\n\t\tthis.props.executeQuote(token);\n\t};\n\n\tonRequestQuote = (quoteData) => {\n\t\tlet quote;\n\t\tif (quoteData) {\n\t\t\tquote = quoteData;\n\t\t\tthis.setState({ quote });\n\t\t} else {\n\t\t\tquote = this.state.quote;\n\t\t}\n\t\tisLoggedIn()\n\t\t\t? this.props.requestQuote(quote)\n\t\t\t: this.props.requestQuickTrade(quote);\n\t};\n\n\tonClearQuoteInterval = () => {\n\t\tif (this.state.interval) {\n\t\t\tclearInterval(this.state.interval);\n\t\t}\n\t};\n\n\trenderCountdown = (countdown) => {\n\t\treturn (\n\t\t\t<div className=\"quote-countdown-wrapper\">\n\t\t\t\t{STRINGS.formatString(\n\t\t\t\t\tSTRINGS.QUOTE_COUNTDOWN_MESSAGE,\n\t\t\t\t\t<div className=\"counter\">{countdown}</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\trenderTimeout = () => (\n\t\t<div className=\"quote-countdown-wrapper\">\n\t\t\t{STRINGS.QUOTE_EXPIRED_TOKEN}\n\t\t</div>\n\t);\n\n\tonGoBack = () => {\n\t\tthis.props.router.push(`/trade/${this.state.pair}`);\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tquoteData,\n\t\t\tpairData,\n\t\t\tactiveTheme,\n\t\t\tquickTrade,\n\t\t\torderLimits,\n\t\t\tpairs,\n\t\t\tcoins\n\t\t} = this.props;\n\t\tconst { showQuickTradeModal, side, pair } = this.state;\n\n\t\tif (!pair || pair !== this.props.pair || !pairData) {\n\t\t\treturn <Loader background={false} />;\n\t\t}\n\n\t\tconst { data, order } = quoteData;\n\t\tconst end = quoteData.data.exp;\n\t\tconst tradeData = isLoggedIn() ? quoteData : quickTrade;\n\t\tconst baseCoin = coins[BASE_CURRENCY] || DEFAULT_COIN_DATA;\n\t\tconst pairCoin = coins[pairData.pair_base] || DEFAULT_COIN_DATA;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{isMobile && <MobileBarBack onBackClick={this.onGoBack} />}\n\n\t\t\t\t<div\n\t\t\t\t\tclassName={classnames('d-flex', 'f-1', 'quote-container', {\n\t\t\t\t\t\t'flex-column': isMobile\n\t\t\t\t\t})}\n\t\t\t\t>\n\t\t\t\t\t<QuickTrade\n\t\t\t\t\t\tonReviewQuickTrade={this.onReviewQuickTrade}\n\t\t\t\t\t\tonRequestMarketValue={this.onRequestQuote}\n\t\t\t\t\t\tsymbol={pair}\n\t\t\t\t\t\ttheme={activeTheme}\n\t\t\t\t\t\tquickTradeData={tradeData}\n\t\t\t\t\t\tonChangeSide={this.onChangeSide}\n\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\tquoteData.error === BALANCE_ERROR ? true : !quoteData.token\n\t\t\t\t\t\t}\n\t\t\t\t\t\torderLimits={orderLimits}\n\t\t\t\t\t\tpairs={pairs}\n\t\t\t\t\t\tcoins={coins}\n\t\t\t\t\t/>\n\t\t\t\t\t<Dialog\n\t\t\t\t\t\tisOpen={!!end && showQuickTradeModal}\n\t\t\t\t\t\tlabel=\"quick-trade-modal\"\n\t\t\t\t\t\tonCloseDialog={this.onCloseDialog}\n\t\t\t\t\t\tshouldCloseOnOverlayClick={false}\n\t\t\t\t\t\tshowCloseText={!order.fetching && !order.completed}\n\t\t\t\t\t\ttheme={activeTheme}\n\t\t\t\t\t\tstyle={{ 'z-index': 100 }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{showQuickTradeModal ? (\n\t\t\t\t\t\t\t!order.fetching && !order.completed ? (\n\t\t\t\t\t\t\t\t<Countdown\n\t\t\t\t\t\t\t\t\tbuttonLabel={STRINGS.QUOTE_BUTTON}\n\t\t\t\t\t\t\t\t\tonClickButton={this.onExecuteTrade}\n\t\t\t\t\t\t\t\t\tend={end}\n\t\t\t\t\t\t\t\t\trenderTimeout={this.renderTimeout}\n\t\t\t\t\t\t\t\t\trenderCountdown={this.renderCountdown}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<IconTitle\n\t\t\t\t\t\t\t\t\t\ticonPath={ICONS.SQUARE_DOTS}\n\t\t\t\t\t\t\t\t\t\ttext={STRINGS.QUOTE_REVIEW}\n\t\t\t\t\t\t\t\t\t\tunderline={true}\n\t\t\t\t\t\t\t\t\t\tuseSvg={true}\n\t\t\t\t\t\t\t\t\t\tclassName=\"w-100\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"quote-review-wrapper\">\n\t\t\t\t\t\t\t\t\t\t{STRINGS.formatString(\n\t\t\t\t\t\t\t\t\t\t\tSTRINGS.QUOTE_MESSAGE,\n\t\t\t\t\t\t\t\t\t\t\tSTRINGS.SIDES_VALUES[side],\n\t\t\t\t\t\t\t\t\t\t\tformatBtcAmount(data.size),\n\t\t\t\t\t\t\t\t\t\t\tpairCoin.fullname,\n\t\t\t\t\t\t\t\t\t\t\tformatToCurrency(data.price, baseCoin.min),\n\t\t\t\t\t\t\t\t\t\t\tbaseCoin.fullname\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Countdown>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<QuoteResult\n\t\t\t\t\t\t\t\t\tdata={order}\n\t\t\t\t\t\t\t\t\tname={pairCoin.fullname}\n\t\t\t\t\t\t\t\t\tcoins={coins}\n\t\t\t\t\t\t\t\t\tonClose={this.onCloseDialog}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Dialog>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (store) => {\n\tconst pair = store.app.pair;\n\tconst pairData = store.app.pairs[pair];\n\tconst activeTheme = store.app.theme;\n\treturn {\n\t\tpair,\n\t\tpairData,\n\t\tpairs: store.app.pairs,\n\t\tcoins: store.app.coins,\n\t\tquoteData: store.orderbook.quoteData,\n\t\tactiveTheme,\n\t\tactiveLanguage: store.app.language,\n\t\tquickTrade: store.orderbook.quickTrade,\n\t\torderLimits: store.app.orderLimits,\n\t\tprices: store.orderbook.prices,\n\t\tbalance: store.user.balance,\n\t\tuser: store.user,\n\t\tsettings: store.user.settings\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n\tchangePair: bindActionCreators(changePair, dispatch),\n\trequestQuote: bindActionCreators(requestQuote, dispatch),\n\texecuteQuote: bindActionCreators(executeQuote, dispatch),\n\tchangeSymbol: bindActionCreators(changeSymbol, dispatch),\n\trequestQuickTrade: bindActionCreators(requestQuickTrade, dispatch),\n\tsetNotification: bindActionCreators(setNotification, dispatch)\n});\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(QuickTradeContainer);\n"]},"metadata":{},"sourceType":"module"}