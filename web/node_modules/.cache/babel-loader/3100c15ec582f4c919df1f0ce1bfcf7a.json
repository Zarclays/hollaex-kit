{"ast":null,"code":"import _classCallCheck from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/Documents/projects/hollaex/src/containers/TradeTabs/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router';\nimport ReactSVG from 'react-svg';\nimport classnames from 'classnames';\nimport { Paginator, SearchBox } from '../../components';\nimport { ICONS, BASE_CURRENCY, DEFAULT_COIN_DATA } from '../../config/constants';\nimport STRINGS from '../../config/localizedStrings';\nimport { formatPercentage, formatAverage, formatToCurrency } from '../../utils/currency';\n\nvar AddTradeTab =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddTradeTab, _Component);\n\n  function AddTradeTab() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, AddTradeTab);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AddTradeTab)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      page: 0,\n      pageSize: 9,\n      data: [],\n      count: 0,\n      searchValue: ''\n    };\n\n    _this.goToPage = function (pairval, tickers, page, searchValue) {\n      var pageSize = _this.state.pageSize;\n      var pairs = searchValue ? _this.getSearchPairs(searchValue) : pairval;\n      var pairKeys = Object.keys(pairs).sort(function (a, b) {\n        var tickA = tickers[a] || {};\n        var tickB = tickers[b] || {};\n        return tickB.volume - tickA.volume;\n      });\n      var count = pairKeys.length;\n      var initItem = page * pageSize;\n\n      if (initItem < count) {\n        var data = pairKeys.slice(initItem, initItem + pageSize);\n\n        _this.setState({\n          data: data,\n          page: page,\n          count: count\n        });\n      } else {\n        _this.setState({\n          data: pairKeys,\n          page: page,\n          count: count\n        });\n      }\n    };\n\n    _this.goToPreviousPage = function () {\n      _this.goToPage(_this.props.pairs, _this.props.tickers, _this.state.page - 1, _this.state.searchValue);\n    };\n\n    _this.goToNextPage = function () {\n      _this.goToPage(_this.props.pairs, _this.props.tickers, _this.state.page + 1, _this.state.searchValue);\n    };\n\n    _this.handleTabSearch = function (_, value) {\n      if (value) {\n        var result = _this.getSearchPairs(value);\n\n        _this.goToPage(result, _this.props.tickers, 0, value);\n      } else {\n        _this.goToPage(_this.props.pairs, _this.props.tickers, _this.state.page, value);\n      }\n\n      _this.setState({\n        searchValue: value\n      });\n    };\n\n    _this.getSearchPairs = function (value) {\n      var _this$props = _this.props,\n          pairs = _this$props.pairs,\n          coins = _this$props.coins;\n      var result = {};\n      var searchValue = value.toLowerCase().trim();\n      Object.keys(pairs).map(function (key) {\n        var temp = pairs[key];\n\n        var _ref = coins[temp.pair_base] || DEFAULT_COIN_DATA,\n            fullname = _ref.fullname;\n\n        var cashName = fullname ? fullname.toLowerCase() : '';\n\n        if (key.indexOf(searchValue) !== -1 || temp.pair_base.indexOf(searchValue) !== -1 || temp.pair_2.indexOf(searchValue) !== -1 || cashName.indexOf(searchValue) !== -1) {\n          result[key] = temp;\n        }\n\n        return key;\n      });\n      return result;\n    };\n\n    _this.handleClick = function (pair) {\n      var tabs = localStorage.getItem('tabs');\n      tabs = tabs ? JSON.parse(tabs) : [];\n      tabs.push(pair);\n      localStorage.setItem('tabs', JSON.stringify(tabs));\n\n      _this.props.router.push(\"/trade/\".concat(pair));\n    };\n\n    return _this;\n  }\n\n  _createClass(AddTradeTab, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.goToPage(this.props.pairs, this.props.tickers, this.state.page, this.state.searchValue);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (JSON.stringify(this.props.pairs) !== JSON.stringify(nextProps.pairs) || JSON.stringify(this.props.tickers) !== JSON.stringify(nextProps.tickers)) {\n        this.goToPage(nextProps.pairs, nextProps.tickers, this.state.page, this.state.searchValue);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          activeTheme = _this$props2.activeTheme,\n          pairs = _this$props2.pairs,\n          tickers = _this$props2.tickers,\n          coins = _this$props2.coins;\n      var _this$state = this.state,\n          page = _this$state.page,\n          pageSize = _this$state.pageSize,\n          count = _this$state.count,\n          data = _this$state.data;\n      var quickPair = this.props.pair || '';\n\n      if (!this.props.pair && Object.keys(pairs).length) {\n        quickPair = Object.keys(pairs)[0];\n      }\n\n      return React.createElement(\"div\", {\n        className: \"trade_tabs-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"mb-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: activeTheme === 'dark' ? ICONS.LOGO_GREY : ICONS.LOGO_BLACK,\n        alt: \"app logo\",\n        className: \"app-icon d-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"text-center trade-tab-app-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, STRINGS.APP_SUB_TITLE.toUpperCase())), React.createElement(\"div\", {\n        className: \"trade_tabs-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"d-flex justify-content-end\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"trade_tabs-link link-separator\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/quick-trade/\".concat(quickPair),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, STRINGS.QUICK_TRADE)), React.createElement(\"span\", {\n        className: \"trade_tabs-link link-separator\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/account\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, STRINGS.ACCOUNTS.TITLE)), React.createElement(\"span\", {\n        className: \"trade_tabs-link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/wallet\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, STRINGS.WALLET_TITLE))), React.createElement(\"div\", {\n        className: \"w-50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(SearchBox, {\n        name: STRINGS.SEARCH_ASSETS,\n        className: \"trade_tabs-search-field\",\n        outlineClassName: \"trade_tabs-search-outline\",\n        placeHolder: \"\".concat(STRINGS.SEARCH_ASSETS, \"...\"),\n        handleSearch: this.handleTabSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"d-flex flex-wrap p-3 my-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, data.map(function (key, index) {\n        var pair = pairs[key];\n\n        var _ref2 = coins[pair.pair_base || BASE_CURRENCY] || DEFAULT_COIN_DATA,\n            min = _ref2.min,\n            fullname = _ref2.fullname,\n            _ref2$symbol = _ref2.symbol,\n            symbol = _ref2$symbol === void 0 ? '' : _ref2$symbol;\n\n        var pairTwo = coins[pair.pair_2] || DEFAULT_COIN_DATA;\n        var ticker = tickers[key] || {};\n        var priceDifference = (ticker.close || 0) - (ticker.open || 0);\n        var tickerPercent = priceDifference === 0 ? 0 : priceDifference / ticker.open * 100;\n        var priceDifferencePercent = isNaN(tickerPercent) ? formatPercentage(0) : formatPercentage(tickerPercent);\n        return React.createElement(\"div\", {\n          key: index,\n          className: classnames(\"d-flex\", \"trade-tab-list\", \"pointer\", {\n            \"active-tab\": index === 0\n          }),\n          onClick: function onClick() {\n            return _this2.handleClick(key);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"px-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }, React.createElement(ReactSVG, {\n          path: ICONS[\"\".concat(pair.pair_base.toUpperCase(), \"_ICON\")],\n          wrapperClassName: \"trade_tab-icons\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"tabs-pair-details\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"trade_tab-pair-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170\n          },\n          __self: this\n        }, symbol.toUpperCase(), \"/\", pairTwo.symbol ? pairTwo.symbol.toUpperCase() : ''), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        }, fullname, \"/\", pairTwo.fullname), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }, STRINGS.PRICE, \":\", React.createElement(\"span\", {\n          className: \"title-font ml-1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, \"\".concat(pairTwo.symbol.toUpperCase(), \" \").concat(formatAverage(formatToCurrency(ticker.close, min))))), React.createElement(\"div\", {\n          className: \"d-flex\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: priceDifference < 0 ? \"price-diff-down trade-tab-price_diff_down\" : \"trade-tab-price_diff_up price-diff-up\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, formatAverage(formatToCurrency(priceDifference, min))), React.createElement(\"div\", {\n          className: priceDifference < 0 ? \"title-font ml-1 price-diff-down\" : \"title-font ml-1 price-diff-up\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }, \"(\".concat(priceDifferencePercent, \")\"))), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        }, \"\".concat(STRINGS.CHART_TEXTS.v, \": \").concat(ticker.volume, \" \").concat(symbol.toUpperCase()))));\n      })), React.createElement(Paginator, {\n        currentPage: page + 1,\n        pageSize: pageSize,\n        count: count,\n        goToPreviousPage: this.goToPreviousPage,\n        goToNextPage: this.goToNextPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return AddTradeTab;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    activeTheme: store.app.theme,\n    pairs: store.app.pairs,\n    tickers: store.app.tickers,\n    pair: store.app.pair,\n    coins: store.app.coins\n  };\n};\n\nexport default connect(mapStateToProps)(AddTradeTab);","map":{"version":3,"sources":["/home/user/Documents/projects/hollaex/src/containers/TradeTabs/index.js"],"names":["React","Component","connect","Link","ReactSVG","classnames","Paginator","SearchBox","ICONS","BASE_CURRENCY","DEFAULT_COIN_DATA","STRINGS","formatPercentage","formatAverage","formatToCurrency","AddTradeTab","state","page","pageSize","data","count","searchValue","goToPage","pairval","tickers","pairs","getSearchPairs","pairKeys","Object","keys","sort","a","b","tickA","tickB","volume","length","initItem","slice","setState","goToPreviousPage","props","goToNextPage","handleTabSearch","_","value","result","coins","toLowerCase","trim","map","key","temp","pair_base","fullname","cashName","indexOf","pair_2","handleClick","pair","tabs","localStorage","getItem","JSON","parse","push","setItem","stringify","router","nextProps","activeTheme","quickPair","LOGO_GREY","LOGO_BLACK","APP_SUB_TITLE","toUpperCase","QUICK_TRADE","ACCOUNTS","TITLE","WALLET_TITLE","SEARCH_ASSETS","index","min","symbol","pairTwo","ticker","priceDifference","close","open","tickerPercent","priceDifferencePercent","isNaN","PRICE","CHART_TEXTS","v","mapStateToProps","store","app","theme"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router';\nimport ReactSVG from 'react-svg';\nimport classnames from 'classnames';\n\nimport { Paginator, SearchBox } from '../../components';\nimport { ICONS, BASE_CURRENCY, DEFAULT_COIN_DATA } from '../../config/constants';\nimport STRINGS from '../../config/localizedStrings';\nimport { formatPercentage, formatAverage, formatToCurrency } from '../../utils/currency';\n\nclass AddTradeTab extends Component {\n    state = {\n        page: 0,\n        pageSize: 9,\n        data: [],\n        count: 0,\n        searchValue: ''\n    };\n\n    componentDidMount() {\n        this.goToPage(this.props.pairs, this.props.tickers, this.state.page, this.state.searchValue);\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if ((JSON.stringify(this.props.pairs) !== JSON.stringify(nextProps.pairs)\n            || (JSON.stringify(this.props.tickers) !== JSON.stringify(nextProps.tickers)))) {\n            this.goToPage(nextProps.pairs, nextProps.tickers, this.state.page, this.state.searchValue);\n        }\n    }\n\n    goToPage = (pairval, tickers, page, searchValue) => {\n        const { pageSize } = this.state;\n        const pairs = searchValue ? this.getSearchPairs(searchValue) : pairval;\n        const pairKeys = Object.keys(pairs).sort((a, b) => {\n            let tickA = tickers[a] || {};\n            let tickB = tickers[b] || {};\n            return tickB.volume - tickA.volume;\n        });\n        const count = pairKeys.length;\n        const initItem = page * pageSize;\n        if (initItem < count) {\n            const data = pairKeys.slice(initItem, initItem + pageSize);\n            this.setState({ data, page, count });\n        } else {\n            this.setState({ data: pairKeys, page, count });\n        }\n    };\n\n    goToPreviousPage = () => {\n        this.goToPage(\n            this.props.pairs,\n            this.props.tickers,\n            this.state.page - 1,\n            this.state.searchValue\n        );\n    };\n\n    goToNextPage = () => {\n        this.goToPage(\n            this.props.pairs,\n            this.props.tickers,\n            this.state.page + 1,\n            this.state.searchValue\n        );\n    };\n\n    handleTabSearch = (_, value) => {\n        if (value) {\n            const result = this.getSearchPairs(value);\n            this.goToPage(\n                result,\n                this.props.tickers,\n                0,\n                value\n            );\n        } else {\n            this.goToPage(\n                this.props.pairs,\n                this.props.tickers,\n                this.state.page,\n                value\n            );\n        }\n        this.setState({ searchValue: value });\n    };\n\n    getSearchPairs = value => {\n        const { pairs, coins } = this.props;\n        let result = {};\n        let searchValue = value.toLowerCase().trim();\n        Object.keys(pairs).map(key => {\n            let temp = pairs[key];\n            const { fullname } = coins[temp.pair_base] || DEFAULT_COIN_DATA;\n            let cashName = fullname ? fullname.toLowerCase() : '';\n            if (key.indexOf(searchValue) !== -1 ||\n                temp.pair_base.indexOf(searchValue) !== -1 ||\n                temp.pair_2.indexOf(searchValue) !== -1 ||\n                cashName.indexOf(searchValue) !== -1) {\n                result[key] = temp;\n            }\n            return key;\n        });\n        return result;\n    };\n\n    handleClick = pair => {\n        let tabs = localStorage.getItem('tabs');\n        tabs = tabs ? JSON.parse(tabs) : [];\n        tabs.push(pair);\n        localStorage.setItem('tabs', JSON.stringify(tabs));\n        this.props.router.push(`/trade/${pair}`);\n    };\n\n    render() {\n        const { activeTheme, pairs, tickers, coins } = this.props;\n        const { page, pageSize, count, data } = this.state;\n        let quickPair = this.props.pair || '';\n        if (!this.props.pair && Object.keys(pairs).length) {\n            quickPair = Object.keys(pairs)[0];\n        }\n        return (\n            <div className=\"trade_tabs-container\">\n                <div className=\"mb-5\">\n                    <img\n                        src={activeTheme === 'dark' ? ICONS.LOGO_GREY : ICONS.LOGO_BLACK}\n                        alt=\"app logo\"\n                        className=\"app-icon d-flex\" />\n                    <div className=\"text-center trade-tab-app-title\">{STRINGS.APP_SUB_TITLE.toUpperCase()}</div>\n                </div>\n                <div className=\"trade_tabs-content\">\n                    <div className=\"d-flex justify-content-end\">\n                        <span className=\"trade_tabs-link link-separator\">\n                            <Link to={`/quick-trade/${quickPair}`}>{STRINGS.QUICK_TRADE}</Link>\n                        </span>\n                        <span className=\"trade_tabs-link link-separator\">\n                            <Link to=\"/account\">{STRINGS.ACCOUNTS.TITLE}</Link>\n                        </span>\n                        <span className=\"trade_tabs-link\">\n                            <Link to=\"/wallet\">{STRINGS.WALLET_TITLE}</Link>\n                        </span>\n                    </div>\n                    <div className=\"w-50\">\n                        <SearchBox\n                            name={STRINGS.SEARCH_ASSETS}\n                            className=\"trade_tabs-search-field\"\n                            outlineClassName=\"trade_tabs-search-outline\"\n                            placeHolder={`${STRINGS.SEARCH_ASSETS}...`}\n                            handleSearch={this.handleTabSearch}\n                        />\n                    </div>\n                    <div className=\"d-flex flex-wrap p-3 my-5\">\n                        {data.map((key, index) => {\n                            let pair = pairs[key];\n                            let { min, fullname, symbol = '' } = coins[pair.pair_base || BASE_CURRENCY] || DEFAULT_COIN_DATA;\n                            const pairTwo = coins[pair.pair_2] || DEFAULT_COIN_DATA;\n                            let ticker = tickers[key] || {};\n                            const priceDifference = (ticker.close || 0) - (ticker.open || 0);\n                            const tickerPercent = priceDifference === 0 ? 0 : ((priceDifference / ticker.open) * 100);\n                            const priceDifferencePercent = isNaN(tickerPercent) ? formatPercentage(0) : formatPercentage(tickerPercent);\n                            return (\n                                <div\n                                    key={index}\n                                    className={classnames(\"d-flex\", \"trade-tab-list\", \"pointer\", { \"active-tab\": index === 0 })}\n                                    onClick={() => this.handleClick(key)}>\n                                    <div className=\"px-2\">\n                                        <ReactSVG path={ICONS[`${pair.pair_base.toUpperCase()}_ICON`]} wrapperClassName=\"trade_tab-icons\" />\n                                    </div>\n                                    <div className=\"tabs-pair-details\">\n                                        <div className=\"trade_tab-pair-title\">\n                                            {symbol.toUpperCase()}/{pairTwo.symbol ? pairTwo.symbol.toUpperCase() : ''}\n                                        </div>\n                                        <div>\n                                            {fullname}/{pairTwo.fullname}\n                                        </div>\n                                        <div>{STRINGS.PRICE}:\n                                            <span className=\"title-font ml-1\">\n                                                {`${pairTwo.symbol.toUpperCase()} ${formatAverage(formatToCurrency(ticker.close, min))}`}\n                                            </span>\n                                        </div>\n                                        <div className=\"d-flex\">\n                                            <div className={priceDifference < 0 ? \"price-diff-down trade-tab-price_diff_down\" : \"trade-tab-price_diff_up price-diff-up\"}>\n                                                {formatAverage(formatToCurrency(priceDifference, min))}\n                                            </div>\n                                            <div\n                                                className={priceDifference < 0\n                                                    ? \"title-font ml-1 price-diff-down\" : \"title-font ml-1 price-diff-up\"}>\n                                                {`(${priceDifferencePercent})`}\n                                            </div>\n                                        </div>\n                                        <div>{`${STRINGS.CHART_TEXTS.v}: ${ticker.volume} ${symbol.toUpperCase()}`}</div>\n                                    </div>\n                                </div>\n                            )\n                        })}\n                    </div>\n                    <Paginator\n                        currentPage={page + 1}\n                        pageSize={pageSize}\n                        count={count}\n                        goToPreviousPage={this.goToPreviousPage}\n                        goToNextPage={this.goToNextPage}\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (store) => ({\n    activeTheme: store.app.theme,\n    pairs: store.app.pairs,\n    tickers: store.app.tickers,\n    pair: store.app.pair,\n    coins: store.app.coins\n});\n\nexport default connect(mapStateToProps)(AddTradeTab);"]},"metadata":{},"sourceType":"module"}