{"ast":null,"code":"import _slicedToArray from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/Documents/projects/hollaex/src/components/Chat/ChatMessage.js\";\nimport React, { Component } from 'react';\nimport classnames from 'classnames';\nimport moment from 'moment';\nimport STRINGS from '../../config/localizedStrings';\nimport TruncateMarkup from 'react-truncate-markup';\nimport { ICONS } from '../../config/constants';\nimport { USER_TYPES } from '../../actions/appActions';\nimport ReactSVG from 'react-svg';\nvar MAX_LINES = 5;\nvar MESSAGE_OPTIONS = {\n  DELETE_MESSAGE: 'Remove'\n};\nvar TIME_LIMIT = 10000;\n\nvar ReadMore = function ReadMore(_ref) {\n  var onClick = _ref.onClick;\n  return React.createElement(\"div\", {\n    className: \"d-inline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, \"...\"), React.createElement(\"span\", {\n    className: \"toggle-content\",\n    onClick: onClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, STRINGS.CHAT.READ_MORE)));\n};\n\nvar Timestamp = function Timestamp(_ref2) {\n  var timestamp = _ref2.timestamp;\n  return React.createElement(\"div\", {\n    className: \"timestamp\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, Math.abs(moment().diff(timestamp)) < TIME_LIMIT ? STRINGS.JUST_NOW : moment(timestamp).fromNow());\n};\n\nvar ChatMessageWithText =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ChatMessageWithText, _Component);\n\n  function ChatMessageWithText() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ChatMessageWithText);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ChatMessageWithText)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      maxLines: MAX_LINES\n    };\n\n    _this.showMore = function () {\n      _this.setState({\n        maxLines: 500\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(ChatMessageWithText, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          username = _this$props.username,\n          to = _this$props.to,\n          messageContent = _this$props.messageContent,\n          ownMessage = _this$props.ownMessage,\n          timestamp = _this$props.timestamp,\n          verification_level = _this$props.verification_level;\n      var maxLines = this.state.maxLines;\n      return React.createElement(\"div\", {\n        className: classnames('nonmobile'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(Timestamp, {\n        timestamp: timestamp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"d-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"mx-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, verification_level === 3 || verification_level >= 4 ? React.createElement(ReactSVG, {\n        path: verification_level >= 4 ? ICONS.CHAT_ICON_LVL_4 : ICONS[\"CHAT_ICON_LVL_\".concat(verification_level)],\n        wrapperClassName: \"user-icon mr-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        className: \"user-icon mr-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"d-flex mr-1 own-message username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"\".concat(username, \":\")), to && React.createElement(\"div\", {\n        className: \"mr-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"\".concat(to, \":\")), ownMessage ? React.createElement(\"div\", {\n        className: \"d-inline message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, messageContent) : React.createElement(TruncateMarkup, {\n        className: \"d-inline message\",\n        lines: maxLines,\n        ellipsis: React.createElement(ReadMore, {\n          onClick: function onClick() {\n            return _this2.showMore();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"d-inline message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, messageContent)))));\n    }\n  }]);\n\n  return ChatMessageWithText;\n}(Component);\n\nvar ChatMessageWithImage =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(ChatMessageWithImage, _Component2);\n\n  function ChatMessageWithImage() {\n    var _getPrototypeOf3;\n\n    var _this3;\n\n    _classCallCheck(this, ChatMessageWithImage);\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    _this3 = _possibleConstructorReturn(this, (_getPrototypeOf3 = _getPrototypeOf(ChatMessageWithImage)).call.apply(_getPrototypeOf3, [this].concat(args)));\n    _this3.state = {\n      hideImage: false\n    };\n\n    _this3.toggleImage = function (condition) {\n      _this3.setState({\n        hideImage: condition\n      });\n    };\n\n    return _this3;\n  }\n\n  _createClass(ChatMessageWithImage, [{\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$props2 = this.props,\n          username = _this$props2.username,\n          to = _this$props2.to,\n          messageType = _this$props2.messageType,\n          messageContent = _this$props2.messageContent,\n          timestamp = _this$props2.timestamp,\n          verification_level = _this$props2.verification_level;\n      var hideImage = this.state.hideImage;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"d-flex flex-row justify-content-end\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(Timestamp, {\n        timestamp: timestamp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: classnames(hideImage ? 'hide' : 'show'),\n        onClick: function onClick() {\n          return _this4.toggleImage(!hideImage);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"toggle-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, hideImage ? STRINGS.CHAT.SHOW_IMAGE : STRINGS.CHAT.HIDE_IMAGE))), React.createElement(\"div\", {\n        className: \"d-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"mx-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, verification_level === 3 || verification_level === 4 ? React.createElement(ReactSVG, {\n        path: verification_level >= 4 ? ICONS.CHAT_ICON_LVL_4 : ICONS[\"CHAT_ICON_LVL_\".concat(verification_level)],\n        wrapperClassName: \"user-icon mr-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        className: \"user-icon mr-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"d-inline username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"\".concat(username, \":\")), to && React.createElement(\"div\", {\n        className: \"d-inline mr-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"\".concat(to, \":\"))), !hideImage && React.createElement(\"img\", {\n        className: messageType,\n        src: messageContent,\n        style: {\n          width: '4rem',\n          height: \"4rem\"\n        },\n        alt: \"img\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return ChatMessageWithImage;\n}(Component);\n\nexport var ChatMessage =\n/*#__PURE__*/\nfunction (_Component3) {\n  _inherits(ChatMessage, _Component3);\n\n  function ChatMessage() {\n    var _getPrototypeOf4;\n\n    var _this5;\n\n    _classCallCheck(this, ChatMessage);\n\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    _this5 = _possibleConstructorReturn(this, (_getPrototypeOf4 = _getPrototypeOf(ChatMessage)).call.apply(_getPrototypeOf4, [this].concat(args)));\n    _this5.state = {\n      showOptions: false\n    };\n\n    _this5.toggleOptions = function () {\n      _this5.setState({\n        showOptions: !_this5.state.showOptions\n      });\n    };\n\n    _this5.onClickOption = function (key, id) {\n      switch (key) {\n        case 'DELETE_MESSAGE':\n          return _this5.props.removeMessage(id);\n\n        default:\n          break;\n      }\n    };\n\n    return _this5;\n  }\n\n  _createClass(ChatMessage, [{\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      var _this$props3 = this.props,\n          id = _this$props3.id,\n          userType = _this$props3.userType,\n          to = _this$props3.to,\n          messageType = _this$props3.messageType,\n          messageContent = _this$props3.messageContent,\n          ownMessage = _this$props3.ownMessage,\n          timestamp = _this$props3.timestamp,\n          verification_level = _this$props3.verification_level;\n      var showOptions = this.state.showOptions;\n      var imageType = messageType === 'image';\n      var username = this.props.username.username ? this.props.username.username : this.props.username;\n      return React.createElement(\"div\", {\n        className: classnames('d-flex', 'flex-row', 'flex-1', 'chat-message', 'justify-content-between', ownMessage && 'user'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classnames('message-content', messageType),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, imageType ? React.createElement(ChatMessageWithImage, {\n        username: username,\n        to: to,\n        messageContent: messageContent,\n        messageType: messageType,\n        timestamp: timestamp,\n        verification_level: verification_level,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }) : React.createElement(ChatMessageWithText, {\n        username: username,\n        to: to,\n        messageContent: messageContent,\n        ownMessage: ownMessage,\n        timestamp: timestamp,\n        verification_level: verification_level,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"d-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, userType === USER_TYPES.USER_TYPE_ADMIN && React.createElement(\"div\", {\n        className: \"d-flex item-options\",\n        onClick: this.toggleOptions,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(ReactSVG, {\n        path: ICONS.ITEM_OPTIONS,\n        className: \"item-options-icon\",\n        wrapperClassName: \"item-options-icon-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }), showOptions && React.createElement(\"div\", {\n        className: \"item-options-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, Object.entries(MESSAGE_OPTIONS).map(function (_ref3, index) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n            key = _ref4[0],\n            value = _ref4[1];\n\n        return React.createElement(\"div\", {\n          key: index,\n          className: \"d-flex item-option\",\n          onClick: function onClick() {\n            return _this6.onClickOption(key, id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214\n          },\n          __self: this\n        }, value);\n      })))));\n    }\n  }]);\n\n  return ChatMessage;\n}(Component);","map":{"version":3,"sources":["/home/user/Documents/projects/hollaex/src/components/Chat/ChatMessage.js"],"names":["React","Component","classnames","moment","STRINGS","TruncateMarkup","ICONS","USER_TYPES","ReactSVG","MAX_LINES","MESSAGE_OPTIONS","DELETE_MESSAGE","TIME_LIMIT","ReadMore","onClick","CHAT","READ_MORE","Timestamp","timestamp","Math","abs","diff","JUST_NOW","fromNow","ChatMessageWithText","state","maxLines","showMore","setState","props","username","to","messageContent","ownMessage","verification_level","CHAT_ICON_LVL_4","ChatMessageWithImage","hideImage","toggleImage","condition","messageType","SHOW_IMAGE","HIDE_IMAGE","width","height","ChatMessage","showOptions","toggleOptions","onClickOption","key","id","removeMessage","userType","imageType","USER_TYPE_ADMIN","ITEM_OPTIONS","Object","entries","map","index","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport classnames from 'classnames';\nimport moment from 'moment';\nimport STRINGS from '../../config/localizedStrings';\nimport TruncateMarkup from 'react-truncate-markup';\nimport { ICONS } from '../../config/constants';\nimport { USER_TYPES } from '../../actions/appActions';\nimport ReactSVG from 'react-svg';\n\nconst MAX_LINES = 5;\n\nconst MESSAGE_OPTIONS = {\n\tDELETE_MESSAGE: 'Remove'\n};\n\nconst TIME_LIMIT = 10000;\n\nconst ReadMore = ({ onClick }) => (\n\t<div className=\"d-inline\">\n\t\t<span>...</span>\n\t\t<span className=\"toggle-content\" onClick={onClick}>\n\t\t\t<span>{STRINGS.CHAT.READ_MORE}</span>\n\t\t</span>\n\t</div>\n);\n\nconst Timestamp = ({ timestamp }) => (\n\t<div className=\"timestamp\">\n\t\t{Math.abs(moment().diff(timestamp)) < TIME_LIMIT\n\t\t\t? STRINGS.JUST_NOW\n\t\t\t: moment(timestamp).fromNow()}\n\t</div>\n);\n\nclass ChatMessageWithText extends Component {\n\tstate = {\n\t\tmaxLines: MAX_LINES\n\t};\n\n\tshowMore = () => {\n\t\tthis.setState({ maxLines: 500 });\n\t};\n\n\trender() {\n\t\tconst { username, to, messageContent, ownMessage, timestamp, verification_level } = this.props;\n\t\tconst { maxLines } = this.state;\n\t\treturn (\n\t\t\t<div className={classnames('nonmobile')}>\n\t\t\t\t<Timestamp timestamp={timestamp} />\n\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t<div className=\"mx-2\">\n\t\t\t\t\t\t{verification_level === 3 || verification_level >= 4\n\t\t\t\t\t\t\t? <ReactSVG\n\t\t\t\t\t\t\t\tpath={verification_level >= 4\n\t\t\t\t\t\t\t\t\t? ICONS.CHAT_ICON_LVL_4\n\t\t\t\t\t\t\t\t\t: ICONS[`CHAT_ICON_LVL_${verification_level}`]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twrapperClassName=\"user-icon mr-1\" />\n\t\t\t\t\t\t\t: <div className=\"user-icon mr-1\"></div>}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className=\"d-flex mr-1 own-message username\">\n\t\t\t\t\t\t\t{`${username}:`}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{to && <div className=\"mr-1\">{`${to}:`}</div>}\n\t\t\t\t\t\t{ownMessage ? (\n\t\t\t\t\t\t\t<div className=\"d-inline message\">{messageContent}</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<TruncateMarkup\n\t\t\t\t\t\t\t\tclassName=\"d-inline message\"\n\t\t\t\t\t\t\t\tlines={maxLines}\n\t\t\t\t\t\t\t\tellipsis={<ReadMore onClick={() => this.showMore()} />}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"d-inline message\">{messageContent}</div>\n\t\t\t\t\t\t\t</TruncateMarkup>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass ChatMessageWithImage extends Component {\n\tstate = {\n\t\thideImage: false\n\t};\n\n\ttoggleImage = (condition) => {\n\t\tthis.setState({ hideImage: condition });\n\t};\n\n\trender() {\n\t\tconst { username, to, messageType, messageContent, timestamp, verification_level } = this.props;\n\t\tconst { hideImage } = this.state;\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className=\"d-flex flex-row justify-content-end\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Timestamp timestamp={timestamp} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={classnames(hideImage ? 'hide' : 'show')}\n\t\t\t\t\t\tonClick={() => this.toggleImage(!hideImage)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span className=\"toggle-content\">\n\t\t\t\t\t\t\t{hideImage ? STRINGS.CHAT.SHOW_IMAGE : STRINGS.CHAT.HIDE_IMAGE}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t<div className=\"mx-2\">\n\t\t\t\t\t\t{verification_level === 3 || verification_level === 4\n\t\t\t\t\t\t\t? <ReactSVG \n\t\t\t\t\t\t\t\tpath={ verification_level >= 4\n\t\t\t\t\t\t\t\t\t? ICONS.CHAT_ICON_LVL_4\n\t\t\t\t\t\t\t\t\t: ICONS[`CHAT_ICON_LVL_${verification_level}`]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twrapperClassName=\"user-icon mr-1\" />\n\t\t\t\t\t\t\t: <div className=\"user-icon mr-1\"></div>}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"d-inline username\">{`${username}:`}</div>\n\t\t\t\t\t\t\t{to && <div className=\"d-inline mr-1\">{`${to}:`}</div>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{!hideImage && (\n\t\t\t\t\t\t\t<img className={messageType} src={messageContent} style={{ width: '4rem', height: \"4rem\" }} alt=\"img\" />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport class ChatMessage extends Component {\n\tstate = {\n\t\tshowOptions: false\n\t};\n\n\ttoggleOptions = () => {\n\t\tthis.setState({ showOptions: !this.state.showOptions });\n\t};\n\n\tonClickOption = (key, id) => {\n\t\tswitch (key) {\n\t\t\tcase 'DELETE_MESSAGE':\n\t\t\t\treturn this.props.removeMessage(id);\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tid,\n\t\t\tuserType,\n\t\t\tto,\n\t\t\tmessageType,\n\t\t\tmessageContent,\n\t\t\townMessage,\n\t\t\ttimestamp,\n\t\t\tverification_level\n\t\t} = this.props;\n\t\tconst { showOptions } = this.state;\n\t\tconst imageType = messageType === 'image';\n\t\tconst username = this.props.username.username ? this.props.username.username : this.props.username;\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={classnames(\n\t\t\t\t\t'd-flex',\n\t\t\t\t\t'flex-row',\n\t\t\t\t\t'flex-1',\n\t\t\t\t\t'chat-message',\n\t\t\t\t\t'justify-content-between',\n\t\t\t\t\townMessage && 'user'\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t<div className={classnames('message-content', messageType)}>\n\t\t\t\t\t{imageType ? (\n\t\t\t\t\t\t<ChatMessageWithImage\n\t\t\t\t\t\t\tusername={username}\n\t\t\t\t\t\t\tto={to}\n\t\t\t\t\t\t\tmessageContent={messageContent}\n\t\t\t\t\t\t\tmessageType={messageType}\n\t\t\t\t\t\t\ttimestamp={timestamp}\n\t\t\t\t\t\t\tverification_level={verification_level}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ChatMessageWithText\n\t\t\t\t\t\t\tusername={username}\n\t\t\t\t\t\t\tto={to}\n\t\t\t\t\t\t\tmessageContent={messageContent}\n\t\t\t\t\t\t\townMessage={ownMessage}\n\t\t\t\t\t\t\ttimestamp={timestamp}\n\t\t\t\t\t\t\tverification_level={verification_level}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"d-flex\">\n\t\t\t\t\t{userType === USER_TYPES.USER_TYPE_ADMIN && (\n\t\t\t\t\t\t<div className=\"d-flex item-options\" onClick={this.toggleOptions}>\n\t\t\t\t\t\t\t<ReactSVG\n\t\t\t\t\t\t\t\tpath={ICONS.ITEM_OPTIONS}\n\t\t\t\t\t\t\t\tclassName=\"item-options-icon\"\n\t\t\t\t\t\t\t\twrapperClassName=\"item-options-icon-wrapper\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{showOptions && (\n\t\t\t\t\t\t\t\t<div className=\"item-options-wrapper\">\n\t\t\t\t\t\t\t\t\t{Object.entries(MESSAGE_OPTIONS).map(\n\t\t\t\t\t\t\t\t\t\t([key, value], index) => (\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex item-option\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onClickOption(key, id)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{value}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}