{"ast":null,"code":"import _objectSpread from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _objectWithoutProperties from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport axios from 'axios';\nimport querystring from 'query-string'; // import { all } from 'bluebird';\n\nexport var ACTION_KEYS = {\n  ADD_USER_TRADES: 'ADD_USER_TRADES',\n  USER_TRADES_PENDING: 'USER_TRADES_PENDING',\n  USER_TRADES_FULFILLED: 'USER_TRADES_FULFILLED',\n  USER_TRADES_REJECTED: 'USER_TRADES_REJECTED',\n  USER_DEPOSITS_PENDING: 'USER_DEPOSITS_PENDING',\n  USER_DEPOSITS_FULFILLED: 'USER_DEPOSITS_FULFILLED',\n  USER_DEPOSITS_REJECTED: 'USER_DEPOSITS_REJECTED',\n  USER_WITHDRAWALS_PENDING: 'USER_WITHDRAWALS_PENDING',\n  USER_WITHDRAWALS_FULFILLED: 'USER_WITHDRAWALS_FULFILLED',\n  USER_WITHDRAWALS_REJECTED: 'USER_WITHDRAWALS_REJECTED',\n  USER_WITHDRAWALS_BTC_FEE_PENDING: 'USER_WITHDRAWALS_BTC_FEE_PENDING',\n  USER_WITHDRAWALS_BTC_FEE_FULFILLED: 'USER_WITHDRAWALS_BTC_FEE_FULFILLED',\n  USER_WITHDRAWALS_BTC_FEE_REJECTED: 'USER_WITHDRAWALS_BTC_FEE_REJECTED',\n  DEPOSIT_VERIFICATION_PENDING: 'DEPOSIT_VERIFICATION_PENDING',\n  DEPOSIT_VERIFICATION_FULFILLED: 'DEPOSIT_VERIFICATION_FULFILLED',\n  DEPOSIT_VERIFICATION_REJECTED: 'DEPOSIT_VERIFICATION_REJECTED',\n  WITHDRAWAL_CANCEL_PENDING: 'WITHDRAWAL_CANCEL_PENDING',\n  WITHDRAWAL_CANCEL_FULFILLED: 'WITHDRAWAL_CANCEL_FULFILLED',\n  WITHDRAWAL_CANCEL_REJECTED: 'WITHDRAWAL_CANCEL_REJECTED'\n};\nvar ENDPOINTS = {\n  TRADES: '/user/trades',\n  DEPOSITS: '/user/deposits',\n  WITHDRAWALS: '/user/withdrawals',\n  DEPOSIT_BANK: '/user/deposit/bank',\n  WITHDRAW_BANK: '/user/withdraw/bank',\n  WITHDRAW: function WITHDRAW(currency) {\n    return \"/user/request-withdrawal\";\n  },\n  WITHDRAW_FEE: function WITHDRAW_FEE(currency) {\n    return \"/user/withdraw/\".concat(currency, \"/fee\");\n  },\n  CANCEL_WITHDRAWAL: '/user/withdrawals',\n  CONFIRM_WITHDRAWAL: '/user/confirm-withdrawal'\n};\nexport var performWithdraw = function performWithdraw(currency, values) {\n  return axios.post(ENDPOINTS.WITHDRAW(currency), values);\n};\nexport var requestWithdrawFee = function requestWithdrawFee() {\n  var currency = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'btc';\n  return function (dispatch) {\n    dispatch({\n      type: ACTION_KEYS.USER_WITHDRAWALS_BTC_FEE_PENDING\n    });\n    axios.get(ENDPOINTS.WITHDRAW_FEE(currency)).then(function (body) {\n      dispatch({\n        type: ACTION_KEYS.USER_WITHDRAWALS_BTC_FEE_FULFILLED,\n        payload: body.data\n      });\n    }).catch(function (err) {\n      var payload = err.response.data || {\n        message: err.message\n      };\n      dispatch({\n        type: ACTION_KEYS.USER_WITHDRAWALS_BTC_FEE_REJECTED,\n        payload: payload\n      });\n    });\n  };\n};\nexport var withdrawalCancel = function withdrawalCancel(transactionId) {\n  return function (dispatch) {\n    dispatch({\n      type: ACTION_KEYS.WITHDRAWAL_CANCEL_PENDING\n    });\n    axios.delete(ENDPOINTS.CANCEL_WITHDRAWAL, {\n      data: {\n        transactionId: parseInt(transactionId.transactionId, 10)\n      }\n    }).then(function (body) {\n      dispatch({\n        type: ACTION_KEYS.WITHDRAWAL_CANCEL_FULFILLED,\n        payload: body.data\n      });\n    }).catch(function (err) {\n      var payload = err.response.data || {\n        message: err.message\n      };\n      dispatch({\n        type: ACTION_KEYS.WITHDRAWAL_CANCEL_REJECTED,\n        payload: payload\n      });\n    });\n  };\n};\nexport var addUserTrades = function addUserTrades(trades) {\n  return {\n    type: ACTION_KEYS.ADD_USER_TRADES,\n    payload: {\n      trades: trades\n    }\n  };\n};\nexport var getUserTrades = function getUserTrades(_ref) {\n  var _ref$symbol = _ref.symbol,\n      symbol = _ref$symbol === void 0 ? 'btc' : _ref$symbol,\n      _ref$limit = _ref.limit,\n      limit = _ref$limit === void 0 ? 50 : _ref$limit,\n      _ref$page = _ref.page,\n      page = _ref$page === void 0 ? 1 : _ref$page,\n      rest = _objectWithoutProperties(_ref, [\"symbol\", \"limit\", \"page\"]);\n\n  var query = querystring.stringify({\n    symbol: symbol,\n    page: page,\n    limit: limit\n  });\n  return function (dispatch) {\n    dispatch({\n      type: ACTION_KEYS.USER_TRADES_PENDING,\n      payload: {\n        page: page\n      }\n    });\n    axios.get(\"\".concat(ENDPOINTS.TRADES, \"?\").concat(query)).then(function (body) {\n      dispatch({\n        type: ACTION_KEYS.USER_TRADES_FULFILLED,\n        payload: _objectSpread({}, body.data, {\n          page: page,\n          isRemaining: body.data.count > page * limit\n        })\n      }); // if (body.data.count > page * limit) {\n      // \tdispatch(getUserTrades({ symbol, limit, page: page + 1 }));\n      // }\n    }).catch(function (err) {\n      dispatch({\n        type: ACTION_KEYS.USER_TRADES_REJECTED,\n        payload: err.response\n      });\n    });\n  };\n};\nexport var getUserDeposits = function getUserDeposits(_ref2) {\n  var _ref2$symbol = _ref2.symbol,\n      symbol = _ref2$symbol === void 0 ? 'btc' : _ref2$symbol,\n      _ref2$limit = _ref2.limit,\n      limit = _ref2$limit === void 0 ? 50 : _ref2$limit,\n      _ref2$page = _ref2.page,\n      page = _ref2$page === void 0 ? 1 : _ref2$page,\n      rest = _objectWithoutProperties(_ref2, [\"symbol\", \"limit\", \"page\"]);\n\n  var query = querystring.stringify({\n    symbol: symbol,\n    page: page,\n    limit: limit\n  });\n  return function (dispatch) {\n    dispatch({\n      type: ACTION_KEYS.USER_DEPOSITS_PENDING,\n      payload: {\n        page: page\n      }\n    });\n    axios.get(\"\".concat(ENDPOINTS.DEPOSITS, \"?\").concat(query)).then(function (body) {\n      dispatch({\n        type: ACTION_KEYS.USER_DEPOSITS_FULFILLED,\n        payload: _objectSpread({}, body.data, {\n          page: page,\n          isRemaining: body.data.count > page * limit\n        })\n      }); // if (body.data.count > page * limit) {\n      // \tdispatch(getUserDeposits({ limit, page: page + 1 }));\n      // }\n    }).catch(function (err) {\n      dispatch({\n        type: ACTION_KEYS.USER_DEPOSITS_REJECTED,\n        payload: err.response\n      });\n    });\n  };\n};\nexport var getUserWithdrawals = function getUserWithdrawals(_ref3) {\n  var _ref3$symbol = _ref3.symbol,\n      symbol = _ref3$symbol === void 0 ? 'btc' : _ref3$symbol,\n      _ref3$limit = _ref3.limit,\n      limit = _ref3$limit === void 0 ? 50 : _ref3$limit,\n      _ref3$page = _ref3.page,\n      page = _ref3$page === void 0 ? 1 : _ref3$page,\n      rest = _objectWithoutProperties(_ref3, [\"symbol\", \"limit\", \"page\"]);\n\n  var query = querystring.stringify({\n    symbol: symbol,\n    page: page,\n    limit: limit\n  });\n  return function (dispatch) {\n    dispatch({\n      type: ACTION_KEYS.USER_WITHDRAWALS_PENDING,\n      payload: {\n        page: page\n      }\n    });\n    axios.get(\"\".concat(ENDPOINTS.WITHDRAWALS, \"?\").concat(query)).then(function (body) {\n      dispatch({\n        type: ACTION_KEYS.USER_WITHDRAWALS_FULFILLED,\n        payload: _objectSpread({}, body.data, {\n          page: page,\n          isRemaining: body.data.count > page * limit\n        })\n      }); // if (body.data.count > page * limit) {\n      // \tdispatch(getUserWithdrawals({ limit, page: page + 1 }));\n      // }\n    }).catch(function (err) {\n      dispatch({\n        type: ACTION_KEYS.USER_WITHDRAWALS_REJECTED,\n        payload: err.response\n      });\n    });\n  };\n};\nexport var performConfirmWithdrawal = function performConfirmWithdrawal(token) {\n  return axios.post(ENDPOINTS.CONFIRM_WITHDRAWAL, {\n    token: token\n  });\n};","map":{"version":3,"sources":["/home/user/Documents/projects/hollaex/src/actions/walletActions.js"],"names":["axios","querystring","ACTION_KEYS","ADD_USER_TRADES","USER_TRADES_PENDING","USER_TRADES_FULFILLED","USER_TRADES_REJECTED","USER_DEPOSITS_PENDING","USER_DEPOSITS_FULFILLED","USER_DEPOSITS_REJECTED","USER_WITHDRAWALS_PENDING","USER_WITHDRAWALS_FULFILLED","USER_WITHDRAWALS_REJECTED","USER_WITHDRAWALS_BTC_FEE_PENDING","USER_WITHDRAWALS_BTC_FEE_FULFILLED","USER_WITHDRAWALS_BTC_FEE_REJECTED","DEPOSIT_VERIFICATION_PENDING","DEPOSIT_VERIFICATION_FULFILLED","DEPOSIT_VERIFICATION_REJECTED","WITHDRAWAL_CANCEL_PENDING","WITHDRAWAL_CANCEL_FULFILLED","WITHDRAWAL_CANCEL_REJECTED","ENDPOINTS","TRADES","DEPOSITS","WITHDRAWALS","DEPOSIT_BANK","WITHDRAW_BANK","WITHDRAW","currency","WITHDRAW_FEE","CANCEL_WITHDRAWAL","CONFIRM_WITHDRAWAL","performWithdraw","values","post","requestWithdrawFee","dispatch","type","get","then","body","payload","data","catch","err","response","message","withdrawalCancel","transactionId","delete","parseInt","addUserTrades","trades","getUserTrades","symbol","limit","page","rest","query","stringify","isRemaining","count","getUserDeposits","getUserWithdrawals","performConfirmWithdrawal","token"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport querystring from 'query-string';\n// import { all } from 'bluebird';\n\nexport const ACTION_KEYS = {\n\tADD_USER_TRADES: 'ADD_USER_TRADES',\n\tUSER_TRADES_PENDING: 'USER_TRADES_PENDING',\n\tUSER_TRADES_FULFILLED: 'USER_TRADES_FULFILLED',\n\tUSER_TRADES_REJECTED: 'USER_TRADES_REJECTED',\n\tUSER_DEPOSITS_PENDING: 'USER_DEPOSITS_PENDING',\n\tUSER_DEPOSITS_FULFILLED: 'USER_DEPOSITS_FULFILLED',\n\tUSER_DEPOSITS_REJECTED: 'USER_DEPOSITS_REJECTED',\n\tUSER_WITHDRAWALS_PENDING: 'USER_WITHDRAWALS_PENDING',\n\tUSER_WITHDRAWALS_FULFILLED: 'USER_WITHDRAWALS_FULFILLED',\n\tUSER_WITHDRAWALS_REJECTED: 'USER_WITHDRAWALS_REJECTED',\n\tUSER_WITHDRAWALS_BTC_FEE_PENDING: 'USER_WITHDRAWALS_BTC_FEE_PENDING',\n\tUSER_WITHDRAWALS_BTC_FEE_FULFILLED: 'USER_WITHDRAWALS_BTC_FEE_FULFILLED',\n\tUSER_WITHDRAWALS_BTC_FEE_REJECTED: 'USER_WITHDRAWALS_BTC_FEE_REJECTED',\n\tDEPOSIT_VERIFICATION_PENDING: 'DEPOSIT_VERIFICATION_PENDING',\n\tDEPOSIT_VERIFICATION_FULFILLED: 'DEPOSIT_VERIFICATION_FULFILLED',\n\tDEPOSIT_VERIFICATION_REJECTED: 'DEPOSIT_VERIFICATION_REJECTED',\n\tWITHDRAWAL_CANCEL_PENDING: 'WITHDRAWAL_CANCEL_PENDING',\n\tWITHDRAWAL_CANCEL_FULFILLED: 'WITHDRAWAL_CANCEL_FULFILLED',\n\tWITHDRAWAL_CANCEL_REJECTED: 'WITHDRAWAL_CANCEL_REJECTED'\n};\n\nconst ENDPOINTS = {\n\tTRADES: '/user/trades',\n\tDEPOSITS: '/user/deposits',\n\tWITHDRAWALS: '/user/withdrawals',\n\tDEPOSIT_BANK: '/user/deposit/bank',\n\tWITHDRAW_BANK: '/user/withdraw/bank',\n\tWITHDRAW: (currency) => `/user/request-withdrawal`,\n\tWITHDRAW_FEE: (currency) => `/user/withdraw/${currency}/fee`,\n\tCANCEL_WITHDRAWAL: '/user/withdrawals',\n\tCONFIRM_WITHDRAWAL: '/user/confirm-withdrawal'\n};\n\nexport const performWithdraw = (currency, values) => {\n\treturn axios.post(ENDPOINTS.WITHDRAW(currency), values);\n};\n\nexport const requestWithdrawFee = (currency = 'btc') => {\n\treturn (dispatch) => {\n\t\tdispatch({ type: ACTION_KEYS.USER_WITHDRAWALS_BTC_FEE_PENDING });\n\t\taxios\n\t\t\t.get(ENDPOINTS.WITHDRAW_FEE(currency))\n\t\t\t.then((body) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ACTION_KEYS.USER_WITHDRAWALS_BTC_FEE_FULFILLED,\n\t\t\t\t\tpayload: body.data\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconst payload = err.response.data || { message: err.message };\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ACTION_KEYS.USER_WITHDRAWALS_BTC_FEE_REJECTED,\n\t\t\t\t\tpayload\n\t\t\t\t});\n\t\t\t});\n\t};\n};\n\nexport const withdrawalCancel = (transactionId) => {\n\treturn (dispatch) => {\n\t\tdispatch({ type: ACTION_KEYS.WITHDRAWAL_CANCEL_PENDING });\n\t\taxios\n\t\t\t.delete(ENDPOINTS.CANCEL_WITHDRAWAL, {data: { transactionId: parseInt(transactionId.transactionId, 10)}} )\n\t\t\t.then((body) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ACTION_KEYS.WITHDRAWAL_CANCEL_FULFILLED,\n\t\t\t\t\tpayload: body.data\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconst payload = err.response.data || { message: err.message };\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ACTION_KEYS.WITHDRAWAL_CANCEL_REJECTED,\n\t\t\t\t\tpayload\n\t\t\t\t});\n\t\t\t}); \n\t};\n};\n\nexport const addUserTrades = (trades) => ({\n\ttype: ACTION_KEYS.ADD_USER_TRADES,\n\tpayload: {\n\t\ttrades\n\t}\n});\n\nexport const getUserTrades = ({\n\tsymbol = 'btc',\n\tlimit = 50,\n\tpage = 1,\n\t...rest\n}) => {\n\tconst query = querystring.stringify({\n\t\tsymbol,\n\t\tpage,\n\t\tlimit\n\t});\n\n\treturn (dispatch) => {\n\t\tdispatch({ type: ACTION_KEYS.USER_TRADES_PENDING, payload: { page } });\n\t\taxios\n\t\t\t.get(`${ENDPOINTS.TRADES}?${query}`)\n\t\t\t.then((body) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ACTION_KEYS.USER_TRADES_FULFILLED,\n\t\t\t\t\tpayload: {\n\t\t\t\t\t\t...body.data,\n\t\t\t\t\t\tpage,\n\t\t\t\t\t\tisRemaining: body.data.count > page * limit\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t// if (body.data.count > page * limit) {\n\t\t\t\t// \tdispatch(getUserTrades({ symbol, limit, page: page + 1 }));\n\t\t\t\t// }\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ACTION_KEYS.USER_TRADES_REJECTED,\n\t\t\t\t\tpayload: err.response\n\t\t\t\t});\n\t\t\t});\n\t};\n};\n\nexport const getUserDeposits = ({ symbol = 'btc', limit = 50, page = 1, ...rest }) => {\n\tconst query = querystring.stringify({\n\t\tsymbol,\n\t\tpage,\n\t\tlimit\n\t});\n\n\treturn (dispatch) => {\n\t\tdispatch({ type: ACTION_KEYS.USER_DEPOSITS_PENDING, payload: { page } });\n\t\taxios\n\t\t\t.get(`${ENDPOINTS.DEPOSITS}?${query}`)\n\t\t\t.then((body) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ACTION_KEYS.USER_DEPOSITS_FULFILLED,\n\t\t\t\t\tpayload: {\n\t\t\t\t\t\t...body.data,\n\t\t\t\t\t\tpage,\n\t\t\t\t\t\tisRemaining: body.data.count > page * limit\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t// if (body.data.count > page * limit) {\n\t\t\t\t// \tdispatch(getUserDeposits({ limit, page: page + 1 }));\n\t\t\t\t// }\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ACTION_KEYS.USER_DEPOSITS_REJECTED,\n\t\t\t\t\tpayload: err.response\n\t\t\t\t});\n\t\t\t});\n\t};\n};\n\nexport const getUserWithdrawals = ({ symbol = 'btc', limit = 50, page = 1, ...rest }) => {\n\tconst query = querystring.stringify({\n\t\tsymbol,\n\t\tpage,\n\t\tlimit\n\t});\n\n\treturn (dispatch) => {\n\t\tdispatch({ type: ACTION_KEYS.USER_WITHDRAWALS_PENDING, payload: { page } });\n\t\taxios\n\t\t\t.get(`${ENDPOINTS.WITHDRAWALS}?${query}`)\n\t\t\t.then((body) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ACTION_KEYS.USER_WITHDRAWALS_FULFILLED,\n\t\t\t\t\tpayload: {\n\t\t\t\t\t\t...body.data,\n\t\t\t\t\t\tpage,\n\t\t\t\t\t\tisRemaining: body.data.count > page * limit\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t// if (body.data.count > page * limit) {\n\t\t\t\t// \tdispatch(getUserWithdrawals({ limit, page: page + 1 }));\n\t\t\t\t// }\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ACTION_KEYS.USER_WITHDRAWALS_REJECTED,\n\t\t\t\t\tpayload: err.response\n\t\t\t\t});\n\t\t\t});\n\t};\n};\n\nexport const performConfirmWithdrawal = (token) => {\n\treturn axios.post(ENDPOINTS.CONFIRM_WITHDRAWAL, { token });\n};\n"]},"metadata":{},"sourceType":"module"}