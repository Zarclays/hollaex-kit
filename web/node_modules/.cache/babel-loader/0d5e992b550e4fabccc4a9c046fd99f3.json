{"ast":null,"code":"import _classCallCheck from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/Documents/projects/hollaex/src/containers/Admin/Chat/index.js\";\nimport React, { Component } from 'react';\nimport io from 'socket.io-client';\nimport { Spin } from 'antd';\nimport { WS_HOST } from '../../../config/constants';\nimport { getToken } from '../../../utils/token';\nimport { Tabs } from 'antd';\nimport { Ban } from './ban';\nimport { Announcements } from './announcements';\nimport { Messages } from './messages';\nimport './index.css';\nvar TabPane = Tabs.TabPane;\n\nvar Chat =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Chat, _Component);\n\n  function Chat() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Chat);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Chat)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      chatWs: undefined,\n      messages: [],\n      announcements: [],\n      bannedUsers: {},\n      bannedUsersUsernames: {},\n      ready: false\n    };\n\n    _this.connectToChat = function (token) {\n      var chatWs = io(\"\".concat(WS_HOST, \"/chat\"), {\n        query: {\n          token: \"Bearer \".concat(token)\n        }\n      });\n      chatWs.on('init', function (_ref) {\n        var _ref$messages = _ref.messages,\n            messages = _ref$messages === void 0 ? [] : _ref$messages,\n            _ref$announcements = _ref.announcements,\n            announcements = _ref$announcements === void 0 ? [] : _ref$announcements;\n\n        _this.setState({\n          messages: messages,\n          announcements: announcements,\n          ready: true\n        });\n\n        _this.getBannedUsers();\n      });\n      chatWs.on('message', function (message) {\n        _this.setState({\n          messages: _this.state.messages.concat(message)\n        });\n      });\n      chatWs.on('announcement', function (announcement) {\n        _this.setState({\n          announcements: _this.state.announcements.concat(announcement)\n        });\n      });\n      chatWs.on('deleteMessage', function (idToDelete) {\n        var indexOfMessage = _this.state.messages.findIndex(function (_ref2) {\n          var id = _ref2.id;\n          return id === idToDelete;\n        });\n\n        if (indexOfMessage > -1) {\n          var messages = [].concat(_this.state.messages);\n          messages.splice(indexOfMessage, 1);\n\n          _this.setState({\n            messages: messages\n          });\n        }\n      });\n      chatWs.on('bannedUsers', function (_ref3) {\n        var bannedUsers = _ref3.bannedUsers;\n        var bannedUsersUsernames = {};\n        Object.values(bannedUsers).forEach(function (username) {\n          bannedUsersUsernames[username] = 1;\n        });\n\n        _this.setState({\n          bannedUsers: bannedUsers,\n          bannedUsersUsernames: bannedUsersUsernames\n        });\n      });\n\n      _this.setState({\n        chatWs: chatWs\n      });\n    };\n\n    _this.addMessage = function (message) {\n      var username = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'admin';\n\n      _this.state.chatWs.emit('message', {\n        message: message,\n        username: username\n      });\n    };\n\n    _this.deleteMessage = function (idToDelete) {\n      _this.state.chatWs.emit('deleteMessage', idToDelete);\n    };\n\n    _this.addAnnouncement = function (message) {\n      _this.state.chatWs.emit('announcement', {\n        message: message,\n        type: 'announcement'\n      });\n    };\n\n    _this.deleteAnnouncement = function (idToDelete) {\n      _this.state.chatWs.emit('deleteAnnouncement', idToDelete);\n\n      var indexOfAnnouncement = _this.state.announcements.findIndex(function (_ref4) {\n        var id = _ref4.id;\n        return id === idToDelete;\n      });\n\n      if (indexOfAnnouncement > -1) {\n        var announcements = [].concat(_this.state.announcements);\n        announcements.splice(indexOfAnnouncement, 1);\n\n        _this.setState({\n          announcements: announcements\n        });\n      }\n    };\n\n    _this.getBannedUsers = function () {\n      _this.state.chatWs.emit('getBannedUsers');\n    };\n\n    _this.banUser = function (username) {\n      _this.state.chatWs.emit('banUser', {\n        username: username\n      });\n    };\n\n    _this.unbanUser = function (user_id) {\n      _this.state.chatWs.emit('unbanUser', {\n        user_id: user_id\n      });\n    };\n\n    _this.disconnectFromChat = function () {\n      if (_this.state.chatWs) {\n        _this.state.chatWs.disconnect();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Chat, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.connectToChat(getToken());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          ready = _this$state.ready,\n          messages = _this$state.messages,\n          announcements = _this$state.announcements,\n          bannedUsers = _this$state.bannedUsers,\n          bannedUsersUsernames = _this$state.bannedUsersUsernames;\n      return React.createElement(\"div\", {\n        className: \"app_container-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, !ready ? React.createElement(Spin, {\n        size: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, \"USER CHAT\"), React.createElement(Tabs, {\n        className: \"chat-tabs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(TabPane, {\n        tab: \"Messages\",\n        key: \"messages\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(Messages, {\n        messages: messages.slice().reverse(),\n        deleteMessage: this.deleteMessage,\n        addMessage: this.addMessage,\n        banUser: this.banUser,\n        bannedUsers: bannedUsersUsernames,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      })), React.createElement(TabPane, {\n        tab: \"Announcements\",\n        key: \"announcements\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(Announcements, {\n        announcements: announcements,\n        deleteAnnouncement: this.deleteAnnouncement,\n        addAnnouncement: this.addAnnouncement,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      })), React.createElement(TabPane, {\n        tab: \"Banned Users\",\n        key: \"banuser\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(Ban, {\n        bannedUsers: bannedUsers,\n        unbanUser: this.unbanUser,\n        banUser: this.banUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return Chat;\n}(Component);\n\nexport default Chat;","map":{"version":3,"sources":["/home/user/Documents/projects/hollaex/src/containers/Admin/Chat/index.js"],"names":["React","Component","io","Spin","WS_HOST","getToken","Tabs","Ban","Announcements","Messages","TabPane","Chat","state","chatWs","undefined","messages","announcements","bannedUsers","bannedUsersUsernames","ready","connectToChat","token","query","on","setState","getBannedUsers","message","concat","announcement","idToDelete","indexOfMessage","findIndex","id","splice","Object","values","forEach","username","addMessage","emit","deleteMessage","addAnnouncement","type","deleteAnnouncement","indexOfAnnouncement","banUser","unbanUser","user_id","disconnectFromChat","disconnect","slice","reverse"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport io from 'socket.io-client';\nimport { Spin } from 'antd';\nimport { WS_HOST } from '../../../config/constants';\nimport { getToken } from '../../../utils/token';\nimport { Tabs } from 'antd';\nimport { Ban } from './ban';\nimport { Announcements } from './announcements';\nimport { Messages } from './messages';\n\nimport './index.css';\n\nconst TabPane = Tabs.TabPane;\n\nclass Chat extends Component {\n\tstate = {\n\t\tchatWs: undefined,\n\t\tmessages: [],\n\t\tannouncements: [],\n\t\tbannedUsers: {},\n\t\tbannedUsersUsernames: {},\n\t\tready: false\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.connectToChat(getToken());\n\t}\n\n\tconnectToChat = (token) => {\n\t\tconst chatWs = io(`${WS_HOST}/chat`, {\n\t\t\tquery: {\n\t\t\t\ttoken: `Bearer ${token}`\n\t\t\t}\n\t\t});\n\n\t\tchatWs.on('init', ({ messages = [], announcements = [] }) => {\n\t\t\tthis.setState({ messages, announcements, ready: true });\n\t\t\tthis.getBannedUsers();\n\t\t});\n\n\t\tchatWs.on('message', (message) => {\n\t\t\tthis.setState({ messages: this.state.messages.concat(message) });\n\t\t});\n\n\t\tchatWs.on('announcement', (announcement) => {\n\t\t\tthis.setState({\n\t\t\t\tannouncements: this.state.announcements.concat(announcement)\n\t\t\t});\n\t\t});\n\n\t\tchatWs.on('deleteMessage', (idToDelete) => {\n\t\t\tconst indexOfMessage = this.state.messages.findIndex(\n\t\t\t\t({ id }) => id === idToDelete\n\t\t\t);\n\t\t\tif (indexOfMessage > -1) {\n\t\t\t\tconst messages = [].concat(this.state.messages);\n\t\t\t\tmessages.splice(indexOfMessage, 1);\n\t\t\t\tthis.setState({ messages });\n\t\t\t}\n\t\t});\n\n\t\tchatWs.on('bannedUsers', ({ bannedUsers }) => {\n\t\t\tconst bannedUsersUsernames = {};\n\t\t\tObject.values(bannedUsers).forEach((username) => {\n\t\t\t\tbannedUsersUsernames[username] = 1;\n\t\t\t});\n\t\t\tthis.setState({ bannedUsers, bannedUsersUsernames });\n\t\t});\n\n\t\tthis.setState({ chatWs });\n\t};\n\n\taddMessage = (message, username = 'admin') => {\n\t\tthis.state.chatWs.emit('message', {\n\t\t\tmessage,\n\t\t\tusername\n\t\t});\n\t};\n\n\tdeleteMessage = (idToDelete) => {\n\t\tthis.state.chatWs.emit('deleteMessage', idToDelete);\n\t};\n\n\taddAnnouncement = (message) => {\n\t\tthis.state.chatWs.emit('announcement', {\n\t\t\tmessage,\n\t\t\ttype: 'announcement'\n\t\t});\n\t};\n\n\tdeleteAnnouncement = (idToDelete) => {\n\t\tthis.state.chatWs.emit('deleteAnnouncement', idToDelete);\n\t\tconst indexOfAnnouncement = this.state.announcements.findIndex(\n\t\t\t({ id }) => id === idToDelete\n\t\t);\n\t\tif (indexOfAnnouncement > -1) {\n\t\t\tconst announcements = [].concat(this.state.announcements);\n\t\t\tannouncements.splice(indexOfAnnouncement, 1);\n\t\t\tthis.setState({ announcements });\n\t\t}\n\t};\n\n\tgetBannedUsers = () => {\n\t\tthis.state.chatWs.emit('getBannedUsers');\n\t};\n\n\tbanUser = (username) => {\n\t\tthis.state.chatWs.emit('banUser', { username });\n\t};\n\n\tunbanUser = (user_id) => {\n\t\tthis.state.chatWs.emit('unbanUser', { user_id });\n\t};\n\n\tdisconnectFromChat = () => {\n\t\tif (this.state.chatWs) {\n\t\t\tthis.state.chatWs.disconnect();\n\t\t}\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tready,\n\t\t\tmessages,\n\t\t\tannouncements,\n\t\t\tbannedUsers,\n\t\t\tbannedUsersUsernames\n\t\t} = this.state;\n\n\t\treturn (\n\t\t\t<div className=\"app_container-content\">\n\t\t\t\t{!ready ? (\n\t\t\t\t\t<Spin size=\"large\" />\n\t\t\t\t) : (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h1>USER CHAT</h1>\n\t\t\t\t\t\t<Tabs className=\"chat-tabs\">\n\t\t\t\t\t\t\t<TabPane tab=\"Messages\" key=\"messages\">\n\t\t\t\t\t\t\t\t<Messages\n\t\t\t\t\t\t\t\t\tmessages={messages.slice().reverse()}\n\t\t\t\t\t\t\t\t\tdeleteMessage={this.deleteMessage}\n\t\t\t\t\t\t\t\t\taddMessage={this.addMessage}\n\t\t\t\t\t\t\t\t\tbanUser={this.banUser}\n\t\t\t\t\t\t\t\t\tbannedUsers={bannedUsersUsernames}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</TabPane>\n\t\t\t\t\t\t\t<TabPane tab=\"Announcements\" key=\"announcements\">\n\t\t\t\t\t\t\t\t<Announcements\n\t\t\t\t\t\t\t\t\tannouncements={announcements}\n\t\t\t\t\t\t\t\t\tdeleteAnnouncement={this.deleteAnnouncement}\n\t\t\t\t\t\t\t\t\taddAnnouncement={this.addAnnouncement}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</TabPane>\n\t\t\t\t\t\t\t<TabPane tab=\"Banned Users\" key=\"banuser\">\n\t\t\t\t\t\t\t\t<Ban\n\t\t\t\t\t\t\t\t\tbannedUsers={bannedUsers}\n\t\t\t\t\t\t\t\t\tunbanUser={this.unbanUser}\n\t\t\t\t\t\t\t\t\tbanUser={this.banUser}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</TabPane>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Chat;\n"]},"metadata":{},"sourceType":"module"}