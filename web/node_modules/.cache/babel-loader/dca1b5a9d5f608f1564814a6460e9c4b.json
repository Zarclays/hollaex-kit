{"ast":null,"code":"import _toConsumableArray from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/Documents/projects/hollaex/src/components/QuickTrade/index.js\";\nimport React, { Component } from 'react';\nimport classnames from 'classnames';\nimport ReactSVG from 'react-svg';\nimport { debounce } from 'lodash';\nimport { browserHistory } from 'react-router';\nimport { isMobile } from 'react-device-detect';\nimport { Button, TabController, CheckTitle } from '../../components';\nimport STRINGS from '../../config/localizedStrings';\nimport { ICONS, DEFAULT_PAIR, FLEX_CENTER_CLASSES, BALANCE_ERROR, DEFAULT_COIN_DATA } from '../../config/constants';\nimport { BASE_CURRENCY } from '../../config/constants';\nimport ToogleButton from './ToogleButton';\nimport ReviewBlock from './ReviewBlock';\nimport InputBlock from './InputBlock'; // const GROUP_CLASSES = [...FLEX_CENTER_CLASSES, 'flex-column'];\n\nvar getInitialTab = function getInitialTab(path, symbols, coins) {\n  var activeTab = -1;\n  var baseCoin = coins[BASE_CURRENCY] || DEFAULT_COIN_DATA;\n  symbols.map(function (currency, index) {\n    var _ref = coins[currency] || DEFAULT_COIN_DATA,\n        symbol = _ref.symbol;\n\n    if (path === \"\".concat(symbol.toLowerCase(), \"-\").concat(baseCoin.symbol.toLowerCase())) {\n      activeTab = index;\n    }\n  });\n  return {\n    activeTab: activeTab\n  };\n};\n\nvar QuickTrade =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(QuickTrade, _Component);\n\n  function QuickTrade() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, QuickTrade);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(QuickTrade)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      side: STRINGS.SIDES[0].value,\n      value: 0.1,\n      symbol: DEFAULT_PAIR,\n      tabs: [],\n      activeTab: -1,\n      currencies: []\n    };\n\n    _this.setActiveTab = function (activeTab) {\n      var currencies = _this.state.currencies;\n\n      var _ref2 = _this.props.coins[BASE_CURRENCY] || {},\n          _ref2$symbol = _ref2.symbol,\n          symbol = _ref2$symbol === void 0 ? '' : _ref2$symbol;\n\n      browserHistory.push(\"/quick-trade/\".concat(currencies[activeTab], \"-\").concat(symbol.toLowerCase()));\n\n      _this.setState({\n        activeTab: activeTab\n      });\n    };\n\n    _this.onChangeSymbol = function (symbol) {\n      _this.setState({\n        symbol: symbol\n      });\n\n      _this.requestValue({\n        size: _this.state.value,\n        symbol: symbol,\n        side: _this.state.side\n      });\n    };\n\n    _this.onToogleSide = function () {\n      var SIDES = STRINGS.SIDES;\n      var side = _this.state.side === SIDES[0].value ? SIDES[1].value : SIDES[0].value;\n\n      _this.setState({\n        side: side\n      });\n\n      _this.requestValue({\n        size: _this.state.value,\n        symbol: _this.state.symbol,\n        side: side\n      });\n\n      if (_this.props.onChangeSide) {\n        _this.props.onChangeSide(side);\n      }\n    };\n\n    _this.onChangeValue = function (value) {\n      if (value !== _this.state.value) {\n        _this.requestValue({\n          size: value || 0,\n          symbol: _this.state.symbol,\n          side: _this.state.side\n        });\n      }\n\n      _this.setState({\n        value: value\n      });\n    };\n\n    _this.requestValue = debounce(_this.props.onRequestMarketValue, 250);\n\n    _this.updateTabs = function () {\n      var updateActiveTab = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var activeTab = _this.state.activeTab > -1 ? _this.state.activeTab : 0;\n      var _this$props = _this.props,\n          theme = _this$props.theme,\n          pairs = _this$props.pairs,\n          coins = _this$props.coins;\n      var obj = {};\n      Object.entries(pairs).forEach(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n            key = _ref4[0],\n            pair = _ref4[1];\n\n        obj[pair.pair_base] = '';\n      });\n      var symbols = Object.keys(obj).map(function (key) {\n        return key;\n      });\n\n      if (updateActiveTab || _this.state.activeTab === -1) {\n        var initialValues = getInitialTab(_this.props.symbol, symbols, coins);\n        activeTab = initialValues.activeTab;\n      }\n\n      var tabs = symbols.map(function (pair) {\n        var icon = ICONS[\"\".concat(pair.toUpperCase(), \"_ICON\").concat(theme === 'dark' ? '_DARK' : '')];\n\n        if (!icon && theme === 'dark') {\n          icon = ICONS[\"\".concat(pair.toUpperCase(), \"_ICON\")];\n        }\n\n        var _ref5 = coins[pair] || DEFAULT_COIN_DATA,\n            _ref5$fullname = _ref5.fullname,\n            fullname = _ref5$fullname === void 0 ? '' : _ref5$fullname;\n\n        return {\n          title: React.createElement(CheckTitle, {\n            title: fullname,\n            icon: icon,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 141\n            },\n            __self: this\n          })\n        };\n      });\n\n      _this.setState({\n        tabs: tabs,\n        activeTab: activeTab,\n        currencies: symbols\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(QuickTrade, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.symbol !== BASE_CURRENCY) {\n        this.updateTabs();\n        this.onChangeSymbol(this.props.symbol);\n      } else {\n        this.updateTabs();\n        this.onChangeSymbol(DEFAULT_PAIR);\n      }\n\n      if (this.props.onChangeSide) {\n        this.updateTabs();\n        this.props.onChangeSide(this.state.side);\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.symbol !== this.props.symbol) {\n        this.updateTabs();\n        this.onChangeSymbol(nextProps.symbol);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          onReviewQuickTrade = _this$props2.onReviewQuickTrade,\n          quickTradeData = _this$props2.quickTradeData,\n          disabled = _this$props2.disabled,\n          orderLimits = _this$props2.orderLimits,\n          pairs = _this$props2.pairs,\n          coins = _this$props2.coins;\n      var _this$state = this.state,\n          side = _this$state.side,\n          value = _this$state.value,\n          symbol = _this$state.symbol,\n          tabs = _this$state.tabs,\n          activeTab = _this$state.activeTab;\n      var data = quickTradeData.data,\n          fetching = quickTradeData.fetching,\n          error = quickTradeData.error;\n      var baseCoin = pairs[symbol].pair_base;\n\n      var _ref6 = coins[baseCoin] || DEFAULT_COIN_DATA,\n          fullname = _ref6.fullname;\n\n      return React.createElement(\"div\", {\n        className: classnames('quick_trade-wrapper', 'd-flex', 'flex-column'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classnames('quick_trade-section_wrapper', 'quick_trade-bottom-padded' // ...GROUP_CLASSES\n        ),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(ReactSVG, {\n        path: isMobile ? ICONS.SIDEBAR_QUICK_TRADING_INACTIVE : ICONS.QUICK_TRADE,\n        wrapperClassName: isMobile ? 'quick_trade-tab-icon' : \"quick_trade-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: classnames.apply(void 0, [\"title text-capitalize\"].concat(_toConsumableArray(FLEX_CENTER_CLASSES))),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, STRINGS.formatString(STRINGS.QUICK_TRADE_COMPONENT.TRADE_TITLE, STRINGS.QUICK_TRADE_COMPONENT.TITLE, STRINGS.SIDES_VALUES[side]))), React.createElement(\"div\", {\n        className: classnames('quick_trade-section_wrapper' // ...GROUP_CLASSES\n        ),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"apply_rtl\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(TabController, {\n        quicktrade: true,\n        activeTab: activeTab,\n        setActiveTab: this.setActiveTab,\n        tabs: tabs,\n        className: \"account-tab\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(ToogleButton, {\n        values: STRINGS.SIDES,\n        onToogle: this.onToogleSide,\n        selected: side,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: classnames('quick_trade-section_wrapper', 'quick_trade-bottom-padded' // ...GROUP_CLASSES\n        ),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(InputBlock, {\n        onChange: this.onChangeValue,\n        initialValue: value,\n        text: STRINGS.formatString(STRINGS.QUICK_TRADE_COMPONENT.INPUT, fullname, STRINGS.SIDES_VALUES[side]),\n        symbol: symbol,\n        className: classnames({\n          loading: fetching\n        }),\n        error: error,\n        orderLimits: orderLimits,\n        pairs: pairs,\n        coins: coins,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: classnames('quick_trade-section_wrapper', 'quick_trade-bottom-padded', // ...GROUP_CLASSES,\n        {\n          fetching: fetching\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(ReviewBlock, {\n        text: STRINGS.QUICK_TRADE_COMPONENT.TOTAL_COST,\n        value: data.price || 0,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: classnames('quick_trade-section_wrapper', 'quick_trade-bottom-padded' // ...GROUP_CLASSES\n        ),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(Button, {\n        label: STRINGS.formatString(STRINGS.QUICK_TRADE_COMPONENT.BUTTON, STRINGS.SIDES_VALUES[side]).join(' '),\n        onClick: onReviewQuickTrade,\n        disabled: disabled || !onReviewQuickTrade || !!error && error !== BALANCE_ERROR || fetching,\n        type: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return QuickTrade;\n}(Component);\n\nQuickTrade.defaultProps = {\n  onRequestMarketValue: function onRequestMarketValue() {},\n  onReviewQuickTrade: function onReviewQuickTrade() {},\n  estimatedValue: 0,\n  disabled: false\n};\nexport default QuickTrade;","map":{"version":3,"sources":["/home/user/Documents/projects/hollaex/src/components/QuickTrade/index.js"],"names":["React","Component","classnames","ReactSVG","debounce","browserHistory","isMobile","Button","TabController","CheckTitle","STRINGS","ICONS","DEFAULT_PAIR","FLEX_CENTER_CLASSES","BALANCE_ERROR","DEFAULT_COIN_DATA","BASE_CURRENCY","ToogleButton","ReviewBlock","InputBlock","getInitialTab","path","symbols","coins","activeTab","baseCoin","map","currency","index","symbol","toLowerCase","QuickTrade","state","side","SIDES","value","tabs","currencies","setActiveTab","props","push","setState","onChangeSymbol","requestValue","size","onToogleSide","onChangeSide","onChangeValue","onRequestMarketValue","updateTabs","updateActiveTab","theme","pairs","obj","Object","entries","forEach","key","pair","pair_base","keys","initialValues","icon","toUpperCase","fullname","title","nextProps","onReviewQuickTrade","quickTradeData","disabled","orderLimits","data","fetching","error","SIDEBAR_QUICK_TRADING_INACTIVE","QUICK_TRADE","formatString","QUICK_TRADE_COMPONENT","TRADE_TITLE","TITLE","SIDES_VALUES","INPUT","loading","TOTAL_COST","price","BUTTON","join","defaultProps","estimatedValue"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport classnames from 'classnames';\nimport ReactSVG from 'react-svg';\nimport { debounce } from 'lodash';\nimport { browserHistory } from 'react-router';\nimport { isMobile } from 'react-device-detect';\nimport {Button, TabController, CheckTitle } from '../../components';\n\nimport STRINGS from '../../config/localizedStrings';\nimport {\n\tICONS,\n\tDEFAULT_PAIR,\n\tFLEX_CENTER_CLASSES,\n\tBALANCE_ERROR,\n\tDEFAULT_COIN_DATA\n} from '../../config/constants';\nimport { BASE_CURRENCY } from '../../config/constants';\n\nimport ToogleButton from './ToogleButton';\nimport ReviewBlock from './ReviewBlock';\nimport InputBlock from './InputBlock';\n\n\n// const GROUP_CLASSES = [...FLEX_CENTER_CLASSES, 'flex-column'];\n\nconst getInitialTab = (path, symbols, coins) => {\n\tlet activeTab = -1;\n\tconst baseCoin = coins[BASE_CURRENCY] || DEFAULT_COIN_DATA;\n\tsymbols.map((currency, index) => {\n\t\tconst { symbol } = coins[currency] || DEFAULT_COIN_DATA;\n\t\tif (path === `${symbol.toLowerCase()}-${baseCoin.symbol.toLowerCase()}`) {\n\t\t\tactiveTab = index;\n\t\t}\n\t});\n\t\n\treturn {\n\t\tactiveTab,\n\t};\n};\nclass QuickTrade extends Component {\n\tstate = {\n\t\tside: STRINGS.SIDES[0].value,\n\t\tvalue: 0.1,\n\t\tsymbol: DEFAULT_PAIR,\n\t\ttabs: [],\n\t\tactiveTab:-1,\n\t\tcurrencies: []\n\t};\n\n\tcomponentDidMount() {\n\t\tif (this.props.symbol !== BASE_CURRENCY) {\n\t\t\tthis.updateTabs()\n\t\t\tthis.onChangeSymbol(this.props.symbol);\n\t\t} else {\n\t\t\tthis.updateTabs()\n\t\t\tthis.onChangeSymbol(DEFAULT_PAIR);\n\t\t}\n\t\tif (this.props.onChangeSide) {\n\t\t\tthis.updateTabs()\n\t\t\tthis.props.onChangeSide(this.state.side);\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (\n\t\t\tnextProps.symbol !== this.props.symbol\n\t\t) {\n\t\t\tthis.updateTabs()\n\t\t\tthis.onChangeSymbol(nextProps.symbol);\n\t\t}\n\t}\n\n\tsetActiveTab = (activeTab) => {\n\t\tconst { currencies } = this.state;\n\t\tconst { symbol = '' } = this.props.coins[BASE_CURRENCY] || {};\n\t\tbrowserHistory.push(`/quick-trade/${currencies[activeTab]}-${symbol.toLowerCase()}`)\n\t\tthis.setState({ activeTab });\n\t}\n\n\tonChangeSymbol = (symbol) => {\n\t\tthis.setState({ symbol });\n\t\tthis.requestValue({\n\t\t\tsize: this.state.value,\n\t\t\tsymbol: symbol,\n\t\t\tside: this.state.side\n\t\t});\n\t};\n\n\tonToogleSide = () => {\n\t\tconst SIDES = STRINGS.SIDES;\n\n\t\tconst side =\n\t\t\tthis.state.side === SIDES[0].value ? SIDES[1].value : SIDES[0].value;\n\t\tthis.setState({ side });\n\t\tthis.requestValue({\n\t\t\tsize: this.state.value,\n\t\t\tsymbol: this.state.symbol,\n\t\t\tside: side\n\t\t});\n\t\tif (this.props.onChangeSide) {\n\t\t\tthis.props.onChangeSide(side);\n\t\t}\n\t};\n\n\tonChangeValue = (value) => {\n\t\tif (value !== this.state.value) {\n\t\t\tthis.requestValue({\n\t\t\t\tsize: value || 0,\n\t\t\t\tsymbol: this.state.symbol,\n\t\t\t\tside: this.state.side\n\t\t\t});\n\t\t}\n\t\tthis.setState({ value });\n\t};\n\n\trequestValue = debounce(this.props.onRequestMarketValue, 250);\n\n\tupdateTabs = (\n\t\tupdateActiveTab = false\n\t) => {\n\t\tlet activeTab = this.state.activeTab > -1 ? this.state.activeTab : 0;\n\t\tconst { theme, pairs, coins } = this.props;\n\t\tconst obj = {};\n\t\tObject.entries(pairs).forEach(([key, pair]) => {\n\t\t\tobj[pair.pair_base] = '';\n\t\t});\n\t\tconst symbols = Object.keys(obj).map((key) => key);\n\t\tif (updateActiveTab || this.state.activeTab === -1) {\n\t\t\tconst initialValues = getInitialTab(this.props.symbol, symbols, coins);\n\t\t\tactiveTab = initialValues.activeTab;\n\t\t}\n\n\t\tconst tabs = symbols.map(pair => {\n\t\t\tlet icon = ICONS[`${pair.toUpperCase()}_ICON${theme === 'dark' ? '_DARK' : ''}`];\n\t\t\tif (!icon && theme === 'dark') {\n\t\t\t\ticon = ICONS[`${pair.toUpperCase()}_ICON`];\n\t\t\t}\n\t\t\tconst { fullname = '' } = coins[pair] || DEFAULT_COIN_DATA;\n\t\t\treturn ({\n\t\t\t\ttitle:\n\t\t\t\t\t<CheckTitle\n\t\t\t\t\t\ttitle={fullname}\n\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t/>\n\t\t\t});\n\t\t});\n\n\t\tthis.setState({ tabs, activeTab, currencies: symbols });\n\t};\n\n\trender() {\n\t\tconst { onReviewQuickTrade, quickTradeData, disabled, orderLimits, pairs, coins } = this.props;\n\t\tconst { side, value, symbol, tabs, activeTab } = this.state;\n\t\tconst { data, fetching, error } = quickTradeData;\n\t\tconst baseCoin = pairs[symbol].pair_base;\n\t\tconst { fullname } = coins[baseCoin] || DEFAULT_COIN_DATA;\n\t\treturn (\n\t\t\t<div className={classnames('quick_trade-wrapper', 'd-flex', 'flex-column')}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t'quick_trade-section_wrapper',\n\t\t\t\t\t\t'quick_trade-bottom-padded',\n\t\t\t\t\t\t// ...GROUP_CLASSES\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t<ReactSVG path={ isMobile ? ICONS.SIDEBAR_QUICK_TRADING_INACTIVE: ICONS.QUICK_TRADE} wrapperClassName= {isMobile ?'quick_trade-tab-icon' :\"quick_trade-icon\"} />\n\t\t\t\t\t<div className={classnames(\"title text-capitalize\", ...FLEX_CENTER_CLASSES)}>\n\t\t\t\t\t\t{STRINGS.formatString(\n\t\t\t\t\t\t\tSTRINGS.QUICK_TRADE_COMPONENT.TRADE_TITLE,\n\t\t\t\t\t\t\tSTRINGS.QUICK_TRADE_COMPONENT.TITLE,\n\t\t\t\t\t\t\tSTRINGS.SIDES_VALUES[side]\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t'quick_trade-section_wrapper',\n\t\t\t\t\t\t// ...GROUP_CLASSES\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"apply_rtl\">\n\t\t\t\t\t\t<TabController\n\t\t\t\t\t\t\tquicktrade={true}\n\t\t\t\t\t\t\tactiveTab={activeTab}\n\t\t\t\t\t\t\tsetActiveTab={this.setActiveTab}\n\t\t\t\t\t\t\ttabs={tabs}\n\t\t\t\t\t\t\tclassName=\"account-tab\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ToogleButton\n\t\t\t\t\t\t\tvalues={STRINGS.SIDES}\n\t\t\t\t\t\t\tonToogle={this.onToogleSide}\n\t\t\t\t\t\t\tselected={side}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t'quick_trade-section_wrapper',\n\t\t\t\t\t\t'quick_trade-bottom-padded',\n\t\t\t\t\t\t// ...GROUP_CLASSES\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t<InputBlock\n\t\t\t\t\t\tonChange={this.onChangeValue}\n\t\t\t\t\t\tinitialValue={value}\n\t\t\t\t\t\ttext={STRINGS.formatString(\n\t\t\t\t\t\t\tSTRINGS.QUICK_TRADE_COMPONENT.INPUT,\n\t\t\t\t\t\t\tfullname,\n\t\t\t\t\t\t\tSTRINGS.SIDES_VALUES[side]\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\tclassName={classnames({ loading: fetching })}\n\t\t\t\t\t\terror={error}\n\t\t\t\t\t\torderLimits={orderLimits}\n\t\t\t\t\t\tpairs={pairs}\n\t\t\t\t\t\tcoins={coins}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t'quick_trade-section_wrapper',\n\t\t\t\t\t\t'quick_trade-bottom-padded',\n\t\t\t\t\t\t// ...GROUP_CLASSES,\n\t\t\t\t\t\t{ fetching }\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t<ReviewBlock\n\t\t\t\t\t\ttext={STRINGS.QUICK_TRADE_COMPONENT.TOTAL_COST}\n\t\t\t\t\t\tvalue={data.price || 0}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t'quick_trade-section_wrapper',\n\t\t\t\t\t\t'quick_trade-bottom-padded',\n\t\t\t\t\t\t// ...GROUP_CLASSES\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tlabel={STRINGS.formatString(\n\t\t\t\t\t\t\tSTRINGS.QUICK_TRADE_COMPONENT.BUTTON,\n\t\t\t\t\t\t\tSTRINGS.SIDES_VALUES[side]\n\t\t\t\t\t\t).join(' ')}\n\t\t\t\t\t\tonClick={onReviewQuickTrade}\n\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\tdisabled ||\n\t\t\t\t\t\t\t!onReviewQuickTrade ||\n\t\t\t\t\t\t\t(!!error && error !== BALANCE_ERROR) ||\n\t\t\t\t\t\t\tfetching\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nQuickTrade.defaultProps = {\n\tonRequestMarketValue: () => {},\n\tonReviewQuickTrade: () => {},\n\testimatedValue: 0,\n\tdisabled: false\n};\n\nexport default QuickTrade;\n"]},"metadata":{},"sourceType":"module"}