{"ast":null,"code":"import _toConsumableArray from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/Documents/projects/hollaex/src/containers/VerificationEmailCode/index.js\";\nimport React, { Component } from 'react';\nimport classnames from 'classnames';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { isUUID } from 'validator';\nimport { verifyVerificationCode, checkVerificationCode } from '../../actions/authAction';\nimport { IconTitle, Loader, Button } from '../../components';\nimport { FLEX_CENTER_CLASSES, ICONS } from '../../config/constants';\nimport STRINGS from '../../config/localizedStrings';\n\nvar VerifyEmailCode =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(VerifyEmailCode, _Component);\n\n  function VerifyEmailCode() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, VerifyEmailCode);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(VerifyEmailCode)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      success: false,\n      errorMessage: ''\n    };\n\n    _this.setError = function () {\n      var errorMessage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n      _this.setState({\n        errorMessage: errorMessage\n      });\n    };\n\n    _this.onClickLogin = function () {\n      _this.props.router.replace('login');\n    };\n\n    return _this;\n  }\n\n  _createClass(VerifyEmailCode, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var code = this.props.params.code;\n\n      if (isUUID(code)) {\n        this.props.checkVerificationData({\n          verification_code: code\n        });\n      } else {\n        this.setError(STRINGS.VERIFICATION_EMAIL.INVALID_UUID);\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.data.hasValidData && !this.props.data.hasValidData) {\n        this.props.verifyCode(nextProps.data.data);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props$data = this.props.data,\n          fetching = _this$props$data.fetching,\n          fetched = _this$props$data.fetched,\n          error = _this$props$data.error;\n      var errorMessage = this.state.errorMessage;\n      var childProps = {};\n\n      if (fetching || !fetched && !errorMessage) {\n        childProps = {\n          loading: true,\n          child: React.createElement(Loader, {\n            relative: true,\n            background: false,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          })\n        };\n      } else if (error || errorMessage) {\n        childProps = {\n          titleSection: {\n            iconPath: ICONS.LETTER,\n            text: STRINGS.ERROR_TEXT\n          },\n          child: React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60\n            },\n            __self: this\n          }, error || errorMessage)\n        };\n      } else {\n        childProps = {\n          titleSection: {\n            iconPath: ICONS.SUCCESS_BLACK,\n            text: STRINGS.SUCCESS_TEXT\n          },\n          child: React.createElement(\"div\", {\n            className: \"text-center w-100\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 70\n            },\n            __self: this\n          }, STRINGS.VERIFICATION_EMAIL.TEXT_1), React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 71\n            },\n            __self: this\n          }, STRINGS.VERIFICATION_EMAIL.TEXT_2), React.createElement(Button, {\n            label: STRINGS.LOGIN_TEXT,\n            className: \"button-margin\",\n            onClick: this.onClickLogin,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 72\n            },\n            __self: this\n          }))\n        };\n      }\n\n      return React.createElement(\"div\", {\n        className: classnames.apply(void 0, _toConsumableArray(FLEX_CENTER_CLASSES).concat(['flex-column', 'f-1'])),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classnames.apply(void 0, _toConsumableArray(FLEX_CENTER_CLASSES).concat(['flex-column', 'w-100', {\n          auth_wrapper: !childProps.loading\n        }])),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(IconTitle, Object.assign({\n        textType: \"title\",\n        className: \"w-100\"\n      }, childProps.titleSection, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: classnames.apply(void 0, _toConsumableArray(FLEX_CENTER_CLASSES).concat(['flex-column', 'w-100', {\n          'auth_form-wrapper': !childProps.loading\n        }])),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, childProps.child)));\n    }\n  }]);\n\n  return VerifyEmailCode;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    data: state.auth.verification\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    checkVerificationData: bindActionCreators(checkVerificationCode, dispatch),\n    verifyCode: bindActionCreators(verifyVerificationCode, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VerifyEmailCode);","map":{"version":3,"sources":["/home/user/Documents/projects/hollaex/src/containers/VerificationEmailCode/index.js"],"names":["React","Component","classnames","connect","bindActionCreators","isUUID","verifyVerificationCode","checkVerificationCode","IconTitle","Loader","Button","FLEX_CENTER_CLASSES","ICONS","STRINGS","VerifyEmailCode","state","success","errorMessage","setError","setState","onClickLogin","props","router","replace","code","params","checkVerificationData","verification_code","VERIFICATION_EMAIL","INVALID_UUID","nextProps","data","hasValidData","verifyCode","fetching","fetched","error","childProps","loading","child","titleSection","iconPath","LETTER","text","ERROR_TEXT","SUCCESS_BLACK","SUCCESS_TEXT","TEXT_1","TEXT_2","LOGIN_TEXT","auth_wrapper","mapStateToProps","auth","verification","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport classnames from 'classnames';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { isUUID } from 'validator';\nimport {\n\tverifyVerificationCode,\n\tcheckVerificationCode\n} from '../../actions/authAction';\n\nimport { IconTitle, Loader, Button } from '../../components';\nimport { FLEX_CENTER_CLASSES, ICONS } from '../../config/constants';\nimport STRINGS from '../../config/localizedStrings';\n\nclass VerifyEmailCode extends Component {\n\tstate = {\n\t\tsuccess: false,\n\t\terrorMessage: ''\n\t};\n\n\tcomponentWillMount() {\n\t\tconst { code } = this.props.params;\n\t\tif (isUUID(code)) {\n\t\t\tthis.props.checkVerificationData({ verification_code: code });\n\t\t} else {\n\t\t\tthis.setError(STRINGS.VERIFICATION_EMAIL.INVALID_UUID);\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (nextProps.data.hasValidData && !this.props.data.hasValidData) {\n\t\t\tthis.props.verifyCode(nextProps.data.data);\n\t\t}\n\t}\n\n\tsetError = (errorMessage = '') => {\n\t\tthis.setState({ errorMessage });\n\t};\n\n\tonClickLogin = () => {\n\t\tthis.props.router.replace('login');\n\t};\n\trender() {\n\t\tconst { data: { fetching, fetched, error } } = this.props;\n\t\tconst { errorMessage } = this.state;\n\n\t\tlet childProps = {};\n\n\t\tif (fetching || (!fetched && !errorMessage)) {\n\t\t\tchildProps = {\n\t\t\t\tloading: true,\n\t\t\t\tchild: <Loader relative={true} background={false} />\n\t\t\t};\n\t\t} else if (error || errorMessage) {\n\t\t\tchildProps = {\n\t\t\t\ttitleSection: {\n\t\t\t\t\ticonPath: ICONS.LETTER,\n\t\t\t\t\ttext: STRINGS.ERROR_TEXT\n\t\t\t\t},\n\t\t\t\tchild: <div>{error || errorMessage}</div>\n\t\t\t};\n\t\t} else {\n\t\t\tchildProps = {\n\t\t\t\ttitleSection: {\n\t\t\t\t\ticonPath: ICONS.SUCCESS_BLACK,\n\t\t\t\t\ttext: STRINGS.SUCCESS_TEXT\n\t\t\t\t},\n\t\t\t\tchild: (\n\t\t\t\t\t<div className=\"text-center w-100\">\n\t\t\t\t\t\t<div>{STRINGS.VERIFICATION_EMAIL.TEXT_1}</div>\n\t\t\t\t\t\t<div>{STRINGS.VERIFICATION_EMAIL.TEXT_2}</div>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tlabel={STRINGS.LOGIN_TEXT}\n\t\t\t\t\t\t\tclassName=\"button-margin\"\n\t\t\t\t\t\t\tonClick={this.onClickLogin}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t};\n\t\t}\n\n\t\treturn (\n\t\t\t<div className={classnames(...FLEX_CENTER_CLASSES, 'flex-column', 'f-1')}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t...FLEX_CENTER_CLASSES,\n\t\t\t\t\t\t'flex-column',\n\t\t\t\t\t\t'w-100',\n\t\t\t\t\t\t{ auth_wrapper: !childProps.loading }\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t<IconTitle\n\t\t\t\t\t\ttextType=\"title\"\n\t\t\t\t\t\tclassName=\"w-100\"\n\t\t\t\t\t\t{...childProps.titleSection}\n\t\t\t\t\t/>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t...FLEX_CENTER_CLASSES,\n\t\t\t\t\t\t\t'flex-column',\n\t\t\t\t\t\t\t'w-100',\n\t\t\t\t\t\t\t{ 'auth_form-wrapper': !childProps.loading }\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{childProps.child}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => ({\n\tdata: state.auth.verification\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n\tcheckVerificationData: bindActionCreators(checkVerificationCode, dispatch),\n\tverifyCode: bindActionCreators(verifyVerificationCode, dispatch)\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VerifyEmailCode);\n"]},"metadata":{},"sourceType":"module"}