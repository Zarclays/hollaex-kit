{"ast":null,"code":"import _toConsumableArray from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/Documents/projects/hollaex/src/components/Accordion/index.js\";\nimport React, { Component } from 'react';\nimport classnames from 'classnames';\nimport { isMobile } from 'react-device-detect';\nimport AccordionSection from './AccordionSection';\n\nvar Accordion =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Accordion, _Component);\n\n  function Accordion() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Accordion);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Accordion)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      openSections: [],\n      ready: false\n    };\n\n    _this.initialize = function (sections) {\n      var openSections = sections.map(function (_ref, index) {\n        var isOpen = _ref.isOpen;\n        return {\n          isOpen: isOpen,\n          index: index\n        };\n      }).filter(function (_ref2) {\n        var isOpen = _ref2.isOpen;\n        return isOpen;\n      }).map(function (_ref3) {\n        var index = _ref3.index;\n        return index;\n      });\n\n      _this.setState({\n        openSections: openSections,\n        ready: true\n      });\n    };\n\n    _this.openSection = function (section) {\n      var _ref4;\n\n      var open = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      var openSections = (_ref4 = []).concat.apply(_ref4, _toConsumableArray(_this.state.openSections));\n\n      if (open) {\n        if (openSections.indexOf(section) === -1) {\n          if (_this.props.allowMultiOpen) {\n            openSections.push(section);\n          } else {\n            openSections = [section];\n          }\n        }\n      } else {\n        var index = openSections.indexOf(section);\n\n        if (index > -1) {\n          openSections.splice(index, 1);\n        }\n      }\n\n      _this.setState({\n        openSections: openSections\n      });\n\n      _this.scrollToTop();\n\n      if (_this.props.notifyOnOpen) {\n        _this.props.notifyOnOpen(section, open);\n      }\n    };\n\n    _this.openNextSection = function () {\n      if (!_this.props.allowMultiOpen) {\n        var currentSection = _this.state.openSections.length > 0 ? _this.state.openSections[0] : -1;\n\n        _this.openSection(currentSection + 1);\n\n        _this.scrollToTop();\n      }\n    };\n\n    _this.closeAll = function () {\n      _this.setState({\n        openSections: []\n      });\n\n      _this.scrollToTop();\n    };\n\n    _this.setRef = function (wrapperId) {\n      if (wrapperId) {\n        var els = document.getElementsByClassName(wrapperId);\n\n        if (els.length > 0) {\n          _this.wrapper = els[0];\n        }\n      }\n\n      return function (el) {\n        _this.accordion = el;\n      };\n    };\n\n    _this.scrollToTop = function () {\n      var top = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      if (_this.props.doScroll && _this.wrapper && _this.wrapper.scrollTop !== 0) {\n        _this.wrapper.scrollTop = 0;\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(Accordion, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      if (this.props.sections.length > 0) {\n        this.initialize(this.props.sections);\n      }\n\n      if (window.location.pathname === '/account/settings/username') {\n        this.openSection(0, true);\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (!this.state.ready && nextProps.sections.length > 0) {\n        this.initialize(nextProps.sections);\n      }\n\n      if (window.location.pathname === '/account/settings/username') {\n        this.openSection(0, true);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          sections = _this$props.sections,\n          wrapperId = _this$props.wrapperId,\n          showActionText = _this$props.showActionText;\n      return React.createElement(\"div\", {\n        className: classnames('accordion_wrapper', isMobile && 'mobile'),\n        ref: this.setRef(wrapperId),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, sections.map(function (section, index) {\n        return React.createElement(AccordionSection, Object.assign({\n          key: index,\n          index: index,\n          openSection: _this2.openSection\n        }, section, {\n          isOpen: _this2.state.openSections.indexOf(index) > -1,\n          showActionText: showActionText,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }));\n      }));\n    }\n  }]);\n\n  return Accordion;\n}(Component);\n\nAccordion.defaultProps = {\n  allowMultiOpen: false,\n  wrapperId: '',\n  doScroll: true\n};\nexport default Accordion;","map":{"version":3,"sources":["/home/user/Documents/projects/hollaex/src/components/Accordion/index.js"],"names":["React","Component","classnames","isMobile","AccordionSection","Accordion","state","openSections","ready","initialize","sections","map","index","isOpen","filter","setState","openSection","section","open","concat","indexOf","props","allowMultiOpen","push","splice","scrollToTop","notifyOnOpen","openNextSection","currentSection","length","closeAll","setRef","wrapperId","els","document","getElementsByClassName","wrapper","el","accordion","top","doScroll","scrollTop","window","location","pathname","nextProps","showActionText","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport classnames from 'classnames';\nimport { isMobile } from 'react-device-detect';\nimport AccordionSection from './AccordionSection';\n\nclass Accordion extends Component {\n\tstate = {\n\t\topenSections: [],\n\t\tready: false\n\t};\n\n\tcomponentWillMount() {\n\t\tif (this.props.sections.length > 0) {\n\t\t\tthis.initialize(this.props.sections);\n\t\t}\n\t\tif(window.location.pathname ==='/account/settings/username') {\n\t\t\tthis.openSection(0, true)\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (!this.state.ready && nextProps.sections.length > 0) {\n\t\t\tthis.initialize(nextProps.sections);\n\t\t}\n\t\tif(window.location.pathname ==='/account/settings/username') {\n\t\t\tthis.openSection(0, true)\n\t\t}\n\t}\n\n\tinitialize = (sections) => {\n\t\tconst openSections = sections\n\t\t\t.map(({ isOpen }, index) => ({ isOpen, index }))\n\t\t\t.filter(({ isOpen }) => isOpen)\n\t\t\t.map(({ index }) => index);\n\t\tthis.setState({ openSections, ready: true });\n\t};\n\n\topenSection = (section, open = true) => {\n\t\tlet openSections = [].concat(...this.state.openSections);\n\n\t\tif (open) {\n\t\t\tif (openSections.indexOf(section) === -1) {\n\t\t\t\tif (this.props.allowMultiOpen) {\n\t\t\t\t\topenSections.push(section);\n\t\t\t\t} else {\n\t\t\t\t\topenSections = [section];\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tconst index = openSections.indexOf(section);\n\t\t\tif (index > -1) {\n\t\t\t\topenSections.splice(index, 1);\n\t\t\t}\n\t\t}\n\t\tthis.setState({ openSections });\n\t\tthis.scrollToTop();\n\n\t\tif (this.props.notifyOnOpen) {\n\t\t\tthis.props.notifyOnOpen(section, open);\n\t\t}\n\t};\n\n\topenNextSection = () => {\n\t\tif (!this.props.allowMultiOpen) {\n\t\t\tconst currentSection =\n\t\t\t\tthis.state.openSections.length > 0 ? this.state.openSections[0] : -1;\n\t\t\tthis.openSection(currentSection + 1);\n\t\t\tthis.scrollToTop();\n\t\t}\n\t};\n\n\tcloseAll = () => {\n\t\tthis.setState({ openSections: [] });\n\t\tthis.scrollToTop();\n\t};\n\n\tsetRef = (wrapperId) => {\n\t\tif (wrapperId) {\n\t\t\tconst els = document.getElementsByClassName(wrapperId);\n\t\t\tif (els.length > 0) {\n\t\t\t\tthis.wrapper = els[0];\n\t\t\t}\n\t\t}\n\n\t\treturn (el) => {\n\t\t\tthis.accordion = el;\n\t\t};\n\t};\n\n\tscrollToTop = (top = 0) => {\n\t\tif (this.props.doScroll && this.wrapper && this.wrapper.scrollTop !== 0) {\n\t\t\tthis.wrapper.scrollTop = 0;\n\t\t}\n\t};\n\n\trender() {\n\t\tconst { sections, wrapperId, showActionText } = this.props;\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={classnames('accordion_wrapper', isMobile && 'mobile')}\n\t\t\t\tref={this.setRef(wrapperId)}\n\t\t\t>\n\t\t\t\t{sections.map((section, index) => (\n\t\t\t\t\t<AccordionSection\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\topenSection={this.openSection}\n\t\t\t\t\t\t{...section}\n\t\t\t\t\t\tisOpen={this.state.openSections.indexOf(index) > -1}\n\t\t\t\t\t\tshowActionText={showActionText}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nAccordion.defaultProps = {\n\tallowMultiOpen: false,\n\twrapperId: '',\n\tdoScroll: true\n};\n\nexport default Accordion;\n"]},"metadata":{},"sourceType":"module"}