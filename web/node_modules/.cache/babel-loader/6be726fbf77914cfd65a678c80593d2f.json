{"ast":null,"code":"import _slicedToArray from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/Documents/projects/hollaex/src/components/Form/FormFields/FileField.js\";\nimport React, { Component } from 'react';\nimport classnames from 'classnames';\nimport FieldWrapper from './FieldWrapper';\nimport { ActionNotification } from '../../';\nimport { ICONS } from '../../../config/constants';\nimport STRINGS from '../../../config/localizedStrings';\n\nvar FileField =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FileField, _Component);\n\n  function FileField() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, FileField);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(FileField)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      filename: '',\n      fileArray: []\n    };\n\n    _this.onClick = function (ev) {\n      if (_this.fileInput) {\n        _this.fileInput.click();\n      }\n    };\n\n    _this.onChange = function (ev) {\n      if (_this.props.multiple) {\n        if (_this.props.length >= ev.target.files.length && _this.state.fileArray.length + ev.target.files.length <= _this.props.length) {\n          var newFiles = [];\n          Object.entries(ev.target.files).map(function (_ref, index) {\n            var _ref2 = _slicedToArray(_ref, 2),\n                key = _ref2[0],\n                value = _ref2[1];\n\n            return newFiles.push(ev.target.files[key]);\n          });\n\n          var joined = _this.state.fileArray.concat(newFiles);\n\n          _this.setState({\n            fileArray: joined\n          }, function () {\n            _this.props.input.onChange(_this.state.fileArray);\n          });\n        }\n      } else {\n        var file = ev.target.files[0];\n\n        _this.setState({\n          filename: file.name\n        });\n\n        _this.props.input.onChange(file);\n      }\n    };\n\n    _this.setRef = function (el) {\n      _this.fileInput = el;\n    };\n\n    return _this;\n  }\n\n  _createClass(FileField, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          placeholder = _this$props.placeholder,\n          multiple = _this$props.multiple,\n          length = _this$props.length;\n      var _this$state = this.state,\n          filename = _this$state.filename,\n          fileArray = _this$state.fileArray;\n      var input = {\n        onChange: this.onChange,\n        ref: this.setRef,\n        multiple: multiple ? multiple : false,\n        accept: 'image/*',\n        style: {\n          display: 'none'\n        }\n      };\n      return React.createElement(FieldWrapper, Object.assign({}, this.props, {\n        onClick: this.onClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        onClick: fileArray.length !== length ? this.onClick : '',\n        className: multiple && fileArray.length > 0 ? 'pointer multiple_file_wrapper' : 'pointer file_wrapper',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, multiple && fileArray.length > 0 ? fileArray.map(function (file, index) {\n        return React.createElement(\"div\", {\n          key: index,\n          className: classnames('text_overflow', {\n            placeholder: !file.name\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, file.name);\n      }) : React.createElement(\"div\", {\n        className: classnames('text_overflow', {\n          placeholder: !filename\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, filename ? filename : placeholder), multiple ? fileArray.length !== length && multiple && React.createElement(ActionNotification, {\n        text: STRINGS.ADD_FILES,\n        status: \"information\",\n        iconPath: ICONS.BLUE_CLIP,\n        className: \"no_bottom pr-0 pl-0\",\n        useSvg: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }) : !filename && React.createElement(ActionNotification, {\n        text: STRINGS.ADD_FILES,\n        status: \"information\",\n        iconPath: ICONS.BLUE_CLIP,\n        className: \"no_bottom pr-0 pl-0\",\n        useSvg: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), React.createElement(\"input\", Object.assign({\n        type: \"file\",\n        className: \"input_file\"\n      }, input, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return FileField;\n}(Component);\n\nexport default FileField;","map":{"version":3,"sources":["/home/user/Documents/projects/hollaex/src/components/Form/FormFields/FileField.js"],"names":["React","Component","classnames","FieldWrapper","ActionNotification","ICONS","STRINGS","FileField","state","filename","fileArray","onClick","ev","fileInput","click","onChange","props","multiple","length","target","files","newFiles","Object","entries","map","index","key","value","push","joined","concat","setState","input","file","name","setRef","el","placeholder","ref","accept","style","display","ADD_FILES","BLUE_CLIP"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport classnames from 'classnames';\nimport FieldWrapper from './FieldWrapper';\nimport { ActionNotification } from '../../';\nimport { ICONS } from '../../../config/constants';\nimport STRINGS from '../../../config/localizedStrings';\n\nclass FileField extends Component {\n\tstate = {\n\t\tfilename: '',\n\t\tfileArray: []\n\t};\n\tonClick = (ev) => {\n\t\tif (this.fileInput) {\n\t\t\tthis.fileInput.click();\n\t\t}\n\t};\n\n\tonChange = (ev) => {\n\t\tif (this.props.multiple) {\n\t\t\tif (\n\t\t\t\tthis.props.length >= ev.target.files.length &&\n\t\t\t\tthis.state.fileArray.length + ev.target.files.length <=\n\t\t\t\t\tthis.props.length\n\t\t\t) {\n\t\t\t\tlet newFiles = [];\n\t\t\t\tObject.entries(ev.target.files).map(([key, value], index) =>\n\t\t\t\t\tnewFiles.push(ev.target.files[key])\n\t\t\t\t);\n\t\t\t\tvar joined = this.state.fileArray.concat(newFiles);\n\t\t\t\tthis.setState({ fileArray: joined }, () => {\n\t\t\t\t\tthis.props.input.onChange(this.state.fileArray);\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tconst file = ev.target.files[0];\n\t\t\tthis.setState({ filename: file.name });\n\t\t\tthis.props.input.onChange(file);\n\t\t}\n\t};\n\n\tsetRef = (el) => {\n\t\tthis.fileInput = el;\n\t};\n\n\trender() {\n\t\tconst { placeholder, multiple, length } = this.props;\n\t\tconst { filename, fileArray } = this.state;\n\t\tconst input = {\n\t\t\tonChange: this.onChange,\n\t\t\tref: this.setRef,\n\t\t\tmultiple: multiple ? multiple : false,\n\t\t\taccept: 'image/*',\n\t\t\tstyle: { display: 'none' }\n\t\t};\n\n\t\treturn (\n\t\t\t<FieldWrapper {...this.props} onClick={this.onClick}>\n\t\t\t\t<div\n\t\t\t\t\tonClick={fileArray.length !== length ? this.onClick : ''}\n\t\t\t\t\tclassName={\n\t\t\t\t\t\tmultiple && fileArray.length > 0\n\t\t\t\t\t\t\t? 'pointer multiple_file_wrapper'\n\t\t\t\t\t\t\t: 'pointer file_wrapper'\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t{multiple && fileArray.length > 0 ? (\n\t\t\t\t\t\tfileArray.map((file, index) => (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\tclassName={classnames('text_overflow', {\n\t\t\t\t\t\t\t\t\tplaceholder: !file.name\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{file.name}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={classnames('text_overflow', {\n\t\t\t\t\t\t\t\tplaceholder: !filename\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{filename ? filename : placeholder}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{multiple\n\t\t\t\t\t\t? fileArray.length !== length &&\n\t\t\t\t\t\t  multiple && (\n\t\t\t\t\t\t\t\t<ActionNotification\n\t\t\t\t\t\t\t\t\ttext={STRINGS.ADD_FILES}\n\t\t\t\t\t\t\t\t\tstatus=\"information\"\n\t\t\t\t\t\t\t\t\ticonPath={ICONS.BLUE_CLIP}\n\t\t\t\t\t\t\t\t\tclassName=\"no_bottom pr-0 pl-0\"\n\t\t\t\t\t\t\t\t\tuseSvg={true}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: !filename && (\n\t\t\t\t\t\t\t\t<ActionNotification\n\t\t\t\t\t\t\t\t\ttext={STRINGS.ADD_FILES}\n\t\t\t\t\t\t\t\t\tstatus=\"information\"\n\t\t\t\t\t\t\t\t\ticonPath={ICONS.BLUE_CLIP}\n\t\t\t\t\t\t\t\t\tclassName=\"no_bottom pr-0 pl-0\"\n\t\t\t\t\t\t\t\t\tuseSvg={true}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t  )}\n\t\t\t\t\t<input type=\"file\" className=\"input_file\" {...input} />\n\t\t\t\t</div>\n\t\t\t</FieldWrapper>\n\t\t);\n\t}\n}\n\nexport default FileField;\n"]},"metadata":{},"sourceType":"module"}