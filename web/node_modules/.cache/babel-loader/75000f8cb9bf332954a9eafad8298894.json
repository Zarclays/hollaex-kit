{"ast":null,"code":"import _classCallCheck from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _toConsumableArray from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nvar _jsxFileName = \"/home/user/Documents/projects/hollaex/src/containers/TransactionsHistory/index.js\";\nimport React, { Component } from 'react';\nimport classnames from 'classnames';\nimport { connect } from 'react-redux';\nimport { isMobile } from 'react-device-detect';\nimport { getUserTrades as _getUserTrades, getUserDeposits as _getUserDeposits, getUserWithdrawals as _getUserWithdrawals, withdrawalCancel as _withdrawalCancel } from '../../actions/walletActions';\nimport { IconTitle, TabController, Loader, CheckTitle, Dialog, Button, CurrencyBallWithPrice } from '../../components';\nimport { ICONS, FLEX_CENTER_CLASSES, BASE_CURRENCY, DEFAULT_COIN_DATA } from '../../config/constants';\nimport { generateTradeHeaders, generateTradeHeadersMobile, generateDepositsHeaders, generateWithdrawalsHeaders } from './utils';\nimport { RECORD_LIMIT } from './constants';\nimport HistoryDisplay from './HistoryDisplay';\nimport STRINGS from '../../config/localizedStrings';\nvar GROUP_CLASSES = [].concat(_toConsumableArray(FLEX_CENTER_CLASSES), ['flex-column']);\n\nvar TransactionsHistory =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TransactionsHistory, _Component);\n\n  function TransactionsHistory() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, TransactionsHistory);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TransactionsHistory)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      headers: [],\n      activeTab: 0,\n      dialogIsOpen: false,\n      amount: 0,\n      transactionId: 0,\n      jumpToPage: 0\n    };\n\n    _this.onCloseDialog = function () {\n      _this.setState({\n        dialogIsOpen: false\n      });\n    };\n\n    _this.openDialog = function () {\n      _this.setState({\n        dialogIsOpen: true\n      });\n    };\n\n    _this.requestData = function (symbol) {\n      switch (_this.state.activeTab) {\n        case 0:\n          _this.props.getUserTrades(symbol, RECORD_LIMIT);\n\n          break;\n\n        case 1:\n          _this.props.getUserDeposits(symbol, RECORD_LIMIT);\n\n          break;\n\n        case 2:\n          _this.props.getUserWithdrawals(symbol, RECORD_LIMIT);\n\n          break;\n\n        default:\n      }\n    };\n\n    _this.setActiveTab = function () {\n      var activeTab = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var _this$props = _this.props,\n          symbol = _this$props.symbol,\n          trades = _this$props.trades,\n          withdrawals = _this$props.withdrawals,\n          deposits = _this$props.deposits;\n      var jumpToPage = _this.state.jumpToPage;\n\n      if (jumpToPage !== 0) {\n        _this.setState({\n          jumpToPage: 0\n        });\n      }\n\n      _this.setState({\n        activeTab: activeTab\n      }, function () {\n        if (trades.page === 1 && trades.fetched === false || withdrawals.page === 1 && withdrawals.fetched === false || deposits.page === 1 && deposits.fetched === false) {\n          _this.requestData(symbol);\n        }\n      });\n    };\n\n    _this.withdrawalPopup = function (id, amount) {\n      if (id) {\n        _this.setState({\n          amount: amount,\n          transactionId: id\n        });\n\n        _this.openDialog();\n      }\n    };\n\n    _this.withdrawalCancel = function () {\n      var transactionId = _this.state.transactionId;\n\n      _this.props.withdrawalCancel(transactionId);\n    };\n\n    _this.onClose = function () {\n      _this.onCloseDialog();\n    };\n\n    _this.handleNext = function (pageCount, pageNumber) {\n      var _this$props2 = _this.props,\n          trades = _this$props2.trades,\n          symbol = _this$props2.symbol,\n          deposits = _this$props2.deposits,\n          withdrawals = _this$props2.withdrawals;\n      var pageTemp = pageNumber % 2 === 0 ? 2 : 1;\n      var apiPageTemp = Math.floor((pageNumber + 1) / 2);\n\n      switch (_this.state.activeTab) {\n        case 0:\n          if (RECORD_LIMIT === pageCount * pageTemp && apiPageTemp >= trades.page && trades.isRemaining) {\n            _this.props.getUserTrades(symbol, RECORD_LIMIT, trades.page + 1);\n\n            _this.setState({\n              jumpToPage: pageNumber\n            });\n          }\n\n          break;\n\n        case 1:\n          if (RECORD_LIMIT === pageCount * pageTemp && apiPageTemp >= deposits.page && deposits.isRemaining) {\n            _this.props.getUserDeposits(symbol, RECORD_LIMIT, deposits.page + 1);\n\n            _this.setState({\n              jumpToPage: pageNumber\n            });\n          }\n\n          break;\n\n        case 2:\n          if (RECORD_LIMIT === pageCount * pageTemp && apiPageTemp >= withdrawals.page && withdrawals.isRemaining) {\n            _this.props.getUserWithdrawals(symbol, RECORD_LIMIT, withdrawals.page + 1);\n\n            _this.setState({\n              jumpToPage: pageNumber\n            });\n          }\n\n          break;\n\n        default:\n      }\n    };\n\n    _this.renderActiveTab = function () {\n      var _this$props3 = _this.props,\n          trades = _this$props3.trades,\n          deposits = _this$props3.deposits,\n          withdrawals = _this$props3.withdrawals,\n          symbol = _this$props3.symbol;\n      var _this$state = _this.state,\n          headers = _this$state.headers,\n          activeTab = _this$state.activeTab; // const name = STRINGS[`${symbol.toUpperCase()}_NAME`];\n\n      var props = {\n        symbol: symbol,\n        withIcon: true\n      };\n\n      switch (activeTab) {\n        case 0:\n          props.title = \"\".concat(STRINGS.TRANSACTION_HISTORY.TITLE_TRADES);\n          props.headers = headers.trades;\n          props.data = trades;\n          props.filename = \"\".concat(symbol, \"-transfers_history\");\n          props.withIcon = false;\n          props.handleNext = _this.handleNext;\n          props.jumpToPage = _this.state.jumpToPage;\n          break;\n\n        case 1:\n          props.title = STRINGS.TRANSACTION_HISTORY.TITLE_DEPOSITS;\n          props.headers = headers.deposits;\n          props.data = deposits;\n          props.filename = \"\".concat(symbol, \"-deposits_history\");\n          props.handleNext = _this.handleNext;\n          props.jumpToPage = _this.state.jumpToPage;\n          break;\n\n        case 2:\n          props.title = STRINGS.TRANSACTION_HISTORY.TITLE_WITHDRAWALS;\n          props.headers = headers.withdrawals;\n          props.data = withdrawals;\n          props.filename = \"\".concat(symbol, \"-withdrawals_history\");\n          props.handleNext = _this.handleNext;\n          props.jumpToPage = _this.state.jumpToPage;\n          break;\n\n        default:\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 203\n            },\n            __self: this\n          });\n      }\n\n      return React.createElement(HistoryDisplay, Object.assign({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }));\n    };\n\n    return _this;\n  }\n\n  _createClass(TransactionsHistory, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.requestData(this.props.symbol);\n      this.generateHeaders(this.props.symbol, this.props.coins);\n\n      if (this.props.location && this.props.location.query && this.props.location.query.tab) {\n        this.setActiveTab(parseInt(this.props.location.query.tab, 10));\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      // if (nextProps.symbol !== this.props.symbol) {\n      // this.requestData(nextProps.symbol);\n      // this.generateHeaders(nextProps.symbol, nextProps.activeLanguage);\n      // } else if (nextProps.activeLanguage !== this.props.activeLanguage) {\n      if (nextProps.activeLanguage !== this.props.activeLanguage) {\n        this.generateHeaders(nextProps.symbol, nextProps.coins);\n      }\n\n      if (this.props.cancelData.dismissed !== nextProps.cancelData.dismissed && nextProps.cancelData.dismissed === true) {\n        this.onCloseDialog();\n        this.requestData(nextProps.symbol);\n      }\n    }\n  }, {\n    key: \"generateHeaders\",\n    value: function generateHeaders(symbol, coins) {\n      var withdrawalPopup = this.withdrawalPopup;\n      var pairs = this.props.pairs;\n      this.setState({\n        headers: {\n          trades: isMobile ? generateTradeHeadersMobile(symbol, pairs, coins) : generateTradeHeaders(symbol, pairs, coins),\n          deposits: generateDepositsHeaders(symbol, coins, withdrawalPopup),\n          withdrawals: generateWithdrawalsHeaders(symbol, coins, withdrawalPopup)\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n          id = _this$props4.id,\n          activeTheme = _this$props4.activeTheme,\n          coins = _this$props4.coins;\n      var _this$state2 = this.state,\n          activeTab = _this$state2.activeTab,\n          dialogIsOpen = _this$state2.dialogIsOpen,\n          amount = _this$state2.amount;\n      var onCloseDialog = this.onCloseDialog;\n\n      var _ref = coins[BASE_CURRENCY] || DEFAULT_COIN_DATA,\n          fullname = _ref.fullname;\n\n      if (!id) {\n        return React.createElement(Loader, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: classnames('presentation_container', 'apply_rtl', 'transaction-history-wrapper', isMobile && 'overflow-y'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, !isMobile && React.createElement(IconTitle, {\n        text: STRINGS.TRANSACTION_HISTORY.TITLE,\n        iconPath: ICONS.TRANSACTION_HISTORY,\n        textType: \"title\",\n        useSvg: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }), React.createElement(TabController, {\n        tabs: [{\n          title: isMobile ? STRINGS.TRANSACTION_HISTORY.TRADES : React.createElement(CheckTitle, {\n            title: STRINGS.TRANSACTION_HISTORY.TRADES,\n            icon: ICONS.TRADE_HISTORY,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 242\n            },\n            __self: this\n          })\n        }, {\n          title: isMobile ? STRINGS.TRANSACTION_HISTORY.DEPOSITS : React.createElement(CheckTitle, {\n            title: STRINGS.TRANSACTION_HISTORY.DEPOSITS,\n            icon: ICONS.DEPOSIT_HISTORY,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 252\n            },\n            __self: this\n          })\n        }, {\n          title: isMobile ? STRINGS.TRANSACTION_HISTORY.WITHDRAWALS : React.createElement(CheckTitle, {\n            title: STRINGS.TRANSACTION_HISTORY.WITHDRAWALS,\n            icon: ICONS.WITHDRAW_HISTORY,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 262\n            },\n            __self: this\n          })\n        }],\n        activeTab: activeTab,\n        setActiveTab: this.setActiveTab,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }), React.createElement(Dialog, {\n        isOpen: dialogIsOpen,\n        label: \"token-modal\",\n        theme: activeTheme,\n        onCloseDialog: onCloseDialog,\n        shouldCloseOnOverlayClick: true,\n        showCloseText: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, React.createElement(IconTitle, {\n        iconPath: activeTheme === 'dark' ? ICONS.CANCEL_WITHDRAW_DARK : ICONS.CANCEL_WITHDRAW_LIGHT,\n        text: STRINGS.formatString(STRINGS.CANCEL_BASE_WITHDRAWAL, fullname),\n        textType: \"title\",\n        underline: true,\n        className: \"w-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"text-center mt-5 mb-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }, STRINGS.CANCEL_WITHDRAWAL_POPUP_CONFIRM), React.createElement(\"div\", {\n        className: classnames.apply(void 0, _toConsumableArray(GROUP_CLASSES)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      }, React.createElement(CurrencyBallWithPrice, {\n        symbol: BASE_CURRENCY,\n        amount: amount,\n        price: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"w-100 buttons-wrapper d-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }, React.createElement(Button, {\n        label: STRINGS.BACK_TEXT,\n        onClick: this.onClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"separator\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }), React.createElement(Button, {\n        label: STRINGS.CANCEL_WITHDRAWAL,\n        onClick: this.withdrawalCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        className: classnames('inner_container', 'with_border_top'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }, this.renderActiveTab()));\n    }\n  }]);\n\n  return TransactionsHistory;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    pairs: store.app.pairs,\n    coins: store.app.coins,\n    id: store.user.id,\n    trades: store.wallet.trades,\n    deposits: store.wallet.deposits,\n    withdrawals: store.wallet.withdrawals,\n    symbol: store.orderbook.symbol,\n    activeLanguage: store.app.language,\n    activeTheme: store.app.theme,\n    cancelData: store.wallet.withdrawalCancelData\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getUserTrades: function getUserTrades(symbol, limit) {\n      var page = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n      return dispatch(_getUserTrades({\n        symbol: symbol,\n        limit: limit,\n        page: page\n      }));\n    },\n    getUserDeposits: function getUserDeposits(symbol, limit) {\n      var page = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n      return dispatch(_getUserDeposits({\n        symbol: symbol,\n        limit: limit,\n        page: page\n      }));\n    },\n    getUserWithdrawals: function getUserWithdrawals(symbol, limit) {\n      var page = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n      return dispatch(_getUserWithdrawals({\n        symbol: symbol,\n        limit: limit,\n        page: page\n      }));\n    },\n    withdrawalCancel: function withdrawalCancel(transactionId) {\n      return dispatch(_withdrawalCancel({\n        transactionId: transactionId\n      }));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TransactionsHistory);","map":{"version":3,"sources":["/home/user/Documents/projects/hollaex/src/containers/TransactionsHistory/index.js"],"names":["React","Component","classnames","connect","isMobile","getUserTrades","getUserDeposits","getUserWithdrawals","withdrawalCancel","IconTitle","TabController","Loader","CheckTitle","Dialog","Button","CurrencyBallWithPrice","ICONS","FLEX_CENTER_CLASSES","BASE_CURRENCY","DEFAULT_COIN_DATA","generateTradeHeaders","generateTradeHeadersMobile","generateDepositsHeaders","generateWithdrawalsHeaders","RECORD_LIMIT","HistoryDisplay","STRINGS","GROUP_CLASSES","TransactionsHistory","state","headers","activeTab","dialogIsOpen","amount","transactionId","jumpToPage","onCloseDialog","setState","openDialog","requestData","symbol","props","setActiveTab","trades","withdrawals","deposits","page","fetched","withdrawalPopup","id","onClose","handleNext","pageCount","pageNumber","pageTemp","apiPageTemp","Math","floor","isRemaining","renderActiveTab","withIcon","title","TRANSACTION_HISTORY","TITLE_TRADES","data","filename","TITLE_DEPOSITS","TITLE_WITHDRAWALS","generateHeaders","coins","location","query","tab","parseInt","nextProps","activeLanguage","cancelData","dismissed","pairs","activeTheme","fullname","TITLE","TRADES","TRADE_HISTORY","DEPOSITS","DEPOSIT_HISTORY","WITHDRAWALS","WITHDRAW_HISTORY","CANCEL_WITHDRAW_DARK","CANCEL_WITHDRAW_LIGHT","formatString","CANCEL_BASE_WITHDRAWAL","CANCEL_WITHDRAWAL_POPUP_CONFIRM","BACK_TEXT","CANCEL_WITHDRAWAL","mapStateToProps","store","app","user","wallet","orderbook","language","theme","withdrawalCancelData","mapDispatchToProps","dispatch","limit"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport classnames from 'classnames';\nimport { connect } from 'react-redux';\nimport { isMobile } from 'react-device-detect';\n\nimport {\n\tgetUserTrades,\n\tgetUserDeposits,\n\tgetUserWithdrawals,\n\twithdrawalCancel\n} from '../../actions/walletActions';\n\nimport { IconTitle, TabController, Loader, CheckTitle, Dialog, Button, CurrencyBallWithPrice } from '../../components';\nimport { ICONS, FLEX_CENTER_CLASSES, BASE_CURRENCY, DEFAULT_COIN_DATA } from '../../config/constants';\nimport {\n\tgenerateTradeHeaders,\n\tgenerateTradeHeadersMobile,\n\tgenerateDepositsHeaders,\n\tgenerateWithdrawalsHeaders\n} from './utils';\nimport { RECORD_LIMIT } from './constants';\nimport HistoryDisplay from './HistoryDisplay';\n\nimport STRINGS from '../../config/localizedStrings';\n\nconst GROUP_CLASSES = [...FLEX_CENTER_CLASSES, 'flex-column'];\n\nclass TransactionsHistory extends Component {\n\tstate = {\n\t\theaders: [],\n\t\tactiveTab: 0,\n\t\tdialogIsOpen: false,\n\t\tamount: 0,\n\t\ttransactionId: 0,\n\t\tjumpToPage: 0\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.requestData(this.props.symbol);\n\t\tthis.generateHeaders(this.props.symbol, this.props.coins);\n\t\tif (this.props.location\n\t\t\t&& this.props.location.query\n\t\t\t&& this.props.location.query.tab) {\n\t\t\tthis.setActiveTab(parseInt(this.props.location.query.tab, 10));\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\t// if (nextProps.symbol !== this.props.symbol) {\n\t\t// this.requestData(nextProps.symbol);\n\t\t// this.generateHeaders(nextProps.symbol, nextProps.activeLanguage);\n\t\t// } else if (nextProps.activeLanguage !== this.props.activeLanguage) {\n\t\tif (nextProps.activeLanguage !== this.props.activeLanguage) {\n\t\t\tthis.generateHeaders(nextProps.symbol, nextProps.coins);\n\t\t}\n\t\tif ((this.props.cancelData.dismissed !== nextProps.cancelData.dismissed) && nextProps.cancelData.dismissed === true) {\n\t\t\tthis.onCloseDialog()\n\t\t\tthis.requestData(nextProps.symbol);\n\n\t\t}\n\t}\n\n\tonCloseDialog = () => {\n\t\tthis.setState({\n\t\t\tdialogIsOpen: false,\n\t\t});\n\t};\n\n\topenDialog = () => {\n\t\tthis.setState({ dialogIsOpen: true });\n\t};\n\n\trequestData = (symbol) => {\n\t\tswitch (this.state.activeTab) {\n\t\t\tcase 0:\n\t\t\t\tthis.props.getUserTrades(symbol, RECORD_LIMIT);\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tthis.props.getUserDeposits(symbol, RECORD_LIMIT);\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tthis.props.getUserWithdrawals(symbol, RECORD_LIMIT);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t}\n\t};\n\n\tgenerateHeaders(symbol, coins) {\n\t\tconst { withdrawalPopup } = this\n\t\tconst { pairs } = this.props;\n\t\tthis.setState({\n\t\t\theaders: {\n\t\t\t\ttrades: isMobile\n\t\t\t\t\t? generateTradeHeadersMobile(symbol, pairs, coins)\n\t\t\t\t\t: generateTradeHeaders(symbol, pairs, coins),\n\t\t\t\tdeposits: generateDepositsHeaders(symbol, coins, withdrawalPopup),\n\t\t\t\twithdrawals: generateWithdrawalsHeaders(symbol, coins, withdrawalPopup)\n\t\t\t}\n\t\t});\n\t}\n\n\tsetActiveTab = (activeTab = 0) => {\n\t\tconst { symbol, trades, withdrawals, deposits } = this.props;\n\t\tconst { jumpToPage } = this.state\n\t\tif (jumpToPage !== 0) {\n\t\t\tthis.setState({\n\t\t\t\tjumpToPage: 0,\n\t\t\t})\n\t\t}\n\t\tthis.setState({ activeTab }, () => {\n\t\t\tif ((trades.page === 1 && trades.fetched === false)\n\t\t\t\t|| (withdrawals.page === 1 && withdrawals.fetched === false)\n\t\t\t\t|| (deposits.page === 1 && deposits.fetched === false)) {\n\t\t\t\tthis.requestData(symbol);\n\t\t\t}\n\t\t});\n\t};\n\twithdrawalPopup = (id, amount) => {\n\t\tif (id) {\n\t\t\tthis.setState({ amount: amount, transactionId: id });\n\t\t\tthis.openDialog()\n\t\t}\n\t};\n\n\twithdrawalCancel = () => {\n\t\tconst { transactionId } = this.state\n\t\tthis.props.withdrawalCancel(transactionId);\n\t}\n\tonClose = () => {\n\t\tthis.onCloseDialog()\n\t}\n\n\thandleNext = (pageCount, pageNumber) => {\n\t\tconst { trades, symbol, deposits, withdrawals } = this.props;\n\t\tconst pageTemp = (pageNumber % 2) === 0 ? 2 : 1;\n\t\tconst apiPageTemp = Math.floor(((pageNumber + 1) / 2));\n\t\tswitch (this.state.activeTab) {\n\t\t\tcase 0:\n\t\t\t\tif (RECORD_LIMIT === (pageCount * pageTemp)\n\t\t\t\t\t&& apiPageTemp >= trades.page\n\t\t\t\t\t&& trades.isRemaining) {\n\t\t\t\t\tthis.props.getUserTrades(symbol, RECORD_LIMIT, trades.page + 1);\n\t\t\t\t\tthis.setState({ jumpToPage: pageNumber });\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tif (RECORD_LIMIT === (pageCount * pageTemp)\n\t\t\t\t\t&& apiPageTemp >= deposits.page\n\t\t\t\t\t&& deposits.isRemaining) {\n\t\t\t\t\tthis.props.getUserDeposits(symbol, RECORD_LIMIT, deposits.page + 1);\n\t\t\t\t\tthis.setState({ jumpToPage: pageNumber });\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tif (RECORD_LIMIT === (pageCount * pageTemp)\n\t\t\t\t\t&& apiPageTemp >= withdrawals.page\n\t\t\t\t\t&& withdrawals.isRemaining) {\n\t\t\t\t\tthis.props.getUserWithdrawals(symbol, RECORD_LIMIT, withdrawals.page + 1);\n\t\t\t\t\tthis.setState({ jumpToPage: pageNumber });\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t}\n\t};\n\n\trenderActiveTab = () => {\n\t\tconst { trades, deposits, withdrawals, symbol } = this.props;\n\t\tconst { headers, activeTab } = this.state;\n\t\t// const name = STRINGS[`${symbol.toUpperCase()}_NAME`];\n\n\t\tconst props = {\n\t\t\tsymbol,\n\t\t\twithIcon: true\n\t\t};\n\n\t\tswitch (activeTab) {\n\t\t\tcase 0:\n\t\t\t\tprops.title = `${STRINGS.TRANSACTION_HISTORY.TITLE_TRADES}`;\n\t\t\t\tprops.headers = headers.trades;\n\t\t\t\tprops.data = trades;\n\t\t\t\tprops.filename = `${symbol}-transfers_history`;\n\t\t\t\tprops.withIcon = false;\n\t\t\t\tprops.handleNext = this.handleNext;\n\t\t\t\tprops.jumpToPage = this.state.jumpToPage;\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tprops.title = STRINGS.TRANSACTION_HISTORY.TITLE_DEPOSITS;\n\t\t\t\tprops.headers = headers.deposits;\n\t\t\t\tprops.data = deposits;\n\t\t\t\tprops.filename = `${symbol}-deposits_history`;\n\t\t\t\tprops.handleNext = this.handleNext;\n\t\t\t\tprops.jumpToPage = this.state.jumpToPage;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tprops.title = STRINGS.TRANSACTION_HISTORY.TITLE_WITHDRAWALS;\n\t\t\t\tprops.headers = headers.withdrawals;\n\t\t\t\tprops.data = withdrawals;\n\t\t\t\tprops.filename = `${symbol}-withdrawals_history`;\n\t\t\t\tprops.handleNext = this.handleNext;\n\t\t\t\tprops.jumpToPage = this.state.jumpToPage;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn <div />;\n\t\t}\n\n\t\treturn <HistoryDisplay {...props} />;\n\t};\n\n\trender() {\n\t\tconst { id, activeTheme, coins } = this.props;\n\t\tconst { activeTab, dialogIsOpen, amount } = this.state;\n\t\tconst { onCloseDialog } = this;\n\t\tconst { fullname } = coins[BASE_CURRENCY] || DEFAULT_COIN_DATA;\n\n\t\tif (!id) {\n\t\t\treturn <Loader />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={classnames(\n\t\t\t\t\t'presentation_container',\n\t\t\t\t\t'apply_rtl',\n\t\t\t\t\t'transaction-history-wrapper',\n\t\t\t\t\tisMobile && 'overflow-y'\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t{!isMobile && (\n\t\t\t\t\t<IconTitle\n\t\t\t\t\t\ttext={STRINGS.TRANSACTION_HISTORY.TITLE}\n\t\t\t\t\t\ticonPath={ICONS.TRANSACTION_HISTORY}\n\t\t\t\t\t\ttextType=\"title\"\n\t\t\t\t\t\tuseSvg={true}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<TabController\n\t\t\t\t\ttabs={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: isMobile ? (\n\t\t\t\t\t\t\t\tSTRINGS.TRANSACTION_HISTORY.TRADES\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<CheckTitle\n\t\t\t\t\t\t\t\t\t\ttitle={STRINGS.TRANSACTION_HISTORY.TRADES}\n\t\t\t\t\t\t\t\t\t\ticon={ICONS.TRADE_HISTORY}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: isMobile ? (\n\t\t\t\t\t\t\t\tSTRINGS.TRANSACTION_HISTORY.DEPOSITS\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<CheckTitle\n\t\t\t\t\t\t\t\t\t\ttitle={STRINGS.TRANSACTION_HISTORY.DEPOSITS}\n\t\t\t\t\t\t\t\t\t\ticon={ICONS.DEPOSIT_HISTORY}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: isMobile ? (\n\t\t\t\t\t\t\t\tSTRINGS.TRANSACTION_HISTORY.WITHDRAWALS\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<CheckTitle\n\t\t\t\t\t\t\t\t\t\ttitle={STRINGS.TRANSACTION_HISTORY.WITHDRAWALS}\n\t\t\t\t\t\t\t\t\t\ticon={ICONS.WITHDRAW_HISTORY}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t]}\n\t\t\t\t\tactiveTab={activeTab}\n\t\t\t\t\tsetActiveTab={this.setActiveTab}\n\t\t\t\t/>\n\t\t\t\t<Dialog\n\t\t\t\t\tisOpen={dialogIsOpen}\n\t\t\t\t\tlabel=\"token-modal\"\n\t\t\t\t\ttheme={activeTheme}\n\t\t\t\t\tonCloseDialog={onCloseDialog}\n\t\t\t\t\tshouldCloseOnOverlayClick={true}\n\t\t\t\t\tshowCloseText={false}\n\t\t\t\t>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<IconTitle\n\t\t\t\t\t\t\ticonPath={activeTheme === 'dark' ? ICONS.CANCEL_WITHDRAW_DARK : ICONS.CANCEL_WITHDRAW_LIGHT}\n\t\t\t\t\t\t\ttext={STRINGS.formatString(\n\t\t\t\t\t\t\t\tSTRINGS.CANCEL_BASE_WITHDRAWAL,\n\t\t\t\t\t\t\t\tfullname\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\ttextType=\"title\"\n\t\t\t\t\t\t\tunderline={true}\n\t\t\t\t\t\t\tclassName=\"w-100\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className='text-center mt-5 mb-5'>\n\t\t\t\t\t\t\t\t<div>{STRINGS.CANCEL_WITHDRAWAL_POPUP_CONFIRM}</div>\n\t\t\t\t\t\t\t\t<div className={classnames(...GROUP_CLASSES)}>\n\t\t\t\t\t\t\t\t\t<CurrencyBallWithPrice symbol={BASE_CURRENCY} amount={amount} price={1} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='w-100 buttons-wrapper d-flex' >\n\t\t\t\t\t\t\t\t<Button label={STRINGS.BACK_TEXT} onClick={this.onClose} />\n\t\t\t\t\t\t\t\t<div className='separator' />\n\t\t\t\t\t\t\t\t<Button label={STRINGS.CANCEL_WITHDRAWAL} onClick={this.withdrawalCancel} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Dialog>\n\t\t\t\t<div className={classnames('inner_container', 'with_border_top')}>\n\t\t\t\t\t{this.renderActiveTab()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (store) => ({\n\tpairs: store.app.pairs,\n\tcoins: store.app.coins,\n\tid: store.user.id,\n\ttrades: store.wallet.trades,\n\tdeposits: store.wallet.deposits,\n\twithdrawals: store.wallet.withdrawals,\n\tsymbol: store.orderbook.symbol,\n\tactiveLanguage: store.app.language,\n\tactiveTheme: store.app.theme,\n\tcancelData: store.wallet.withdrawalCancelData,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n\tgetUserTrades: (symbol, limit, page = 1) => dispatch(getUserTrades({ symbol, limit, page })),\n\tgetUserDeposits: (symbol, limit, page = 1) => dispatch(getUserDeposits({ symbol, limit, page })),\n\tgetUserWithdrawals: (symbol, limit, page = 1) => dispatch(getUserWithdrawals({ symbol, limit, page })),\n\twithdrawalCancel: (transactionId) => dispatch(withdrawalCancel({ transactionId }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(\n\tTransactionsHistory\n);\n"]},"metadata":{},"sourceType":"module"}