{"ast":null,"code":"var _jsxFileName = \"/home/user/Documents/projects/hollaex/src/containers/Admin/Otp/index.js\";\nimport React from 'react';\nimport { SubmissionError } from 'redux-form';\nimport { deactivateOtp } from './actions';\nimport { AdminHocForm } from '../../../components';\nvar Form = AdminHocForm('OTP_FORM');\n\nvar _onSubmit = function onSubmit(refreshData) {\n  return function (values) {\n    // redux form set numbers as string, se we have to parse them\n    var postValues = {\n      user_id: parseInt(values.user_id, 10)\n    };\n    return deactivateOtp(postValues).then(function (res) {\n      refreshData({\n        otp_enabled: false\n      });\n    }).catch(function (err) {\n      throw new SubmissionError({\n        _error: err.data.message\n      });\n    });\n  };\n};\n\nvar OTP = function OTP(_ref) {\n  var user_id = _ref.user_id,\n      otp_enabled = _ref.otp_enabled,\n      refreshData = _ref.refreshData;\n  return !otp_enabled ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, \"OTP is disabled\") : React.createElement(Form, {\n    onSubmit: function onSubmit() {\n      return _onSubmit(refreshData)({\n        user_id: user_id\n      });\n    },\n    buttonText: \"Deactivate\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  });\n};\n\nexport default OTP;","map":{"version":3,"sources":["/home/user/Documents/projects/hollaex/src/containers/Admin/Otp/index.js"],"names":["React","SubmissionError","deactivateOtp","AdminHocForm","Form","onSubmit","refreshData","values","postValues","user_id","parseInt","then","res","otp_enabled","catch","err","_error","data","message","OTP"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,QAAgC,YAAhC;AACA,SAASC,aAAT,QAA8B,WAA9B;AACA,SAASC,YAAT,QAA6B,qBAA7B;AAEA,IAAMC,IAAI,GAAGD,YAAY,CAAC,UAAD,CAAzB;;AAEA,IAAME,SAAQ,GAAG,SAAXA,QAAW,CAACC,WAAD;AAAA,SAAiB,UAACC,MAAD,EAAY;AAC7C;AACA,QAAMC,UAAU,GAAG;AAClBC,MAAAA,OAAO,EAAEC,QAAQ,CAACH,MAAM,CAACE,OAAR,EAAiB,EAAjB;AADC,KAAnB;AAIA,WAAOP,aAAa,CAACM,UAAD,CAAb,CACLG,IADK,CACA,UAACC,GAAD,EAAS;AACdN,MAAAA,WAAW,CAAC;AAAEO,QAAAA,WAAW,EAAE;AAAf,OAAD,CAAX;AACA,KAHK,EAILC,KAJK,CAIC,UAACC,GAAD,EAAS;AACf,YAAM,IAAId,eAAJ,CAAoB;AAAEe,QAAAA,MAAM,EAAED,GAAG,CAACE,IAAJ,CAASC;AAAnB,OAApB,CAAN;AACA,KANK,CAAP;AAOA,GAbgB;AAAA,CAAjB;;AAeA,IAAMC,GAAG,GAAG,SAANA,GAAM;AAAA,MAAGV,OAAH,QAAGA,OAAH;AAAA,MAAYI,WAAZ,QAAYA,WAAZ;AAAA,MAAyBP,WAAzB,QAAyBA,WAAzB;AAAA,SACX,CAACO,WAAD,GACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADD,GAGC,oBAAC,IAAD;AACC,IAAA,QAAQ,EAAE;AAAA,aAAMR,SAAQ,CAACC,WAAD,CAAR,CAAsB;AAAEG,QAAAA,OAAO,EAAPA;AAAF,OAAtB,CAAN;AAAA,KADX;AAEC,IAAA,UAAU,EAAC,YAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJU;AAAA,CAAZ;;AAUA,eAAeU,GAAf","sourcesContent":["import React from 'react';\nimport { SubmissionError } from 'redux-form';\nimport { deactivateOtp } from './actions';\nimport { AdminHocForm } from '../../../components';\n\nconst Form = AdminHocForm('OTP_FORM');\n\nconst onSubmit = (refreshData) => (values) => {\n\t// redux form set numbers as string, se we have to parse them\n\tconst postValues = {\n\t\tuser_id: parseInt(values.user_id, 10)\n\t};\n\n\treturn deactivateOtp(postValues)\n\t\t.then((res) => {\n\t\t\trefreshData({ otp_enabled: false });\n\t\t})\n\t\t.catch((err) => {\n\t\t\tthrow new SubmissionError({ _error: err.data.message });\n\t\t});\n};\n\nconst OTP = ({ user_id, otp_enabled, refreshData }) =>\n\t!otp_enabled ? (\n\t\t<div>OTP is disabled</div>\n\t) : (\n\t\t<Form\n\t\t\tonSubmit={() => onSubmit(refreshData)({ user_id })}\n\t\t\tbuttonText=\"Deactivate\"\n\t\t/>\n\t);\n\nexport default OTP;\n"]},"metadata":{},"sourceType":"module"}