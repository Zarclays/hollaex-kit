{"ast":null,"code":"import _classCallCheck from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/Documents/projects/hollaex/src/components/AppBar/AppMenuBar.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport ReactSVG from 'react-svg';\nimport classnames from 'classnames';\nimport { ICONS } from '../../config/constants';\nimport STRINGS from '../../config/localizedStrings';\n\nvar AppMenuBar =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AppMenuBar, _Component);\n\n  function AppMenuBar() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, AppMenuBar);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AppMenuBar)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      activeMenu: '',\n      securityPending: 0,\n      verificationPending: 0\n    };\n\n    _this.checkVerificationStatus = function (user) {\n      var userData = user.userData || {};\n      var phone_number = userData.phone_number,\n          full_name = userData.full_name,\n          _userData$id_data = userData.id_data,\n          id_data = _userData$id_data === void 0 ? {} : _userData$id_data,\n          _userData$bank_accoun = userData.bank_account,\n          bank_account = _userData$bank_accoun === void 0 ? [] : _userData$bank_accoun;\n      var securityPending = 0;\n      var verificationPending = 0;\n\n      if (!user.otp_enabled) {\n        securityPending += 1;\n      }\n\n      if (user.verification_level < 1 && !full_name) {\n        verificationPending += 1;\n      }\n\n      if (id_data.status === 0 || id_data.status === 2) {\n        verificationPending += 1;\n      }\n\n      if (!phone_number) {\n        verificationPending += 1;\n      }\n\n      if (bank_account.filter(function (acc) {\n        return acc.status === 0 || acc.status === 2;\n      }).length === bank_account.length) {\n        verificationPending += 1;\n      }\n\n      _this.setState({\n        securityPending: securityPending,\n        verificationPending: verificationPending\n      });\n    };\n\n    _this.handleMenuChange = function (menu) {\n      if (menu === 'account') {\n        _this.props.router.push('/account');\n      } else if (menu === 'security') {\n        _this.props.router.push('/security');\n      } else if (menu === 'verification') {\n        _this.props.router.push('/verification');\n      } else if (menu === 'wallet') {\n        _this.props.router.push('/wallet');\n      } else if (menu === 'settings') {\n        _this.props.router.push('/settings');\n      }\n      /* else if (menu === 'api') {\n      this.props.router.push('/api');\n      } */\n      else if (menu === 'summary') {\n          _this.props.router.push('/summary');\n        }\n\n      _this.setState({\n        activeMenu: menu\n      });\n    };\n\n    _this.setActiveMenu = function (path) {\n      var activeMenu = _this.state.activeMenu;\n\n      switch (path) {\n        case '/account':\n        case '/summary':\n          activeMenu = 'summary';\n          break;\n\n        case '/wallet':\n          activeMenu = 'wallet';\n          break;\n\n        case '/security':\n          activeMenu = 'security';\n          break;\n\n        case '/settings':\n          activeMenu = 'settings';\n          break;\n\n        case '/verification':\n          activeMenu = 'verification';\n          break;\n\n        case '/api':\n          activeMenu = 'api';\n          break;\n\n        default:\n          activeMenu = '';\n          break;\n      }\n\n      ;\n\n      _this.setState({\n        activeMenu: activeMenu\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(AppMenuBar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.location && this.props.location.pathname) {\n        this.setActiveMenu(this.props.location.pathname);\n      }\n\n      if (this.props.user && this.props.user.id) {\n        this.checkVerificationStatus(this.props.user);\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.location && nextProps.location && this.props.location.pathname !== nextProps.location.pathname) {\n        this.setActiveMenu(nextProps.location.pathname);\n      }\n\n      if (JSON.stringify(this.props.user) !== JSON.stringify(nextProps.user)) {\n        this.checkVerificationStatus(nextProps.user);\n      }\n\n      if (this.props.activeLanguage !== nextProps.activeLanguage) {\n        this.setActiveMenu(nextProps.location.pathname);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          activeMenu = _this$state.activeMenu,\n          securityPending = _this$state.securityPending,\n          verificationPending = _this$state.verificationPending;\n      return React.createElement(\"div\", {\n        className: \"d-flex justify-content-between\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"app-menu-bar d-flex align-items-end justify-content-center title-font\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classnames(\"app-menu-bar-content d-flex\", {\n          'active-menu': activeMenu === 'summary'\n        }),\n        onClick: function onClick() {\n          return _this2.handleMenuChange('summary');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"app-menu-bar-content-item d-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(ReactSVG, {\n        path: ICONS.TAB_SUMMARY,\n        wrapperClassName: \"app-menu-bar-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), STRINGS.ACCOUNTS.TAB_SUMMARY)), React.createElement(\"div\", {\n        className: classnames(\"app-menu-bar-content d-flex\", {\n          'active-menu': activeMenu === 'wallet'\n        }),\n        onClick: function onClick() {\n          return _this2.handleMenuChange('wallet');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"app-menu-bar-content-item d-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(ReactSVG, {\n        path: ICONS.TAB_WALLET,\n        wrapperClassName: \"app-menu-bar-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), STRINGS.ACCOUNTS.TAB_WALLET)), React.createElement(\"div\", {\n        className: classnames('app-menu-bar-content d-flex', {\n          'notification': !!securityPending,\n          'active-menu': activeMenu === 'security'\n        }),\n        onClick: function onClick() {\n          return _this2.handleMenuChange('security');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"app-menu-bar-content-item d-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, !!securityPending && React.createElement(\"div\", {\n        className: \"app-menu-bar-icon-notification\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, securityPending), React.createElement(ReactSVG, {\n        path: ICONS.TAB_SECURITY,\n        wrapperClassName: \"app-menu-bar-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }), STRINGS.ACCOUNTS.TAB_SECURITY)), React.createElement(\"div\", {\n        className: classnames('app-menu-bar-content d-flex', {\n          'notification': !!verificationPending,\n          'active-menu': activeMenu === 'verification'\n        }),\n        onClick: function onClick() {\n          return _this2.handleMenuChange('verification');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"app-menu-bar-content-item d-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, !!verificationPending && React.createElement(\"div\", {\n        className: \"app-menu-bar-icon-notification\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, verificationPending), React.createElement(ReactSVG, {\n        path: ICONS.TAB_VERIFY,\n        wrapperClassName: \"app-menu-bar-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }), STRINGS.ACCOUNTS.TAB_VERIFICATION)), React.createElement(\"div\", {\n        className: classnames(\"app-menu-bar-content d-flex\", {\n          'active-menu': activeMenu === 'settings'\n        }),\n        onClick: function onClick() {\n          return _this2.handleMenuChange('settings');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"app-menu-bar-content-item d-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(ReactSVG, {\n        path: ICONS.TAB_SETTING,\n        wrapperClassName: \"app-menu-bar-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }), STRINGS.ACCOUNTS.TAB_SETTINGS))), React.createElement(\"div\", {\n        className: \"app-menu-bar app-menu-bar-side\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return AppMenuBar;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    user: state.user,\n    activeLanguage: state.app.language\n  };\n};\n\nexport default connect(mapStateToProps)(AppMenuBar);","map":{"version":3,"sources":["/home/user/Documents/projects/hollaex/src/components/AppBar/AppMenuBar.js"],"names":["React","Component","connect","ReactSVG","classnames","ICONS","STRINGS","AppMenuBar","state","activeMenu","securityPending","verificationPending","checkVerificationStatus","user","userData","phone_number","full_name","id_data","bank_account","otp_enabled","verification_level","status","filter","acc","length","setState","handleMenuChange","menu","props","router","push","setActiveMenu","path","location","pathname","id","nextProps","JSON","stringify","activeLanguage","TAB_SUMMARY","ACCOUNTS","TAB_WALLET","TAB_SECURITY","TAB_VERIFY","TAB_VERIFICATION","TAB_SETTING","TAB_SETTINGS","mapStateToProps","app","language"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport ReactSVG from 'react-svg';\nimport classnames from 'classnames';\n\nimport { ICONS } from '../../config/constants';\nimport STRINGS from '../../config/localizedStrings';\n \nclass AppMenuBar extends Component {\n    state = {\n        activeMenu: '',\n        securityPending: 0,\n        verificationPending: 0\n    };\n\n    componentDidMount() {\n        if (this.props.location && this.props.location.pathname) {\n            this.setActiveMenu(this.props.location.pathname);\n        }\n        if (this.props.user && this.props.user.id) {\n            this.checkVerificationStatus(this.props.user);\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (this.props.location && nextProps.location\n            && this.props.location.pathname !== nextProps.location.pathname) {\n            this.setActiveMenu(nextProps.location.pathname);\n        }\n        if (JSON.stringify(this.props.user) !== JSON.stringify(nextProps.user)) {\n            this.checkVerificationStatus(nextProps.user);\n        }\n        if (this.props.activeLanguage !== nextProps.activeLanguage) {\n            this.setActiveMenu(nextProps.location.pathname);\n        }\n    }\n\n    checkVerificationStatus = user => {\n        const userData = user.userData || {};\n        const { phone_number, full_name, id_data = {}, bank_account = [] } = userData;\n        let securityPending = 0;\n        let verificationPending = 0;\n        if (!user.otp_enabled) {\n            securityPending += 1;\n        }\n        if (user.verification_level < 1 && !full_name) {\n            verificationPending += 1;\n        }\n        if (id_data.status === 0 || id_data.status === 2) {\n            verificationPending += 1;\n        }\n        if (!phone_number) {\n            verificationPending += 1;\n        }\n        if (bank_account.filter(acc => acc.status === 0 || acc.status === 2).length === bank_account.length) {\n            verificationPending += 1;\n        }\n        this.setState({ securityPending, verificationPending });\n    };\n\n    handleMenuChange = menu => {\n        if (menu === 'account') {\n            this.props.router.push('/account');\n        } else if (menu === 'security') {\n            this.props.router.push('/security');\n        } else if (menu === 'verification') {\n            this.props.router.push('/verification');\n        } else if (menu === 'wallet') {\n            this.props.router.push('/wallet');\n        } else if (menu === 'settings') {\n            this.props.router.push('/settings');\n        } /* else if (menu === 'api') {\n\t\t\tthis.props.router.push('/api');\n\t\t} */else if (menu === 'summary') {\n\t\t\tthis.props.router.push('/summary');\n\t\t}\n        this.setState({ activeMenu: menu });\n    };\n\n    setActiveMenu = path => {\n        let activeMenu = this.state.activeMenu;\n        switch (path) {\n            case '/account':\n            case '/summary':\n                activeMenu = 'summary';\n                break;\n            case '/wallet':\n                activeMenu = 'wallet';\n                break;\n            case '/security':\n                activeMenu = 'security';\n                break;\n            case '/settings':\n                activeMenu = 'settings';\n                break;\n            case '/verification':\n                activeMenu = 'verification';\n                break;\n            case '/api':\n                activeMenu = 'api';\n                break;\n            default:\n                activeMenu = '';\n                break;\n        };\n        this.setState({ activeMenu });\n    };\n\n    render() {\n        const { activeMenu, securityPending, verificationPending } = this.state;\n        return (\n            <div className=\"d-flex justify-content-between\">\n                <div className=\"app-menu-bar d-flex align-items-end justify-content-center title-font\">\n                    <div\n                        className={classnames(\"app-menu-bar-content d-flex\", { 'active-menu': activeMenu === 'summary' })}\n                        onClick={() => this.handleMenuChange('summary')}>\n                        <div className=\"app-menu-bar-content-item d-flex\">\n                            <ReactSVG path={ICONS.TAB_SUMMARY} wrapperClassName=\"app-menu-bar-icon\" />\n                            {STRINGS.ACCOUNTS.TAB_SUMMARY}\n                        </div>\n                    </div>\n                    <div\n                        className={classnames(\"app-menu-bar-content d-flex\", { 'active-menu': activeMenu === 'wallet' })}\n                        onClick={() => this.handleMenuChange('wallet')}>\n                        <div className=\"app-menu-bar-content-item d-flex\">\n                            <ReactSVG path={ICONS.TAB_WALLET} wrapperClassName=\"app-menu-bar-icon\" />\n                            {STRINGS.ACCOUNTS.TAB_WALLET}\n                        </div>\n                    </div>\n                    <div\n                        className={classnames('app-menu-bar-content d-flex', { 'notification': !!securityPending, 'active-menu': activeMenu === 'security' })}\n                        onClick={() => this.handleMenuChange('security')}>\n                        <div className=\"app-menu-bar-content-item d-flex\">\n                            {!!securityPending && <div className=\"app-menu-bar-icon-notification\">{securityPending}</div>}\n                            <ReactSVG path={ICONS.TAB_SECURITY} wrapperClassName=\"app-menu-bar-icon\" />\n                            {STRINGS.ACCOUNTS.TAB_SECURITY}\n                        </div>\n                    </div>\n                    <div\n                        className={classnames('app-menu-bar-content d-flex', { 'notification': !!verificationPending, 'active-menu': activeMenu === 'verification' })}\n                        onClick={() => this.handleMenuChange('verification')}>\n                        <div className=\"app-menu-bar-content-item d-flex\">\n                            {!!verificationPending && <div className=\"app-menu-bar-icon-notification\">{verificationPending}</div>}\n                            <ReactSVG path={ICONS.TAB_VERIFY} wrapperClassName=\"app-menu-bar-icon\" />\n                            {STRINGS.ACCOUNTS.TAB_VERIFICATION}\n                        </div>\n                    </div>\n                    <div\n                        className={classnames(\"app-menu-bar-content d-flex\", { 'active-menu': activeMenu === 'settings' })}\n                        onClick={() => this.handleMenuChange('settings')}>\n                        <div className=\"app-menu-bar-content-item d-flex\">\n                            <ReactSVG path={ICONS.TAB_SETTING} wrapperClassName=\"app-menu-bar-icon\" />\n                            {STRINGS.ACCOUNTS.TAB_SETTINGS}\n                        </div>\n                    </div>\n                    {/* <div\n                        className={classnames(\"app-menu-bar-content d-flex\", { 'active-menu': activeMenu === 'api' })}\n                        onClick={() => this.handleMenuChange('api')}>\n                        <div className=\"app-menu-bar-content-item d-flex\">\n                            <ReactSVG path={ICONS.TAB_API} wrapperClassName=\"app-menu-bar-icon\" />\n                            {STRINGS.ACCOUNTS.TAB_API}\n                        </div>\n                    </div> */}\n                </div>\n                <div className=\"app-menu-bar app-menu-bar-side\"></div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    user: state.user,\n    activeLanguage: state.app.language\n});\n\nexport default connect(mapStateToProps)(AppMenuBar);\n"]},"metadata":{},"sourceType":"module"}