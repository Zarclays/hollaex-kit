{"ast":null,"code":"var _jsxFileName = \"/home/user/Documents/projects/hollaex/src/containers/Withdraw/utils.js\";\nimport React from 'react';\nimport mathjs from 'mathjs';\nimport { Accordion } from '../../components';\nimport { ICONS, BANK_WITHDRAWAL_BASE_FEE, BANK_WITHDRAWAL_DYNAMIC_FEE_RATE, BANK_WITHDRAWAL_MAX_DYNAMIC_FEE, BANK_WITHDRAWAL_MAX_AMOUNT_FOR_BASE_FEE, BASE_CURRENCY } from '../../config/constants';\nimport STRINGS from '../../config/localizedStrings';\nimport { renderBankInformation } from '../Wallet/components';\nexport var generateBaseInformation = function generateBaseInformation(currency) {\n  var limits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _limits$minAmount = limits.minAmount,\n      minAmount = _limits$minAmount === void 0 ? 2 : _limits$minAmount,\n      _limits$maxAmount = limits.maxAmount,\n      maxAmount = _limits$maxAmount === void 0 ? 10000 : _limits$maxAmount;\n  var currencySymbol = currency.currencySymbol,\n      shortName = currency.shortName,\n      formatToCurrency = currency.formatToCurrency;\n  return React.createElement(\"div\", {\n    className: \"text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, STRINGS.WITHDRAW_PAGE.BASE_MESSAGE_1), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, \"\".concat(STRINGS.WITHDRAW_PAGE.BASE_MESSAGE_2, \": \").concat(currencySymbol).concat(formatToCurrency(minAmount), \" \").concat(shortName)), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, \"\".concat(STRINGS.WITHDRAW_PAGE.BASE_MESSAGE_3, \": \").concat(currencySymbol).concat(formatToCurrency(maxAmount), \" \").concat(shortName, \" (\").concat(STRINGS.WITHDRAW_PAGE.MESSAGE_LIMIT, \")\")));\n};\nexport var renderExtraInformation = function renderExtraInformation(symbol, bank_account) {\n  return symbol === BASE_CURRENCY && React.createElement(\"div\", {\n    className: \"bank_account-information-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(Accordion, {\n    sections: [{\n      title: STRINGS.WITHDRAW_PAGE.BANK_TO_WITHDRAW,\n      content: renderBankInformation(bank_account),\n      notification: {\n        text: STRINGS.NEED_HELP_TEXT,\n        status: 'information',\n        iconPath: ICONS.BLUE_QUESTION,\n        allowClick: true\n      }\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }));\n};\nexport var calculateBaseFee = function calculateBaseFee() {\n  var amount = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n  if (amount < 0) {\n    return 0;\n  }\n\n  var withdrawalFee = mathjs.chain(mathjs.largerEq(amount, BANK_WITHDRAWAL_MAX_AMOUNT_FOR_BASE_FEE) ? 0 : BANK_WITHDRAWAL_BASE_FEE);\n  var dinamicFee = mathjs.chain(amount).multiply(BANK_WITHDRAWAL_DYNAMIC_FEE_RATE).divide(100).done();\n\n  if (mathjs.larger(dinamicFee, BANK_WITHDRAWAL_MAX_DYNAMIC_FEE)) {\n    withdrawalFee = withdrawalFee.add(BANK_WITHDRAWAL_MAX_DYNAMIC_FEE);\n  } else {\n    withdrawalFee = withdrawalFee.add(dinamicFee);\n  }\n\n  var fee = mathjs.ceil(withdrawalFee.done());\n  return fee;\n};","map":{"version":3,"sources":["/home/user/Documents/projects/hollaex/src/containers/Withdraw/utils.js"],"names":["React","mathjs","Accordion","ICONS","BANK_WITHDRAWAL_BASE_FEE","BANK_WITHDRAWAL_DYNAMIC_FEE_RATE","BANK_WITHDRAWAL_MAX_DYNAMIC_FEE","BANK_WITHDRAWAL_MAX_AMOUNT_FOR_BASE_FEE","BASE_CURRENCY","STRINGS","renderBankInformation","generateBaseInformation","currency","limits","minAmount","maxAmount","currencySymbol","shortName","formatToCurrency","WITHDRAW_PAGE","BASE_MESSAGE_1","BASE_MESSAGE_2","BASE_MESSAGE_3","MESSAGE_LIMIT","renderExtraInformation","symbol","bank_account","title","BANK_TO_WITHDRAW","content","notification","text","NEED_HELP_TEXT","status","iconPath","BLUE_QUESTION","allowClick","calculateBaseFee","amount","withdrawalFee","chain","largerEq","dinamicFee","multiply","divide","done","larger","add","fee","ceil"],"mappings":"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","sourcesContent":["import React from 'react';\nimport mathjs from 'mathjs';\nimport { Accordion } from '../../components';\nimport {\n\tICONS,\n\tBANK_WITHDRAWAL_BASE_FEE,\n\tBANK_WITHDRAWAL_DYNAMIC_FEE_RATE,\n\tBANK_WITHDRAWAL_MAX_DYNAMIC_FEE,\n\tBANK_WITHDRAWAL_MAX_AMOUNT_FOR_BASE_FEE,\n\tBASE_CURRENCY\n} from '../../config/constants';\nimport STRINGS from '../../config/localizedStrings';\n\nimport { renderBankInformation } from '../Wallet/components';\n\nexport const generateBaseInformation = (currency, limits = {}) => {\n\tconst { minAmount = 2, maxAmount = 10000 } = limits;\n\tconst { currencySymbol, shortName, formatToCurrency } = currency;\n\treturn (\n\t\t<div className=\"text\">\n\t\t\t<p>{STRINGS.WITHDRAW_PAGE.BASE_MESSAGE_1}</p>\n\t\t\t<p>{`${\n\t\t\t\tSTRINGS.WITHDRAW_PAGE.BASE_MESSAGE_2\n\t\t\t}: ${currencySymbol}${formatToCurrency(minAmount)} ${shortName}`}</p>\n\t\t\t<p>{`${\n\t\t\t\tSTRINGS.WITHDRAW_PAGE.BASE_MESSAGE_3\n\t\t\t}: ${currencySymbol}${formatToCurrency(maxAmount)} ${shortName} (${\n\t\t\t\tSTRINGS.WITHDRAW_PAGE.MESSAGE_LIMIT\n\t\t\t})`}</p>\n\t\t</div>\n\t);\n};\n\nexport const renderExtraInformation = (symbol, bank_account) =>\n\tsymbol === BASE_CURRENCY && (\n\t\t<div className=\"bank_account-information-wrapper\">\n\t\t\t<Accordion\n\t\t\t\tsections={[\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: STRINGS.WITHDRAW_PAGE.BANK_TO_WITHDRAW,\n\t\t\t\t\t\tcontent: renderBankInformation(bank_account),\n\t\t\t\t\t\tnotification: {\n\t\t\t\t\t\t\ttext: STRINGS.NEED_HELP_TEXT,\n\t\t\t\t\t\t\tstatus: 'information',\n\t\t\t\t\t\t\ticonPath: ICONS.BLUE_QUESTION,\n\t\t\t\t\t\t\tallowClick: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]}\n\t\t\t/>\n\t\t</div>\n\t);\n\nexport const calculateBaseFee = (amount = 0) => {\n\tif (amount < 0) {\n\t\treturn 0;\n\t}\n\n\tlet withdrawalFee = mathjs.chain(\n\t\tmathjs.largerEq(amount, BANK_WITHDRAWAL_MAX_AMOUNT_FOR_BASE_FEE)\n\t\t\t? 0\n\t\t\t: BANK_WITHDRAWAL_BASE_FEE\n\t);\n\tconst dinamicFee = mathjs\n\t\t.chain(amount)\n\t\t.multiply(BANK_WITHDRAWAL_DYNAMIC_FEE_RATE)\n\t\t.divide(100)\n\t\t.done();\n\tif (mathjs.larger(dinamicFee, BANK_WITHDRAWAL_MAX_DYNAMIC_FEE)) {\n\t\twithdrawalFee = withdrawalFee.add(BANK_WITHDRAWAL_MAX_DYNAMIC_FEE);\n\t} else {\n\t\twithdrawalFee = withdrawalFee.add(dinamicFee);\n\t}\n\tconst fee = mathjs.ceil(withdrawalFee.done());\n\treturn fee;\n};\n"]},"metadata":{},"sourceType":"module"}