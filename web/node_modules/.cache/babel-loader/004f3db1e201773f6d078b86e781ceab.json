{"ast":null,"code":"import axios from 'axios';\nimport { playBackgroundAudioNotification } from '../utils/utils';\nvar QUICK_TRADE = 'QUICK_TRADE';\nvar TRADE_QUOTE_REQUEST = 'TRADE_QUOTE_REQUEST';\nvar TRADE_QUOTE_PERFORM = 'TRADE_QUOTE_PERFORM';\nexport var ORDERBOOK_CONSTANTS = {\n  QUICK_TRADE_CANCEL: \"\".concat(QUICK_TRADE, \"_CANCEL\"),\n  QUICK_TRADE_PENDING: \"\".concat(QUICK_TRADE, \"_PENDING\"),\n  QUICK_TRADE_FULFILLED: \"\".concat(QUICK_TRADE, \"_FULFILLED\"),\n  QUICK_TRADE_REJECTED: \"\".concat(QUICK_TRADE, \"_REJECTED\"),\n  TRADE_QUOTE_REQUEST_CANCEL: \"\".concat(TRADE_QUOTE_REQUEST, \"_CANCEL\"),\n  TRADE_QUOTE_REQUEST_PENDING: \"\".concat(TRADE_QUOTE_REQUEST, \"_PENDING\"),\n  TRADE_QUOTE_REQUEST_FULFILLED: \"\".concat(TRADE_QUOTE_REQUEST, \"_FULFILLED\"),\n  TRADE_QUOTE_REQUEST_REJECTED: \"\".concat(TRADE_QUOTE_REQUEST, \"_REJECTED\"),\n  TRADE_QUOTE_PERFORM_PENDING: \"\".concat(TRADE_QUOTE_PERFORM, \"_PENDING\"),\n  TRADE_QUOTE_PERFORM_FULFILLED: \"\".concat(TRADE_QUOTE_PERFORM, \"_FULFILLED\"),\n  TRADE_QUOTE_PERFORM_REJECTED: \"\".concat(TRADE_QUOTE_PERFORM, \"_REJECTED\")\n};\nexport function getOrderbook() {\n  return {\n    type: 'GET_ORDERBOOK',\n    payload: axios.get('/orderbooks')\n  };\n}\nexport function setOrderbook(orderbook) {\n  return {\n    type: 'SET_ORDERBOOK',\n    payload: orderbook // set only for btc at the moment\n\n  };\n}\nexport function setOrderbooks(orderbooks) {\n  return {\n    type: 'SET_ORDERBOOKS_DATA',\n    payload: orderbooks\n  };\n}\nexport function setTrades(trades) {\n  return {\n    type: 'SET_TRADES_DATA',\n    payload: trades\n  };\n}\nexport function getTrades() {\n  return {\n    type: 'GET_TRADES',\n    payload: axios.get('/trade')\n  };\n}\nexport function addTrades(symbol, trades) {\n  return {\n    type: 'ADD_TRADES',\n    payload: {\n      symbol: symbol,\n      trades: trades\n    }\n  };\n}\nexport var changeSymbol = function changeSymbol(symbol) {\n  return {\n    type: 'CHANGE_SYMBOL',\n    payload: {\n      symbol: symbol\n    }\n  };\n};\nexport var requestQuickTrade = function requestQuickTrade() {\n  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (!data.size) {\n    return {\n      type: ORDERBOOK_CONSTANTS.QUICK_TRADE_CANCEL\n    };\n  }\n\n  return function (dispatch) {\n    dispatch({\n      type: ORDERBOOK_CONSTANTS.QUICK_TRADE_PENDING\n    });\n    axios.post('/quick-trade', data).then(function (body) {\n      dispatch({\n        type: ORDERBOOK_CONSTANTS.QUICK_TRADE_FULFILLED,\n        payload: body.data\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: ORDERBOOK_CONSTANTS.QUICK_TRADE_REJECTED,\n        payload: err.response ? err.response.data : err.message\n      });\n    });\n  };\n};\nexport var requestQuote = function requestQuote() {\n  var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (!data.size) {\n    return {\n      type: ORDERBOOK_CONSTANTS.TRADE_QUOTE_REQUEST_CANCEL\n    };\n  }\n\n  return function (dispatch) {\n    dispatch({\n      type: ORDERBOOK_CONSTANTS.TRADE_QUOTE_REQUEST_PENDING\n    });\n    axios.post('/order/quote', data).then(function (body) {\n      dispatch({\n        type: ORDERBOOK_CONSTANTS.TRADE_QUOTE_REQUEST_FULFILLED,\n        payload: body.data\n      });\n    }).catch(function (err) {\n      dispatch({\n        type: ORDERBOOK_CONSTANTS.TRADE_QUOTE_REQUEST_REJECTED,\n        payload: {\n          data: err.response ? err.response.data.data : {},\n          message: err.response && err.response.data ? err.response.data.message : err.message\n        }\n      });\n    });\n  };\n};\nexport var executeQuote = function executeQuote(token) {\n  return function (dispatch) {\n    dispatch({\n      type: ORDERBOOK_CONSTANTS.TRADE_QUOTE_PERFORM_PENDING\n    });\n    axios.post(\"/order/quote/\".concat(token), {}).then(function (body) {\n      dispatch({\n        type: ORDERBOOK_CONSTANTS.TRADE_QUOTE_PERFORM_FULFILLED,\n        payload: body.data\n      });\n      playBackgroundAudioNotification('quick_trade_complete');\n    }).catch(function (err) {\n      dispatch({\n        type: ORDERBOOK_CONSTANTS.TRADE_QUOTE_PERFORM_REJECTED,\n        payload: err.response ? err.response.data.message : err.message\n      });\n    });\n  };\n};\nexport var setPairsData = function setPairsData(pairs) {\n  return {\n    type: 'SET_PAIRS_DATA',\n    payload: {\n      pairs: pairs\n    }\n  };\n};","map":{"version":3,"sources":["/home/user/Documents/projects/hollaex/src/actions/orderbookAction.js"],"names":["axios","playBackgroundAudioNotification","QUICK_TRADE","TRADE_QUOTE_REQUEST","TRADE_QUOTE_PERFORM","ORDERBOOK_CONSTANTS","QUICK_TRADE_CANCEL","QUICK_TRADE_PENDING","QUICK_TRADE_FULFILLED","QUICK_TRADE_REJECTED","TRADE_QUOTE_REQUEST_CANCEL","TRADE_QUOTE_REQUEST_PENDING","TRADE_QUOTE_REQUEST_FULFILLED","TRADE_QUOTE_REQUEST_REJECTED","TRADE_QUOTE_PERFORM_PENDING","TRADE_QUOTE_PERFORM_FULFILLED","TRADE_QUOTE_PERFORM_REJECTED","getOrderbook","type","payload","get","setOrderbook","orderbook","setOrderbooks","orderbooks","setTrades","trades","getTrades","addTrades","symbol","changeSymbol","requestQuickTrade","data","size","dispatch","post","then","body","catch","err","response","message","requestQuote","executeQuote","token","setPairsData","pairs"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport {  playBackgroundAudioNotification } from '../utils/utils';\n\nconst QUICK_TRADE = 'QUICK_TRADE';\nconst TRADE_QUOTE_REQUEST = 'TRADE_QUOTE_REQUEST';\nconst TRADE_QUOTE_PERFORM = 'TRADE_QUOTE_PERFORM';\n\nexport const ORDERBOOK_CONSTANTS = {\n\tQUICK_TRADE_CANCEL: `${QUICK_TRADE}_CANCEL`,\n\tQUICK_TRADE_PENDING: `${QUICK_TRADE}_PENDING`,\n\tQUICK_TRADE_FULFILLED: `${QUICK_TRADE}_FULFILLED`,\n\tQUICK_TRADE_REJECTED: `${QUICK_TRADE}_REJECTED`,\n\tTRADE_QUOTE_REQUEST_CANCEL: `${TRADE_QUOTE_REQUEST}_CANCEL`,\n\tTRADE_QUOTE_REQUEST_PENDING: `${TRADE_QUOTE_REQUEST}_PENDING`,\n\tTRADE_QUOTE_REQUEST_FULFILLED: `${TRADE_QUOTE_REQUEST}_FULFILLED`,\n\tTRADE_QUOTE_REQUEST_REJECTED: `${TRADE_QUOTE_REQUEST}_REJECTED`,\n\tTRADE_QUOTE_PERFORM_PENDING: `${TRADE_QUOTE_PERFORM}_PENDING`,\n\tTRADE_QUOTE_PERFORM_FULFILLED: `${TRADE_QUOTE_PERFORM}_FULFILLED`,\n\tTRADE_QUOTE_PERFORM_REJECTED: `${TRADE_QUOTE_PERFORM}_REJECTED`\n};\n\nexport function getOrderbook() {\n\treturn {\n\t\ttype: 'GET_ORDERBOOK',\n\t\tpayload: axios.get('/orderbooks')\n\t};\n}\n\nexport function setOrderbook(orderbook) {\n\treturn {\n\t\ttype: 'SET_ORDERBOOK',\n\t\tpayload: orderbook // set only for btc at the moment\n\t};\n}\n\nexport function setOrderbooks(orderbooks) {\n\treturn {\n\t\ttype: 'SET_ORDERBOOKS_DATA',\n\t\tpayload: orderbooks\n\t};\n}\n\nexport function setTrades(trades) {\n\treturn {\n\t\ttype: 'SET_TRADES_DATA',\n\t\tpayload: trades\n\t};\n}\n\nexport function getTrades() {\n\treturn {\n\t\ttype: 'GET_TRADES',\n\t\tpayload: axios.get('/trade')\n\t};\n}\n\nexport function addTrades(symbol, trades) {\n\treturn {\n\t\ttype: 'ADD_TRADES',\n\t\tpayload: {\n\t\t\tsymbol,\n\t\t\ttrades\n\t\t}\n\t};\n}\n\nexport const changeSymbol = (symbol) => ({\n\ttype: 'CHANGE_SYMBOL',\n\tpayload: {\n\t\tsymbol\n\t}\n});\n\nexport const requestQuickTrade = (data = {}) => {\n\tif (!data.size) {\n\t\treturn {\n\t\t\ttype: ORDERBOOK_CONSTANTS.QUICK_TRADE_CANCEL\n\t\t};\n\t}\n\treturn (dispatch) => {\n\t\tdispatch({\n\t\t\ttype: ORDERBOOK_CONSTANTS.QUICK_TRADE_PENDING\n\t\t});\n\t\taxios\n\t\t\t.post('/quick-trade', data)\n\t\t\t.then((body) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ORDERBOOK_CONSTANTS.QUICK_TRADE_FULFILLED,\n\t\t\t\t\tpayload: body.data\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ORDERBOOK_CONSTANTS.QUICK_TRADE_REJECTED,\n\t\t\t\t\tpayload: err.response ? err.response.data : err.message\n\t\t\t\t});\n\t\t\t});\n\t};\n};\n\nexport const requestQuote = (data = {}) => {\n\tif (!data.size) {\n\t\treturn {\n\t\t\ttype: ORDERBOOK_CONSTANTS.TRADE_QUOTE_REQUEST_CANCEL\n\t\t};\n\t}\n\treturn (dispatch) => {\n\t\tdispatch({\n\t\t\ttype: ORDERBOOK_CONSTANTS.TRADE_QUOTE_REQUEST_PENDING\n\t\t});\n\t\taxios\n\t\t\t.post('/order/quote', data)\n\t\t\t.then((body) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ORDERBOOK_CONSTANTS.TRADE_QUOTE_REQUEST_FULFILLED,\n\t\t\t\t\tpayload: body.data\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ORDERBOOK_CONSTANTS.TRADE_QUOTE_REQUEST_REJECTED,\n\t\t\t\t\tpayload: {\n\t\t\t\t\t\tdata: err.response ? err.response.data.data : {},\n\t\t\t\t\t\tmessage:\n\t\t\t\t\t\t\terr.response && err.response.data\n\t\t\t\t\t\t\t\t? err.response.data.message\n\t\t\t\t\t\t\t\t: err.message\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t};\n};\n\nexport const executeQuote = (token) => {\n\treturn (dispatch) => {\n\t\tdispatch({\n\t\t\ttype: ORDERBOOK_CONSTANTS.TRADE_QUOTE_PERFORM_PENDING\n\t\t});\n\t\taxios\n\t\t\t.post(`/order/quote/${token}`, {})\n\t\t\t.then((body) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ORDERBOOK_CONSTANTS.TRADE_QUOTE_PERFORM_FULFILLED,\n\t\t\t\t\tpayload: body.data\n\t\t\t\t});\n\t\t\t\tplayBackgroundAudioNotification('quick_trade_complete');\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ORDERBOOK_CONSTANTS.TRADE_QUOTE_PERFORM_REJECTED,\n\t\t\t\t\tpayload: err.response ? err.response.data.message : err.message\n\t\t\t\t});\n\t\t\t});\n\t};\n};\n\nexport const setPairsData = (pairs) => ({\n\ttype: 'SET_PAIRS_DATA',\n\tpayload: {\n\t\tpairs\n\t}\n});\n"]},"metadata":{},"sourceType":"module"}