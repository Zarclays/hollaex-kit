{"ast":null,"code":"import _slicedToArray from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/Documents/projects/hollaex/src/components/CurrencyList/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport classnames from 'classnames';\nimport ReactSVG from 'react-svg';\nimport MarketList from './MarketList';\nimport STRINGS from '../../config/localizedStrings';\nimport { BASE_CURRENCY, ICONS, CURRENCY_PRICE_FORMAT, DEFAULT_COIN_DATA } from '../../config/constants';\nimport { getClasesForLanguage } from '../../utils/string';\nimport { formatToCurrency } from '../../utils/currency';\n\nvar CurrencyList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CurrencyList, _Component);\n\n  function CurrencyList() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CurrencyList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CurrencyList)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      focusedSymbol: '',\n      markets: {}\n    };\n\n    _this.loadMarkets = function () {\n      var symbol = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n      var pair = arguments.length > 1 ? arguments[1] : undefined;\n\n      _this.removeFocus();\n\n      if (symbol) {\n        var markets = Object.entries(_this.props.pairs).filter(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n              key = _ref2[0],\n              pair = _ref2[1];\n\n          return pair.pair_base === symbol || pair.pair_2 === symbol;\n        });\n\n        _this.setState({\n          focusedSymbol: symbol,\n          markets: markets\n        });\n      }\n    };\n\n    _this.removeFocus = function () {\n      _this.setState({\n        focusedSymbol: '',\n        markets: {}\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(CurrencyList, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          className = _this$props.className,\n          pairs = _this$props.pairs,\n          orderBookData = _this$props.orderBookData,\n          activeTheme = _this$props.activeTheme,\n          pair = _this$props.pair,\n          activeLanguage = _this$props.activeLanguage,\n          coins = _this$props.coins;\n      var _this$state = this.state,\n          markets = _this$state.markets,\n          focusedSymbol = _this$state.focusedSymbol;\n\n      var _ref3 = coins[BASE_CURRENCY] || DEFAULT_COIN_DATA,\n          min = _ref3.min,\n          _ref3$symbol = _ref3.symbol,\n          symbol = _ref3$symbol === void 0 ? '' : _ref3$symbol;\n\n      var obj = {};\n      Object.entries(pairs).forEach(function (_ref4) {\n        var _ref5 = _slicedToArray(_ref4, 2),\n            key = _ref5[0],\n            pair = _ref5[1];\n\n        obj[pair.pair_base] = '';\n      });\n      var symbols = Object.keys(obj).map(function (key) {\n        return key;\n      });\n      var marketPrice = {};\n      Object.keys(orderBookData).forEach(function (order) {\n        var currency = order.split('-')[0];\n\n        if (orderBookData[order].length && order.includes(symbol.toLowerCase())) {\n          marketPrice[currency] = orderBookData[order][0].price;\n        }\n      });\n      return React.createElement(\"div\", {\n        className: classnames('currency-list f-0', className, getClasesForLanguage(activeLanguage)),\n        onMouseLeave: this.removeFocus,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, symbols.map(function (coin, index) {\n        var icon = ICONS[\"\".concat(coin.toUpperCase(), \"_ICON\").concat(activeTheme === 'dark' ? '_DARK' : '')];\n\n        if (coin === 'bch') {\n          icon = ICONS[\"\".concat(coin.toUpperCase(), \"_NAV_ICON\")];\n        }\n\n        var _ref6 = coins[coin] || DEFAULT_COIN_DATA,\n            fullname = _ref6.fullname;\n\n        return React.createElement(\"div\", {\n          key: index,\n          className: classnames('d-flex align-items-center single-currency', focusedSymbol === coin && 'focused', pair.split('-')[0] === coin && 'selected_currency-tab'),\n          onMouseEnter: function onMouseEnter() {\n            return _this2.loadMarkets(coin);\n          },\n          onClick: function onClick() {\n            return _this2.loadMarkets(coin);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, React.createElement(ReactSVG, {\n          path: icon,\n          wrapperClassName: \"app_bar_currency-icon ml-2 mr-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }), fullname, \":\", React.createElement(\"div\", {\n          className: \"ml-1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, STRINGS.formatString(CURRENCY_PRICE_FORMAT, formatToCurrency(marketPrice[coin], min), '')), React.createElement(\"div\", {\n          className: \"ml-1 mr-1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, symbol.toUpperCase()));\n      }), focusedSymbol && React.createElement(MarketList, {\n        markets: markets,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return CurrencyList;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    pairs: store.app.pairs,\n    coins: store.app.coins,\n    orderBookData: store.orderbook.pairsTrades,\n    activeTheme: store.app.theme,\n    pair: store.app.pair,\n    activeLanguage: store.app.language\n  };\n};\n\nexport default connect(mapStateToProps)(CurrencyList);","map":{"version":3,"sources":["/home/user/Documents/projects/hollaex/src/components/CurrencyList/index.js"],"names":["React","Component","connect","classnames","ReactSVG","MarketList","STRINGS","BASE_CURRENCY","ICONS","CURRENCY_PRICE_FORMAT","DEFAULT_COIN_DATA","getClasesForLanguage","formatToCurrency","CurrencyList","state","focusedSymbol","markets","loadMarkets","symbol","pair","removeFocus","Object","entries","props","pairs","filter","key","pair_base","pair_2","setState","className","orderBookData","activeTheme","activeLanguage","coins","min","obj","forEach","symbols","keys","map","marketPrice","order","currency","split","length","includes","toLowerCase","price","coin","index","icon","toUpperCase","fullname","formatString","mapStateToProps","store","app","orderbook","pairsTrades","theme","language"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport classnames from 'classnames';\nimport ReactSVG from 'react-svg';\nimport MarketList from './MarketList';\nimport STRINGS from '../../config/localizedStrings';\nimport { BASE_CURRENCY, ICONS, CURRENCY_PRICE_FORMAT, DEFAULT_COIN_DATA } from '../../config/constants';\nimport { getClasesForLanguage } from '../../utils/string';\nimport { formatToCurrency } from '../../utils/currency';\n\nclass CurrencyList extends Component {\n\tstate = {\n\t\tfocusedSymbol: '',\n\t\tmarkets: {}\n\t};\n\n\tloadMarkets = (symbol = '', pair) => {\n\t\tthis.removeFocus();\n\n\t\tif (symbol) {\n\t\t\tconst markets = Object.entries(this.props.pairs).filter(\n\t\t\t\t([key, pair]) => pair.pair_base === symbol || pair.pair_2 === symbol\n\t\t\t);\n\t\t\tthis.setState({ focusedSymbol: symbol, markets });\n\t\t}\n\t};\n\n\tremoveFocus = () => {\n\t\tthis.setState({\n\t\t\tfocusedSymbol: '',\n\t\t\tmarkets: {}\n\t\t});\n\t};\n\n\trender() {\n\t\tconst { className, pairs, orderBookData, activeTheme, pair, activeLanguage, coins } = this.props;\n\t\tconst { markets, focusedSymbol } = this.state;\n\t\tconst { min, symbol = '' } = coins[BASE_CURRENCY] || DEFAULT_COIN_DATA;\n\t\tconst obj = {};\n\t\tObject.entries(pairs).forEach(([key, pair]) => {\n\t\t\tobj[pair.pair_base] = '';\n\t\t});\n\t\tconst symbols = Object.keys(obj).map((key) => key);\n\t\tlet marketPrice = {};\n\t\tObject.keys(orderBookData).forEach(order => {\n\t\t\tconst currency = order.split('-')[0];\n\t\t\tif(orderBookData[order].length && order.includes(symbol.toLowerCase())) {\n\t\t\t\tmarketPrice[currency] = orderBookData[order][0].price;\n\t\t\t}\n\t\t});\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={classnames('currency-list f-0', className, getClasesForLanguage(activeLanguage))}\n\t\t\t\tonMouseLeave={this.removeFocus}\n\t\t\t>\n\t\t\t\t{symbols.map((coin, index) => {\n\t\t\t\t\tlet icon = ICONS[`${coin.toUpperCase()}_ICON${activeTheme === 'dark' ? '_DARK' : ''}`];\n\t\t\t\t\tif (coin === 'bch') {\n\t\t\t\t\t\ticon = ICONS[`${coin.toUpperCase()}_NAV_ICON`];\n\t\t\t\t\t}\n\t\t\t\t\tconst { fullname } = coins[coin] || DEFAULT_COIN_DATA;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t\t'd-flex align-items-center single-currency',\n\t\t\t\t\t\t\t\tfocusedSymbol === coin && 'focused',\n\t\t\t\t\t\t\t\tpair.split('-')[0] === coin && 'selected_currency-tab'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tonMouseEnter={() => this.loadMarkets(coin)}\n\t\t\t\t\t\t\tonClick={() => this.loadMarkets(coin)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ReactSVG path={icon} wrapperClassName=\"app_bar_currency-icon ml-2 mr-2\" />\n\t\t\t\t\t\t\t{fullname}:\n\t\t\t\t\t\t\t<div className=\"ml-1\">\n\t\t\t\t\t\t\t\t{STRINGS.formatString(\n\t\t\t\t\t\t\t\t\tCURRENCY_PRICE_FORMAT,\n\t\t\t\t\t\t\t\t\tformatToCurrency(marketPrice[coin], min),\n\t\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"ml-1 mr-1\">{symbol.toUpperCase()}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t\t{focusedSymbol && <MarketList markets={markets}  />}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (store) => ({\n\tpairs: store.app.pairs,\n\tcoins: store.app.coins,\n\torderBookData: store.orderbook.pairsTrades,\n\tactiveTheme: store.app.theme,\n\tpair: store.app.pair,\n\tactiveLanguage: store.app.language\n});\n\nexport default connect(mapStateToProps)(CurrencyList);\n"]},"metadata":{},"sourceType":"module"}