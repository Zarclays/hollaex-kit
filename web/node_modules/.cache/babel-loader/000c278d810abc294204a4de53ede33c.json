{"ast":null,"code":"import _toConsumableArray from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/Documents/projects/hollaex/src/containers/Trade/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport EventListener from 'react-event-listener';\nimport classnames from 'classnames';\nimport { bindActionCreators } from 'redux';\nimport { SubmissionError, change } from 'redux-form';\nimport { isMobile } from 'react-device-detect';\nimport { Link } from 'react-router';\nimport { ICONS, BASE_CURRENCY, DEFAULT_COIN_DATA } from '../../config/constants';\nimport { IconTitle } from '../../components';\nimport { submitOrder, cancelOrder, cancelAllOrders } from '../../actions/orderAction';\nimport { getUserTrades as _getUserTrades } from '../../actions/walletActions';\nimport { changePair, setNotification, NOTIFICATIONS, RISKY_ORDER } from '../../actions/appActions';\nimport { isLoggedIn } from '../../utils/token';\nimport TradeBlock from './components/TradeBlock';\nimport TradeBlockTabs from './components/TradeBlockTabs';\nimport Orderbook from './components/Orderbook';\nimport OrderEntry from './components/OrderEntry';\nimport { FORM_NAME } from './components/OrderEntryForm';\nimport ActiveOrders from './components/ActiveOrders';\nimport UserTrades from './components/UserTrades';\nimport TradeHistory from './components/TradeHistory'; // import PriceChart from './components/PriceChart';\n\nimport MobileTrade from './MobileTrade';\nimport MobileChart from './MobileChart';\nimport MobileOrders from './MobileOrders';\nimport TVChartContainer from './Chart';\nimport { ActionNotification, Loader, MobileBarTabs } from '../../components';\nimport STRINGS from '../../config/localizedStrings';\nimport { playBackgroundAudioNotification } from '../../utils/utils';\n\nvar Trade =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Trade, _Component);\n\n  function Trade() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Trade);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Trade)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      activeTab: 0,\n      chartHeight: 0,\n      chartWidth: 0,\n      symbol: '',\n      cancelDelayData: [],\n      priceInitialized: false,\n      sizeInitialized: false\n    };\n    _this.priceTimeOut = '';\n    _this.sizeTimeOut = '';\n\n    _this.setSymbol = function () {\n      var symbol = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n      _this.props.getUserTrades(symbol);\n\n      _this.props.changePair(symbol);\n\n      _this.setState({\n        symbol: ''\n      }, function () {\n        setTimeout(function () {\n          _this.setState({\n            symbol: symbol\n          });\n        }, 1000);\n      });\n    };\n\n    _this.onSubmitOrder = function (values) {\n      return submitOrder(values).then(function (body) {}).catch(function (err) {\n        var _error = err.response && err.response.data ? err.response.data.message : err.message;\n\n        throw new SubmissionError({\n          _error: _error\n        });\n      });\n    };\n\n    _this.setChartRef = function (el) {\n      if (el) {\n        _this.chartBlock = el;\n\n        _this.onResize();\n      }\n    };\n\n    _this.goToTransactionsHistory = function () {\n      _this.props.router.push('transactions');\n    };\n\n    _this.goToPair = function (pair) {\n      _this.props.router.push(\"/trade/\".concat(pair));\n    };\n\n    _this.onResize = function () {\n      if (_this.chartBlock) {\n        _this.setState({\n          chartHeight: _this.chartBlock.offsetHeight || 0,\n          chartWidth: _this.chartBlock.offsetWidth || 0\n        });\n      }\n    };\n\n    _this.openCheckOrder = function (order, onConfirm) {\n      var _this$props = _this.props,\n          setNotification = _this$props.setNotification,\n          fees = _this$props.fees,\n          pairData = _this$props.pairData;\n      setNotification(NOTIFICATIONS.NEW_ORDER, {\n        order: order,\n        onConfirm: onConfirm,\n        fees: fees,\n        pairData: pairData\n      });\n    };\n\n    _this.onRiskyTrade = function (order, onConfirm) {\n      var _this$props2 = _this.props,\n          setNotification = _this$props2.setNotification,\n          fees = _this$props2.fees,\n          pairData = _this$props2.pairData;\n      setNotification(RISKY_ORDER, {\n        order: order,\n        onConfirm: onConfirm,\n        fees: fees,\n        pairData: pairData\n      });\n    };\n\n    _this.onPriceClick = function (price) {\n      _this.props.change(FORM_NAME, 'price', price);\n\n      playBackgroundAudioNotification('orderbook_field_update');\n\n      _this.setState({\n        priceInitialized: true\n      });\n\n      _this.priceTimeOut = setTimeout(function () {\n        _this.setState({\n          priceInitialized: false\n        });\n      }, 1500);\n    };\n\n    _this.onAmountClick = function (size) {\n      _this.props.change(FORM_NAME, 'size', size);\n\n      playBackgroundAudioNotification('orderbook_field_update');\n\n      _this.setState({\n        sizeInitialized: true\n      });\n\n      _this.sizeTimeOut = setTimeout(function () {\n        _this.setState({\n          sizeInitialized: false\n        });\n      }, 1500);\n    };\n\n    _this.setActiveTab = function (activeTab) {\n      _this.setState({\n        activeTab: activeTab\n      });\n    };\n\n    _this.cancelAllOrders = function () {\n      var cancelDelayData = [];\n\n      _this.props.activeOrders.map(function (order) {\n        cancelDelayData = [].concat(_toConsumableArray(cancelDelayData), [order.id]);\n        return '';\n      });\n\n      _this.setState({\n        cancelDelayData: cancelDelayData\n      });\n\n      setTimeout(function () {\n        _this.props.cancelAllOrders(_this.state.symbol);\n      }, 700);\n    };\n\n    _this.handleCancelOrders = function (id) {\n      _this.setState({\n        cancelDelayData: _this.state.cancelDelayData.concat(id)\n      });\n\n      setTimeout(function () {\n        _this.props.cancelOrder(id);\n      }, 700);\n    };\n\n    return _this;\n  }\n\n  _createClass(Trade, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.setSymbol(this.props.routeParams.pair);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.routeParams.pair !== this.props.routeParams.pair) {\n        this.setSymbol(nextProps.routeParams.pair);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearTimeout(this.priceTimeOut);\n      clearTimeout(this.sizeTimeOut);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          pair = _this$props3.pair,\n          pairData = _this$props3.pairData,\n          tradeHistory = _this$props3.tradeHistory,\n          orderbookReady = _this$props3.orderbookReady,\n          asks = _this$props3.asks,\n          bids = _this$props3.bids,\n          activeOrders = _this$props3.activeOrders,\n          userTrades = _this$props3.userTrades,\n          balance = _this$props3.balance,\n          marketPrice = _this$props3.marketPrice,\n          activeLanguage = _this$props3.activeLanguage,\n          activeTheme = _this$props3.activeTheme,\n          settings = _this$props3.settings,\n          orderLimits = _this$props3.orderLimits,\n          pairs = _this$props3.pairs,\n          coins = _this$props3.coins;\n      var _this$state = this.state,\n          chartHeight = _this$state.chartHeight,\n          symbol = _this$state.symbol,\n          activeTab = _this$state.activeTab,\n          cancelDelayData = _this$state.cancelDelayData,\n          priceInitialized = _this$state.priceInitialized,\n          sizeInitialized = _this$state.sizeInitialized;\n\n      if (symbol !== pair || !pairData) {\n        return React.createElement(Loader, {\n          background: false,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209\n          },\n          __self: this\n        });\n      }\n\n      var baseValue = coins[BASE_CURRENCY] || DEFAULT_COIN_DATA;\n      var USER_TABS = [{\n        title: STRINGS.ORDERS,\n        children: isLoggedIn() ? React.createElement(ActiveOrders, {\n          cancelDelayData: cancelDelayData,\n          orders: activeOrders,\n          onCancel: this.handleCancelOrders,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217\n          },\n          __self: this\n        }) : React.createElement(\"div\", {\n          className: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        }, React.createElement(IconTitle, {\n          iconPath: activeTheme === 'white' ? ICONS.ACTIVE_TRADE_LIGHT : ICONS.ACTIVE_TRADE_DARK,\n          textType: \"title\",\n          className: \"w-100\",\n          useSvg: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234\n          },\n          __self: this\n        }, STRINGS.formatString(STRINGS.ACTIVE_TRADES, React.createElement(Link, {\n          to: \"/login\",\n          className: classnames('blue-link', 'dialog-link', 'pointer'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237\n          },\n          __self: this\n        }, STRINGS.SIGN_IN)))),\n        titleAction: isLoggedIn() ? activeOrders.length > 0 && React.createElement(ActionNotification, {\n          text: STRINGS.CANCEL_ALL,\n          iconPath: ICONS.CANCEL_CROSS_ACTIVE,\n          onClick: this.cancelAllOrders,\n          status: \"information\",\n          useSvg: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 253\n          },\n          __self: this\n        }) : ''\n      }, {\n        title: STRINGS.RECENT_TRADES,\n        children: isLoggedIn() ? React.createElement(UserTrades, {\n          pageSize: 10,\n          trades: userTrades,\n          pair: pair,\n          pairData: pairData,\n          pairs: pairs,\n          coins: coins,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266\n          },\n          __self: this\n        }) : React.createElement(\"div\", {\n          className: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275\n          },\n          __self: this\n        }, React.createElement(IconTitle, {\n          iconPath: activeTheme === 'dark' ? ICONS.TRADE_HISTORY_DARK : ICONS.TRADE_HISTORY_LIGHT,\n          textType: \"title\",\n          className: \"w-100\",\n          useSvg: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286\n          },\n          __self: this\n        }, STRINGS.formatString(STRINGS.ACTIVE_TRADES, React.createElement(Link, {\n          to: \"/login\",\n          className: classnames('blue-link', 'dialog-link', 'pointer'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 289\n          },\n          __self: this\n        }, STRINGS.SIGN_IN)))),\n        titleAction: isLoggedIn() ? React.createElement(ActionNotification, {\n          text: STRINGS.TRANSACTION_HISTORY.TITLE,\n          iconPath: ICONS.ARROW_TRANSFER_HISTORY_ACTIVE,\n          onClick: this.goToTransactionsHistory,\n          status: \"information\",\n          useSvg: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 304\n          },\n          __self: this\n        }) : ''\n      }]; // TODO get right base pair\n\n      var orderbookProps = {\n        symbol: symbol,\n        pairData: pairData,\n        baseSymbol: baseValue.symbol.toUpperCase(),\n        asks: asks,\n        bids: bids,\n        coins: coins,\n        onPriceClick: this.onPriceClick,\n        onAmountClick: this.onAmountClick\n      };\n      var mobileTabs = [{\n        title: STRINGS.TRADE_TAB_CHART,\n        content: React.createElement(MobileChart, {\n          pair: pair,\n          pairData: pairData,\n          tradeHistory: tradeHistory,\n          activeLanguage: activeLanguage,\n          activeTheme: activeTheme,\n          symbol: symbol,\n          goToPair: this.goToPair,\n          orderLimits: orderLimits,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 333\n          },\n          __self: this\n        })\n      }, {\n        title: STRINGS.TRADE_TAB_TRADE,\n        content: React.createElement(MobileTrade, {\n          orderbookProps: orderbookProps,\n          symbol: symbol,\n          asks: asks,\n          bids: bids,\n          balance: balance,\n          marketPrice: marketPrice,\n          settings: settings,\n          orderbookReady: orderbookReady,\n          openCheckOrder: this.openCheckOrder,\n          onRiskyTrade: this.onRiskyTrade,\n          onSubmitOrder: this.onSubmitOrder,\n          goToPair: this.goToPair,\n          pair: pair,\n          priceInitialized: priceInitialized,\n          sizeInitialized: sizeInitialized,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 348\n          },\n          __self: this\n        })\n      }, {\n        title: STRINGS.TRADE_TAB_ORDERS,\n        content: React.createElement(MobileOrders, {\n          isLoggedIn: isLoggedIn(),\n          activeOrders: activeOrders,\n          cancelOrder: this.handleCancelOrders,\n          cancelDelayData: cancelDelayData,\n          cancelAllOrders: cancelAllOrders,\n          goToTransactionsHistory: this.goToTransactionsHistory,\n          pair: pair,\n          pairData: pairData,\n          pairs: pairs,\n          coins: coins,\n          goToPair: this.goToPair,\n          userTrades: userTrades,\n          activeTheme: activeTheme,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 370\n          },\n          __self: this\n        })\n      }];\n      return React.createElement(\"div\", {\n        className: classnames('trade-container', 'd-flex'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      }, isMobile ? React.createElement(\"div\", {\n        className: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391\n        },\n        __self: this\n      }, React.createElement(MobileBarTabs, {\n        tabs: mobileTabs,\n        activeTab: activeTab,\n        setActiveTab: this.setActiveTab,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"content-with-bar d-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397\n        },\n        __self: this\n      }, mobileTabs[activeTab].content)) : React.createElement(\"div\", {\n        className: classnames('trade-container', 'd-flex'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402\n        },\n        __self: this\n      }, React.createElement(EventListener, {\n        target: \"window\",\n        onResize: this.onResize,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: classnames('trade-col_side_wrapper', 'flex-column', 'd-flex', 'apply_rtl'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404\n        },\n        __self: this\n      }, React.createElement(TradeBlock, {\n        isLoggedIn: isLoggedIn(),\n        title: STRINGS.ORDERBOOK,\n        pairData: pairData,\n        pair: pair,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 412\n        },\n        __self: this\n      }, orderbookReady && React.createElement(Orderbook, Object.assign({}, orderbookProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: classnames('trade-col_main_wrapper', 'flex-column', 'd-flex', 'f-1', 'overflow-x'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classnames('trade-main_content', 'flex-auto', 'd-flex'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classnames('trade-col_action_wrapper', 'flex-column', 'd-flex', 'apply_rtl'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      }, React.createElement(TradeBlock, {\n        title: STRINGS.ORDER_ENTRY,\n        pairData: pairData,\n        pair: pair,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445\n        },\n        __self: this\n      }, React.createElement(OrderEntry, {\n        submitOrder: this.onSubmitOrder,\n        openCheckOrder: this.openCheckOrder,\n        onRiskyTrade: this.onRiskyTrade,\n        symbol: symbol,\n        balance: balance,\n        asks: asks,\n        bids: bids,\n        marketPrice: marketPrice,\n        showPopup: settings.notification.popup_order_confirmation,\n        priceInitialized: priceInitialized,\n        sizeInitialized: sizeInitialized,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450\n        },\n        __self: this\n      }))), React.createElement(TradeBlock, {\n        title: STRINGS.CHART,\n        setRef: this.setChartRef,\n        className: \"f-1 overflow-x\",\n        pairData: pairData,\n        pair: pair,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468\n        },\n        __self: this\n      }, pair && chartHeight > 0 && React.createElement(TVChartContainer, {\n        activeTheme: activeTheme,\n        symbol: symbol,\n        tradeHistory: tradeHistory,\n        pairData: pairData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: classnames('trade-tabs_content', 'd-flex', 'flex-column', 'apply_rtl'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485\n        },\n        __self: this\n      }, React.createElement(TradeBlockTabs, {\n        content: USER_TABS,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 493\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: classnames('trade-col_side_wrapper', 'flex-column', 'd-flex', 'apply_rtl'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496\n        },\n        __self: this\n      }, React.createElement(TradeBlock, {\n        title: STRINGS.PUBLIC_SALES,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 504\n        },\n        __self: this\n      }, React.createElement(TradeHistory, {\n        data: tradeHistory,\n        language: activeLanguage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 505\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return Trade;\n}(Component);\n\nTrade.defaultProps = {};\n\nvar mapStateToProps = function mapStateToProps(store) {\n  var pair = store.app.pair;\n  var pairData = store.app.pairs[pair] || {};\n  var _store$orderbook$pair = store.orderbook.pairsOrderbooks[pair],\n      _store$orderbook$pair2 = _store$orderbook$pair.asks,\n      asks = _store$orderbook$pair2 === void 0 ? [] : _store$orderbook$pair2,\n      _store$orderbook$pair3 = _store$orderbook$pair.bids,\n      bids = _store$orderbook$pair3 === void 0 ? [] : _store$orderbook$pair3;\n  var tradeHistory = store.orderbook.pairsTrades[pair];\n  var marketPrice = tradeHistory && tradeHistory.length > 0 ? tradeHistory[0].price : 1;\n  var count = 0;\n  var userTrades = store.wallet.trades.data.filter(function (_ref) {\n    var symbol = _ref.symbol;\n    return symbol === pair && count++ < 10;\n  });\n  count = 0; // const activeOrders = store.order.activeOrders.filter(\n  // \t({ symbol }) => symbol === pair && count++ < 10\n  // );\n\n  var activeOrders = store.order.activeOrders.filter(function (_ref2) {\n    var symbol = _ref2.symbol;\n    return symbol === pair;\n  });\n  var makerFee = pairData.maker_fees || {};\n  var takerFee = pairData.taker_fees || {};\n  var feesData = {\n    maker_fee: makerFee[store.user.verification_level],\n    taker_fee: takerFee[store.user.verification_level]\n  };\n  var orderBookLevels = store.user.settings.interface.order_book_levels;\n  var asksFilter = asks.filter(function (ask, index) {\n    return index < orderBookLevels;\n  });\n  var bidsFilter = bids.filter(function (bid, index) {\n    return index < orderBookLevels;\n  });\n  return {\n    pair: pair,\n    pairData: pairData,\n    pairs: store.app.pairs,\n    coins: store.app.coins,\n    balance: store.user.balance,\n    orderbookReady: true,\n    tradeHistory: tradeHistory,\n    asks: asksFilter,\n    bids: bidsFilter,\n    marketPrice: marketPrice,\n    activeOrders: activeOrders,\n    userTrades: userTrades,\n    activeLanguage: store.app.language,\n    activeTheme: store.app.theme,\n    fees: feesData,\n    settings: store.user.settings,\n    orderLimits: store.app.orderLimits\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getUserTrades: function getUserTrades(symbol) {\n      return dispatch(_getUserTrades({\n        symbol: symbol\n      }));\n    },\n    cancelOrder: bindActionCreators(cancelOrder, dispatch),\n    cancelAllOrders: bindActionCreators(cancelAllOrders, dispatch),\n    setNotification: bindActionCreators(setNotification, dispatch),\n    changePair: bindActionCreators(changePair, dispatch),\n    change: bindActionCreators(change, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Trade);","map":{"version":3,"sources":["/home/user/Documents/projects/hollaex/src/containers/Trade/index.js"],"names":["React","Component","connect","EventListener","classnames","bindActionCreators","SubmissionError","change","isMobile","Link","ICONS","BASE_CURRENCY","DEFAULT_COIN_DATA","IconTitle","submitOrder","cancelOrder","cancelAllOrders","getUserTrades","changePair","setNotification","NOTIFICATIONS","RISKY_ORDER","isLoggedIn","TradeBlock","TradeBlockTabs","Orderbook","OrderEntry","FORM_NAME","ActiveOrders","UserTrades","TradeHistory","MobileTrade","MobileChart","MobileOrders","TVChartContainer","ActionNotification","Loader","MobileBarTabs","STRINGS","playBackgroundAudioNotification","Trade","state","activeTab","chartHeight","chartWidth","symbol","cancelDelayData","priceInitialized","sizeInitialized","priceTimeOut","sizeTimeOut","setSymbol","props","setState","setTimeout","onSubmitOrder","values","then","body","catch","err","_error","response","data","message","setChartRef","el","chartBlock","onResize","goToTransactionsHistory","router","push","goToPair","pair","offsetHeight","offsetWidth","openCheckOrder","order","onConfirm","fees","pairData","NEW_ORDER","onRiskyTrade","onPriceClick","price","onAmountClick","size","setActiveTab","activeOrders","map","id","handleCancelOrders","concat","routeParams","nextProps","clearTimeout","tradeHistory","orderbookReady","asks","bids","userTrades","balance","marketPrice","activeLanguage","activeTheme","settings","orderLimits","pairs","coins","baseValue","USER_TABS","title","ORDERS","children","ACTIVE_TRADE_LIGHT","ACTIVE_TRADE_DARK","formatString","ACTIVE_TRADES","SIGN_IN","titleAction","length","CANCEL_ALL","CANCEL_CROSS_ACTIVE","RECENT_TRADES","TRADE_HISTORY_DARK","TRADE_HISTORY_LIGHT","TRANSACTION_HISTORY","TITLE","ARROW_TRANSFER_HISTORY_ACTIVE","orderbookProps","baseSymbol","toUpperCase","mobileTabs","TRADE_TAB_CHART","content","TRADE_TAB_TRADE","TRADE_TAB_ORDERS","ORDERBOOK","ORDER_ENTRY","notification","popup_order_confirmation","CHART","PUBLIC_SALES","defaultProps","mapStateToProps","store","app","orderbook","pairsOrderbooks","pairsTrades","count","wallet","trades","filter","makerFee","maker_fees","takerFee","taker_fees","feesData","maker_fee","user","verification_level","taker_fee","orderBookLevels","interface","order_book_levels","asksFilter","ask","index","bidsFilter","bid","language","theme","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport EventListener from 'react-event-listener';\nimport classnames from 'classnames';\nimport { bindActionCreators } from 'redux';\nimport { SubmissionError, change } from 'redux-form';\nimport { isMobile } from 'react-device-detect';\nimport { Link } from 'react-router';\n\nimport { ICONS, BASE_CURRENCY, DEFAULT_COIN_DATA } from '../../config/constants';\nimport { IconTitle } from '../../components';\nimport {\n\tsubmitOrder,\n\tcancelOrder,\n\tcancelAllOrders\n} from '../../actions/orderAction';\nimport { getUserTrades } from '../../actions/walletActions';\nimport {\n\tchangePair,\n\tsetNotification,\n\tNOTIFICATIONS,\n\tRISKY_ORDER\n} from '../../actions/appActions';\n\nimport { isLoggedIn } from '../../utils/token';\nimport TradeBlock from './components/TradeBlock';\nimport TradeBlockTabs from './components/TradeBlockTabs';\nimport Orderbook from './components/Orderbook';\nimport OrderEntry from './components/OrderEntry';\nimport { FORM_NAME } from './components/OrderEntryForm';\nimport ActiveOrders from './components/ActiveOrders';\nimport UserTrades from './components/UserTrades';\nimport TradeHistory from './components/TradeHistory';\n// import PriceChart from './components/PriceChart';\nimport MobileTrade from './MobileTrade';\nimport MobileChart from './MobileChart';\nimport MobileOrders from './MobileOrders';\nimport TVChartContainer from './Chart';\n\nimport { ActionNotification, Loader, MobileBarTabs } from '../../components';\n\nimport STRINGS from '../../config/localizedStrings';\nimport { playBackgroundAudioNotification } from '../../utils/utils';\n\nclass Trade extends Component {\n\tstate = {\n\t\tactiveTab: 0,\n\t\tchartHeight: 0,\n\t\tchartWidth: 0,\n\t\tsymbol: '',\n\t\tcancelDelayData: [],\n\t\tpriceInitialized: false,\n\t\tsizeInitialized: false\n\t};\n\tpriceTimeOut = '';\n\tsizeTimeOut = '';\n\n\tcomponentWillMount() {\n\t\tthis.setSymbol(this.props.routeParams.pair);\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (nextProps.routeParams.pair !== this.props.routeParams.pair) {\n\t\t\tthis.setSymbol(nextProps.routeParams.pair);\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearTimeout(this.priceTimeOut);\n\t\tclearTimeout(this.sizeTimeOut);\n\t}\n\n\tsetSymbol = (symbol = '') => {\n\t\tthis.props.getUserTrades(symbol);\n\t\tthis.props.changePair(symbol);\n\t\tthis.setState({ symbol: '' }, () => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.setState({ symbol });\n\t\t\t}, 1000);\n\t\t});\n\t};\n\n\tonSubmitOrder = (values) => {\n\t\treturn submitOrder(values)\n\t\t\t.then((body) => {})\n\t\t\t.catch((err) => {\n\t\t\t\tconst _error =\n\t\t\t\t\terr.response && err.response.data\n\t\t\t\t\t\t? err.response.data.message\n\t\t\t\t\t\t: err.message;\n\t\t\t\tthrow new SubmissionError({ _error });\n\t\t\t});\n\t};\n\n\tsetChartRef = (el) => {\n\t\tif (el) {\n\t\t\tthis.chartBlock = el;\n\t\t\tthis.onResize();\n\t\t}\n\t};\n\n\tgoToTransactionsHistory = () => {\n\t\tthis.props.router.push('transactions');\n\t};\n\n\tgoToPair = (pair) => {\n\t\tthis.props.router.push(`/trade/${pair}`);\n\t};\n\n\tonResize = () => {\n\t\tif (this.chartBlock) {\n\t\t\tthis.setState({\n\t\t\t\tchartHeight: this.chartBlock.offsetHeight || 0,\n\t\t\t\tchartWidth: this.chartBlock.offsetWidth || 0\n\t\t\t});\n\t\t}\n\t};\n\n\topenCheckOrder = (order, onConfirm) => {\n\t\tconst { setNotification, fees, pairData } = this.props;\n\t\tsetNotification(NOTIFICATIONS.NEW_ORDER, {\n\t\t\torder,\n\t\t\tonConfirm,\n\t\t\tfees,\n\t\t\tpairData\n\t\t});\n\t};\n\n\tonRiskyTrade = (order, onConfirm) => {\n\t\tconst { setNotification, fees, pairData } = this.props;\n\t\tsetNotification(RISKY_ORDER, {\n\t\t\torder,\n\t\t\tonConfirm,\n\t\t\tfees,\n\t\t\tpairData\n\t\t});\n\t};\n\n\tonPriceClick = (price) => {\n\t\tthis.props.change(FORM_NAME, 'price', price);\n\t\tplayBackgroundAudioNotification('orderbook_field_update');\n\t\tthis.setState({ priceInitialized: true });\n\t\tthis.priceTimeOut = setTimeout(() => {\n\t\t\tthis.setState({ priceInitialized: false });\n\t\t}, 1500);\n\t};\n\n\tonAmountClick = (size) => {\n\t\tthis.props.change(FORM_NAME, 'size', size);\n\t\tplayBackgroundAudioNotification('orderbook_field_update');\n\t\tthis.setState({ sizeInitialized: true });\n\t\tthis.sizeTimeOut = setTimeout(() => {\n\t\t\tthis.setState({ sizeInitialized: false });\n\t\t}, 1500);\n\t};\n\n\tsetActiveTab = (activeTab) => {\n\t\tthis.setState({ activeTab });\n\t};\n\n\tcancelAllOrders = () => {\n\t\tlet cancelDelayData = [];\n\t\tthis.props.activeOrders.map((order) => {\n\t\t\tcancelDelayData = [...cancelDelayData, order.id];\n\t\t\treturn '';\n\t\t});\n\t\tthis.setState({ cancelDelayData });\n\t\tsetTimeout(() => {\n\t\t\tthis.props.cancelAllOrders(this.state.symbol);\n\t\t}, 700);\n\t};\n\n\thandleCancelOrders = (id) => {\n\t\tthis.setState({ cancelDelayData: this.state.cancelDelayData.concat(id) });\n\t\tsetTimeout(() => {\n\t\t\tthis.props.cancelOrder(id);\n\t\t}, 700);\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tpair,\n\t\t\tpairData,\n\t\t\ttradeHistory,\n\t\t\torderbookReady,\n\t\t\tasks,\n\t\t\tbids,\n\t\t\tactiveOrders,\n\t\t\tuserTrades,\n\t\t\tbalance,\n\t\t\tmarketPrice,\n\t\t\tactiveLanguage,\n\t\t\tactiveTheme,\n\t\t\tsettings,\n\t\t\torderLimits,\n\t\t\tpairs,\n\t\t\tcoins\n\t\t} = this.props;\n\t\tconst {\n\t\t\tchartHeight,\n\t\t\tsymbol,\n\t\t\tactiveTab,\n\t\t\tcancelDelayData,\n\t\t\tpriceInitialized,\n\t\t\tsizeInitialized\n\t\t} = this.state;\n\n\t\tif (symbol !== pair || !pairData) {\n\t\t\treturn <Loader background={false} />;\n\t\t}\n\t\tconst baseValue = coins[BASE_CURRENCY] || DEFAULT_COIN_DATA;\n\n\t\tconst USER_TABS = [\n\t\t\t{\n\t\t\t\ttitle: STRINGS.ORDERS,\n\t\t\t\tchildren: isLoggedIn() ? (\n\t\t\t\t\t<ActiveOrders\n\t\t\t\t\t\tcancelDelayData={cancelDelayData}\n\t\t\t\t\t\torders={activeOrders}\n\t\t\t\t\t\tonCancel={this.handleCancelOrders}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t<IconTitle\n\t\t\t\t\t\t\ticonPath={\n\t\t\t\t\t\t\t\tactiveTheme === 'white'\n\t\t\t\t\t\t\t\t\t? ICONS.ACTIVE_TRADE_LIGHT\n\t\t\t\t\t\t\t\t\t: ICONS.ACTIVE_TRADE_DARK\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttextType=\"title\"\n\t\t\t\t\t\t\tclassName=\"w-100\"\n\t\t\t\t\t\t\tuseSvg={true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{STRINGS.formatString(\n\t\t\t\t\t\t\t\tSTRINGS.ACTIVE_TRADES,\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto=\"/login\"\n\t\t\t\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t\t\t\t'blue-link',\n\t\t\t\t\t\t\t\t\t\t'dialog-link',\n\t\t\t\t\t\t\t\t\t\t'pointer'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{STRINGS.SIGN_IN}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t),\n\t\t\t\ttitleAction: isLoggedIn()\n\t\t\t\t\t? activeOrders.length > 0 && (\n\t\t\t\t\t\t\t<ActionNotification\n\t\t\t\t\t\t\t\ttext={STRINGS.CANCEL_ALL}\n\t\t\t\t\t\t\t\ticonPath={ICONS.CANCEL_CROSS_ACTIVE}\n\t\t\t\t\t\t\t\tonClick={this.cancelAllOrders}\n\t\t\t\t\t\t\t\tstatus=\"information\"\n\t\t\t\t\t\t\t\tuseSvg={true}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t  )\n\t\t\t\t\t: ''\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: STRINGS.RECENT_TRADES,\n\t\t\t\tchildren: isLoggedIn() ? (\n\t\t\t\t\t<UserTrades\n\t\t\t\t\t\tpageSize={10}\n\t\t\t\t\t\ttrades={userTrades}\n\t\t\t\t\t\tpair={pair}\n\t\t\t\t\t\tpairData={pairData}\n\t\t\t\t\t\tpairs={pairs}\n\t\t\t\t\t\tcoins={coins}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t<IconTitle\n\t\t\t\t\t\t\ticonPath={\n\t\t\t\t\t\t\t\tactiveTheme === 'dark'\n\t\t\t\t\t\t\t\t\t? ICONS.TRADE_HISTORY_DARK\n\t\t\t\t\t\t\t\t\t: ICONS.TRADE_HISTORY_LIGHT\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttextType=\"title\"\n\t\t\t\t\t\t\tclassName=\"w-100\"\n\t\t\t\t\t\t\tuseSvg={true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{STRINGS.formatString(\n\t\t\t\t\t\t\t\tSTRINGS.ACTIVE_TRADES,\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto=\"/login\"\n\t\t\t\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t\t\t\t'blue-link',\n\t\t\t\t\t\t\t\t\t\t'dialog-link',\n\t\t\t\t\t\t\t\t\t\t'pointer'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{STRINGS.SIGN_IN}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t),\n\t\t\t\ttitleAction: isLoggedIn() ? (\n\t\t\t\t\t<ActionNotification\n\t\t\t\t\t\ttext={STRINGS.TRANSACTION_HISTORY.TITLE}\n\t\t\t\t\t\ticonPath={ICONS.ARROW_TRANSFER_HISTORY_ACTIVE}\n\t\t\t\t\t\tonClick={this.goToTransactionsHistory}\n\t\t\t\t\t\tstatus=\"information\"\n\t\t\t\t\t\tuseSvg={true}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t''\n\t\t\t\t)\n\t\t\t}\n\t\t];\n\n\t\t// TODO get right base pair\n\t\tconst orderbookProps = {\n\t\t\tsymbol,\n\t\t\tpairData,\n\t\t\tbaseSymbol: baseValue.symbol.toUpperCase(),\n\t\t\tasks,\n\t\t\tbids,\n\t\t\tcoins,\n\t\t\tonPriceClick: this.onPriceClick,\n\t\t\tonAmountClick: this.onAmountClick\n\t\t};\n\n\t\tconst mobileTabs = [\n\t\t\t{\n\t\t\t\ttitle: STRINGS.TRADE_TAB_CHART,\n\t\t\t\tcontent: (\n\t\t\t\t\t<MobileChart\n\t\t\t\t\t\tpair={pair}\n\t\t\t\t\t\tpairData={pairData}\n\t\t\t\t\t\ttradeHistory={tradeHistory}\n\t\t\t\t\t\tactiveLanguage={activeLanguage}\n\t\t\t\t\t\tactiveTheme={activeTheme}\n\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\tgoToPair={this.goToPair}\n\t\t\t\t\t\torderLimits={orderLimits}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: STRINGS.TRADE_TAB_TRADE,\n\t\t\t\tcontent: (\n\t\t\t\t\t<MobileTrade\n\t\t\t\t\t\torderbookProps={orderbookProps}\n\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\tasks={asks}\n\t\t\t\t\t\tbids={bids}\n\t\t\t\t\t\tbalance={balance}\n\t\t\t\t\t\tmarketPrice={marketPrice}\n\t\t\t\t\t\tsettings={settings}\n\t\t\t\t\t\torderbookReady={orderbookReady}\n\t\t\t\t\t\topenCheckOrder={this.openCheckOrder}\n\t\t\t\t\t\tonRiskyTrade={this.onRiskyTrade}\n\t\t\t\t\t\tonSubmitOrder={this.onSubmitOrder}\n\t\t\t\t\t\tgoToPair={this.goToPair}\n\t\t\t\t\t\tpair={pair}\n\t\t\t\t\t\tpriceInitialized={priceInitialized}\n\t\t\t\t\t\tsizeInitialized={sizeInitialized}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: STRINGS.TRADE_TAB_ORDERS,\n\t\t\t\tcontent: (\n\t\t\t\t\t<MobileOrders\n\t\t\t\t\t\tisLoggedIn={isLoggedIn()}\n\t\t\t\t\t\tactiveOrders={activeOrders}\n\t\t\t\t\t\tcancelOrder={this.handleCancelOrders}\n\t\t\t\t\t\tcancelDelayData={cancelDelayData}\n\t\t\t\t\t\tcancelAllOrders={cancelAllOrders}\n\t\t\t\t\t\tgoToTransactionsHistory={this.goToTransactionsHistory}\n\t\t\t\t\t\tpair={pair}\n\t\t\t\t\t\tpairData={pairData}\n\t\t\t\t\t\tpairs={pairs}\n\t\t\t\t\t\tcoins={coins}\n\t\t\t\t\t\tgoToPair={this.goToPair}\n\t\t\t\t\t\tuserTrades={userTrades}\n\t\t\t\t\t\tactiveTheme={activeTheme}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t}\n\t\t];\n\t\treturn (\n\t\t\t<div className={classnames('trade-container', 'd-flex')}>\n\t\t\t\t{isMobile ? (\n\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t<MobileBarTabs\n\t\t\t\t\t\t\ttabs={mobileTabs}\n\t\t\t\t\t\t\tactiveTab={activeTab}\n\t\t\t\t\t\t\tsetActiveTab={this.setActiveTab}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"content-with-bar d-flex\">\n\t\t\t\t\t\t\t{mobileTabs[activeTab].content}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div className={classnames('trade-container', 'd-flex')}>\n\t\t\t\t\t\t<EventListener target=\"window\" onResize={this.onResize} />\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t\t'trade-col_side_wrapper',\n\t\t\t\t\t\t\t\t'flex-column',\n\t\t\t\t\t\t\t\t'd-flex',\n\t\t\t\t\t\t\t\t'apply_rtl'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<TradeBlock\n\t\t\t\t\t\t\t\tisLoggedIn={isLoggedIn()}\n\t\t\t\t\t\t\t\ttitle={STRINGS.ORDERBOOK}\n\t\t\t\t\t\t\t\tpairData={pairData}\n\t\t\t\t\t\t\t\tpair={pair}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{orderbookReady && <Orderbook {...orderbookProps} />}\n\t\t\t\t\t\t\t</TradeBlock>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t\t'trade-col_main_wrapper',\n\t\t\t\t\t\t\t\t'flex-column',\n\t\t\t\t\t\t\t\t'd-flex',\n\t\t\t\t\t\t\t\t'f-1',\n\t\t\t\t\t\t\t\t'overflow-x'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t\t\t'trade-main_content',\n\t\t\t\t\t\t\t\t\t'flex-auto',\n\t\t\t\t\t\t\t\t\t'd-flex'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t\t\t\t'trade-col_action_wrapper',\n\t\t\t\t\t\t\t\t\t\t'flex-column',\n\t\t\t\t\t\t\t\t\t\t'd-flex',\n\t\t\t\t\t\t\t\t\t\t'apply_rtl'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<TradeBlock\n\t\t\t\t\t\t\t\t\t\ttitle={STRINGS.ORDER_ENTRY}\n\t\t\t\t\t\t\t\t\t\tpairData={pairData}\n\t\t\t\t\t\t\t\t\t\tpair={pair}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<OrderEntry\n\t\t\t\t\t\t\t\t\t\t\tsubmitOrder={this.onSubmitOrder}\n\t\t\t\t\t\t\t\t\t\t\topenCheckOrder={this.openCheckOrder}\n\t\t\t\t\t\t\t\t\t\t\tonRiskyTrade={this.onRiskyTrade}\n\t\t\t\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t\t\t\t\tbalance={balance}\n\t\t\t\t\t\t\t\t\t\t\tasks={asks}\n\t\t\t\t\t\t\t\t\t\t\tbids={bids}\n\t\t\t\t\t\t\t\t\t\t\tmarketPrice={marketPrice}\n\t\t\t\t\t\t\t\t\t\t\tshowPopup={\n\t\t\t\t\t\t\t\t\t\t\t\tsettings.notification\n\t\t\t\t\t\t\t\t\t\t\t\t\t.popup_order_confirmation\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tpriceInitialized={priceInitialized}\n\t\t\t\t\t\t\t\t\t\t\tsizeInitialized={sizeInitialized}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</TradeBlock>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<TradeBlock\n\t\t\t\t\t\t\t\t\ttitle={STRINGS.CHART}\n\t\t\t\t\t\t\t\t\tsetRef={this.setChartRef}\n\t\t\t\t\t\t\t\t\tclassName=\"f-1 overflow-x\"\n\t\t\t\t\t\t\t\t\tpairData={pairData}\n\t\t\t\t\t\t\t\t\tpair={pair}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{pair && chartHeight > 0 && (\n\t\t\t\t\t\t\t\t\t\t<TVChartContainer\n\t\t\t\t\t\t\t\t\t\t\tactiveTheme={activeTheme}\n\t\t\t\t\t\t\t\t\t\t\tsymbol={symbol}\n\t\t\t\t\t\t\t\t\t\t\ttradeHistory={tradeHistory}\n\t\t\t\t\t\t\t\t\t\t\tpairData={pairData}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</TradeBlock>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t\t\t'trade-tabs_content',\n\t\t\t\t\t\t\t\t\t'd-flex',\n\t\t\t\t\t\t\t\t\t'flex-column',\n\t\t\t\t\t\t\t\t\t'apply_rtl'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<TradeBlockTabs content={USER_TABS} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={classnames(\n\t\t\t\t\t\t\t\t'trade-col_side_wrapper',\n\t\t\t\t\t\t\t\t'flex-column',\n\t\t\t\t\t\t\t\t'd-flex',\n\t\t\t\t\t\t\t\t'apply_rtl'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<TradeBlock title={STRINGS.PUBLIC_SALES}>\n\t\t\t\t\t\t\t\t<TradeHistory\n\t\t\t\t\t\t\t\t\tdata={tradeHistory}\n\t\t\t\t\t\t\t\t\tlanguage={activeLanguage}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</TradeBlock>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nTrade.defaultProps = {};\n\nconst mapStateToProps = (store) => {\n\tconst pair = store.app.pair;\n\tconst pairData = store.app.pairs[pair] || {};\n\tconst { asks = [], bids = [] } = store.orderbook.pairsOrderbooks[pair];\n\tconst tradeHistory = store.orderbook.pairsTrades[pair];\n\tconst marketPrice =\n\t\ttradeHistory && tradeHistory.length > 0 ? tradeHistory[0].price : 1;\n\tlet count = 0;\n\tconst userTrades = store.wallet.trades.data.filter(\n\t\t({ symbol }) => symbol === pair && count++ < 10\n\t);\n\tcount = 0;\n\t// const activeOrders = store.order.activeOrders.filter(\n\t// \t({ symbol }) => symbol === pair && count++ < 10\n\t// );\n\tconst activeOrders = store.order.activeOrders.filter(\n\t\t({ symbol }) => symbol === pair\n\t);\n\tconst makerFee = pairData.maker_fees || {};\n\tconst takerFee = pairData.taker_fees || {};\n\tconst feesData = {\n\t\tmaker_fee: makerFee[store.user.verification_level],\n\t\ttaker_fee: takerFee[store.user.verification_level]\n\t};\n\tconst orderBookLevels = store.user.settings.interface.order_book_levels;\n\tconst asksFilter = asks.filter((ask, index) => index < orderBookLevels);\n\tconst bidsFilter = bids.filter((bid, index) => index < orderBookLevels);\n\n\treturn {\n\t\tpair,\n\t\tpairData,\n\t\tpairs: store.app.pairs,\n\t\tcoins: store.app.coins,\n\t\tbalance: store.user.balance,\n\t\torderbookReady: true,\n\t\ttradeHistory,\n\t\tasks: asksFilter,\n\t\tbids: bidsFilter,\n\t\tmarketPrice,\n\t\tactiveOrders,\n\t\tuserTrades,\n\t\tactiveLanguage: store.app.language,\n\t\tactiveTheme: store.app.theme,\n\t\tfees: feesData,\n\t\tsettings: store.user.settings,\n\t\torderLimits: store.app.orderLimits\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n\tgetUserTrades: (symbol) => dispatch(getUserTrades({ symbol })),\n\tcancelOrder: bindActionCreators(cancelOrder, dispatch),\n\tcancelAllOrders: bindActionCreators(cancelAllOrders, dispatch),\n\tsetNotification: bindActionCreators(setNotification, dispatch),\n\tchangePair: bindActionCreators(changePair, dispatch),\n\tchange: bindActionCreators(change, dispatch)\n});\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Trade);\n"]},"metadata":{},"sourceType":"module"}