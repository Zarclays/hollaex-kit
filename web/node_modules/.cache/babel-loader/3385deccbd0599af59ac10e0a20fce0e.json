{"ast":null,"code":"import _slicedToArray from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/Documents/projects/hollaex/src/containers/Admin/Wallets/index.js\";\nimport React, { Component } from 'react';\nimport { Spin } from 'antd';\nimport { requestTotalBalance, requestEthSweep } from './actions';\nimport { Card, Alert, Input, Button, Row, Col } from 'antd';\nimport { formatCurrency } from '../../../utils';\nvar Search = Input.Search;\n\nvar Wallets =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Wallets, _Component);\n\n  function Wallets() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Wallets);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Wallets)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      users: [],\n      fetched: false,\n      loading: false,\n      error: '',\n      showSweep: null,\n      walletNum: null\n    };\n\n    _this.requestTotalBalance = function () {\n      _this.setState({\n        loading: true,\n        error: ''\n      });\n\n      requestTotalBalance().then(function (res) {\n        _this.setState({\n          balance: res.data.balances,\n          loading: false,\n          fetched: true\n        });\n      }).catch(function (error) {\n        var message = error.data ? error.data.message : error.message;\n\n        _this.setState({\n          loading: false,\n          error: message\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Wallets, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.requestTotalBalance();\n      this.setState({\n        showSweep: false\n      });\n    }\n  }, {\n    key: \"onSweep\",\n    value: function onSweep(value) {\n      if (value === '') {\n        return null;\n      } else {\n        this.setState({\n          showSweep: true,\n          walletNum: value\n        });\n        requestEthSweep(value);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          balance = _this$state.balance,\n          loading = _this$state.loading,\n          error = _this$state.error,\n          showSweep = _this$state.showSweep,\n          walletNum = _this$state.walletNum;\n      return React.createElement(\"div\", {\n        className: \"app_container-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, error && React.createElement(Alert, {\n        message: \"Error\",\n        className: \"m-top\",\n        description: error,\n        type: \"error\",\n        showIcon: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), loading ? React.createElement(Spin, {\n        size: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, error && React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"-\", error, \"-\"), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"USER WALLETS\"), React.createElement(Card, {\n        className: \"card-title\",\n        title: \"TOTAL BALANCE OF USERS WALLETS\",\n        style: {\n          width: '60%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, !balance ? React.createElement(Alert, {\n        message: \"Error\",\n        className: \"m-top\",\n        description: error,\n        type: \"error\",\n        showIcon: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }) : Object.entries(balance).map(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            name = _ref2[0],\n            value = _ref2[1];\n\n        return React.createElement(\"p\", {\n          key: name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, name.toUpperCase(), \" : \", formatCurrency(value));\n      })), React.createElement(\"h1\", {\n        className: \"m-top\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"Ethereum sweep\"), showSweep || React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(Search, {\n        placeholder: \"Number of wallets to sweep\",\n        enterButton: \"Start\",\n        size: \"large\",\n        style: {\n          width: '60%'\n        },\n        onSearch: function onSearch(e) {\n          return _this2.onSweep(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      })), showSweep && React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(Col, {\n        span: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"http://gifimage.net/wp-content/uploads/2017/10/broom-sweeping-gif-6.gif\",\n        alt: \"sweeping\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      })), React.createElement(Col, {\n        span: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"m-top\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"Sweeping of \", walletNum, \" wallets initiated on the server. Comeback later\"), React.createElement(Button, {\n        size: \"large\",\n        type: \"primary\",\n        onClick: function onClick() {\n          return _this2.setState({\n            showSweep: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"Sweep again\")))));\n    }\n  }]);\n\n  return Wallets;\n}(Component);\n\nexport default Wallets;","map":{"version":3,"sources":["/home/user/Documents/projects/hollaex/src/containers/Admin/Wallets/index.js"],"names":["React","Component","Spin","requestTotalBalance","requestEthSweep","Card","Alert","Input","Button","Row","Col","formatCurrency","Search","Wallets","state","users","fetched","loading","error","showSweep","walletNum","setState","then","res","balance","data","balances","catch","message","value","width","Object","entries","map","name","toUpperCase","e","onSweep"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,MAArB;AACA,SAASC,mBAAT,EAA8BC,eAA9B,QAAqD,WAArD;AACA,SAASC,IAAT,EAAeC,KAAf,EAAsBC,KAAtB,EAA6BC,MAA7B,EAAqCC,GAArC,EAA0CC,GAA1C,QAAqD,MAArD;AACA,SAASC,cAAT,QAA+B,gBAA/B;AAEA,IAAMC,MAAM,GAAGL,KAAK,CAACK,MAArB;;IAEMC,O;;;;;;;;;;;;;;;;;UACLC,K,GAAQ;AACPC,MAAAA,KAAK,EAAE,EADA;AAEPC,MAAAA,OAAO,EAAE,KAFF;AAGPC,MAAAA,OAAO,EAAE,KAHF;AAIPC,MAAAA,KAAK,EAAE,EAJA;AAKPC,MAAAA,SAAS,EAAE,IALJ;AAMPC,MAAAA,SAAS,EAAE;AANJ,K;;UAcRjB,mB,GAAsB,YAAM;AAC3B,YAAKkB,QAAL,CAAc;AACbJ,QAAAA,OAAO,EAAE,IADI;AAEbC,QAAAA,KAAK,EAAE;AAFM,OAAd;;AAKAf,MAAAA,mBAAmB,GACjBmB,IADF,CACO,UAACC,GAAD,EAAS;AACd,cAAKF,QAAL,CAAc;AACbG,UAAAA,OAAO,EAAED,GAAG,CAACE,IAAJ,CAASC,QADL;AAEbT,UAAAA,OAAO,EAAE,KAFI;AAGbD,UAAAA,OAAO,EAAE;AAHI,SAAd;AAKA,OAPF,EAQEW,KARF,CAQQ,UAACT,KAAD,EAAW;AACjB,YAAMU,OAAO,GAAGV,KAAK,CAACO,IAAN,GAAaP,KAAK,CAACO,IAAN,CAAWG,OAAxB,GAAkCV,KAAK,CAACU,OAAxD;;AACA,cAAKP,QAAL,CAAc;AACbJ,UAAAA,OAAO,EAAE,KADI;AAEbC,UAAAA,KAAK,EAAEU;AAFM,SAAd;AAIA,OAdF;AAeA,K;;;;;;;yCA1BoB;AACpB,WAAKzB,mBAAL;AACA,WAAKkB,QAAL,CAAc;AAAEF,QAAAA,SAAS,EAAE;AAAb,OAAd;AACA;;;4BAyBOU,K,EAAO;AACd,UAAIA,KAAK,KAAK,EAAd,EAAkB;AACjB,eAAO,IAAP;AACA,OAFD,MAEO;AACN,aAAKR,QAAL,CAAc;AACbF,UAAAA,SAAS,EAAE,IADE;AAEbC,UAAAA,SAAS,EAAES;AAFE,SAAd;AAIAzB,QAAAA,eAAe,CAACyB,KAAD,CAAf;AACA;AACD;;;6BAEQ;AAAA;;AAAA,wBACkD,KAAKf,KADvD;AAAA,UACAU,OADA,eACAA,OADA;AAAA,UACSP,OADT,eACSA,OADT;AAAA,UACkBC,KADlB,eACkBA,KADlB;AAAA,UACyBC,SADzB,eACyBA,SADzB;AAAA,UACoCC,SADpC,eACoCA,SADpC;AAGR,aACC;AAAK,QAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACEF,KAAK,IACL,oBAAC,KAAD;AACC,QAAA,OAAO,EAAC,OADT;AAEC,QAAA,SAAS,EAAC,OAFX;AAGC,QAAA,WAAW,EAAEA,KAHd;AAIC,QAAA,IAAI,EAAC,OAJN;AAKC,QAAA,QAAQ,MALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAUED,OAAO,GACP,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADO,GAGP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACEC,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAKA,KAAL,MADX,EAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFD,EAGC,oBAAC,IAAD;AACC,QAAA,SAAS,EAAC,YADX;AAEC,QAAA,KAAK,EAAC,gCAFP;AAGC,QAAA,KAAK,EAAE;AAAEY,UAAAA,KAAK,EAAE;AAAT,SAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKE,CAACN,OAAD,GACA,oBAAC,KAAD;AACC,QAAA,OAAO,EAAC,OADT;AAEC,QAAA,SAAS,EAAC,OAFX;AAGC,QAAA,WAAW,EAAEN,KAHd;AAIC,QAAA,IAAI,EAAC,OAJN;AAKC,QAAA,QAAQ,MALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,GASAa,MAAM,CAACC,OAAP,CAAeR,OAAf,EAAwBS,GAAxB,CAA4B,gBAAmB;AAAA;AAAA,YAAjBC,IAAiB;AAAA,YAAXL,KAAW;;AAC9C,eACC;AAAG,UAAA,GAAG,EAAEK,IAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACEA,IAAI,CAACC,WAAL,EADF,SACyBxB,cAAc,CAACkB,KAAD,CADvC,CADD;AAKA,OAND,CAdF,CAHD,EA0BC;AAAI,QAAA,SAAS,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BA1BD,EA2BEV,SAAS,IACT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,MAAD;AACC,QAAA,WAAW,EAAC,4BADb;AAEC,QAAA,WAAW,EAAC,OAFb;AAGC,QAAA,IAAI,EAAC,OAHN;AAIC,QAAA,KAAK,EAAE;AAAEW,UAAAA,KAAK,EAAE;AAAT,SAJR;AAKC,QAAA,QAAQ,EAAE,kBAACM,CAAD;AAAA,iBAAO,MAAI,CAACC,OAAL,CAAaD,CAAb,CAAP;AAAA,SALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,CA5BF,EAsCEjB,SAAS,IACT,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,GAAD;AAAK,QAAA,IAAI,EAAE,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AACC,QAAA,GAAG,EAAC,yEADL;AAEC,QAAA,GAAG,EAAC,UAFL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,CADD,EAOC,oBAAC,GAAD;AAAK,QAAA,IAAI,EAAE,EAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAI,QAAA,SAAS,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACcC,SADd,qDADD,EAKC,oBAAC,MAAD;AACC,QAAA,IAAI,EAAC,OADN;AAEC,QAAA,IAAI,EAAC,SAFN;AAGC,QAAA,OAAO,EAAE;AAAA,iBACR,MAAI,CAACC,QAAL,CAAc;AAAEF,YAAAA,SAAS,EAAE;AAAb,WAAd,CADQ;AAAA,SAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBALD,CAPD,CAvCF,CAbF,CADD;AAiFA;;;;EAtIoBlB,S;;AAyItB,eAAeY,OAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Spin } from 'antd';\nimport { requestTotalBalance, requestEthSweep } from './actions';\nimport { Card, Alert, Input, Button, Row, Col } from 'antd';\nimport { formatCurrency } from '../../../utils';\n\nconst Search = Input.Search;\n\nclass Wallets extends Component {\n\tstate = {\n\t\tusers: [],\n\t\tfetched: false,\n\t\tloading: false,\n\t\terror: '',\n\t\tshowSweep: null,\n\t\twalletNum: null\n\t};\n\n\tcomponentWillMount() {\n\t\tthis.requestTotalBalance();\n\t\tthis.setState({ showSweep: false });\n\t}\n\n\trequestTotalBalance = () => {\n\t\tthis.setState({\n\t\t\tloading: true,\n\t\t\terror: ''\n\t\t});\n\n\t\trequestTotalBalance()\n\t\t\t.then((res) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tbalance: res.data.balances,\n\t\t\t\t\tloading: false,\n\t\t\t\t\tfetched: true\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconst message = error.data ? error.data.message : error.message;\n\t\t\t\tthis.setState({\n\t\t\t\t\tloading: false,\n\t\t\t\t\terror: message\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\tonSweep(value) {\n\t\tif (value === '') {\n\t\t\treturn null;\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tshowSweep: true,\n\t\t\t\twalletNum: value\n\t\t\t});\n\t\t\trequestEthSweep(value);\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { balance, loading, error, showSweep, walletNum } = this.state;\n\n\t\treturn (\n\t\t\t<div className=\"app_container-content\">\n\t\t\t\t{error && (\n\t\t\t\t\t<Alert\n\t\t\t\t\t\tmessage=\"Error\"\n\t\t\t\t\t\tclassName=\"m-top\"\n\t\t\t\t\t\tdescription={error}\n\t\t\t\t\t\ttype=\"error\"\n\t\t\t\t\t\tshowIcon\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t{loading ? (\n\t\t\t\t\t<Spin size=\"large\" />\n\t\t\t\t) : (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{error && <p>-{error}-</p>}\n\t\t\t\t\t\t<h1>USER WALLETS</h1>\n\t\t\t\t\t\t<Card\n\t\t\t\t\t\t\tclassName=\"card-title\"\n\t\t\t\t\t\t\ttitle=\"TOTAL BALANCE OF USERS WALLETS\"\n\t\t\t\t\t\t\tstyle={{ width: '60%' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{!balance ? (\n\t\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\t\tmessage=\"Error\"\n\t\t\t\t\t\t\t\t\tclassName=\"m-top\"\n\t\t\t\t\t\t\t\t\tdescription={error}\n\t\t\t\t\t\t\t\t\ttype=\"error\"\n\t\t\t\t\t\t\t\t\tshowIcon\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\tObject.entries(balance).map(([name, value]) => {\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<p key={name}>\n\t\t\t\t\t\t\t\t\t\t\t{name.toUpperCase()} : {formatCurrency(value)}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t<h1 className=\"m-top\">Ethereum sweep</h1>\n\t\t\t\t\t\t{showSweep || (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Search\n\t\t\t\t\t\t\t\t\tplaceholder=\"Number of wallets to sweep\"\n\t\t\t\t\t\t\t\t\tenterButton=\"Start\"\n\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\tstyle={{ width: '60%' }}\n\t\t\t\t\t\t\t\t\tonSearch={(e) => this.onSweep(e)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{showSweep && (\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col span={4}>\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\tsrc=\"http://gifimage.net/wp-content/uploads/2017/10/broom-sweeping-gif-6.gif\"\n\t\t\t\t\t\t\t\t\t\talt=\"sweeping\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t\t\t\t<h2 className=\"m-top\">\n\t\t\t\t\t\t\t\t\t\tSweeping of {walletNum} wallets initiated on the\n\t\t\t\t\t\t\t\t\t\tserver. Comeback later\n\t\t\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({ showSweep: false })\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tSweep again\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Wallets;\n"]},"metadata":{},"sourceType":"module"}