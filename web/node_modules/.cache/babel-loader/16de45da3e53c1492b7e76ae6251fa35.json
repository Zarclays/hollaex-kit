{"ast":null,"code":"import _classCallCheck from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/Documents/projects/hollaex/src/components/AppBar/TabOverflowList.js\";\nimport React, { Component } from 'react';\nimport ReactSVG from 'react-svg';\nimport { ICONS, BASE_CURRENCY, DEFAULT_COIN_DATA } from '../../config/constants';\nimport { formatToCurrency, formatPercentage, formatAverage } from '../../utils/currency';\nvar tickClicked = false;\n\nvar TabOverflowList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TabOverflowList, _Component);\n\n  function TabOverflowList() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, TabOverflowList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TabOverflowList)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.onOutsideClick = function (event) {\n      var element = document.getElementById('tab-overflow-list');\n\n      if (element && event.target !== element && !element.contains(event.target) && !tickClicked) {\n        _this.props.closeOverflowMenu();\n      }\n\n      if (tickClicked) {\n        tickClicked = false;\n      }\n    };\n\n    _this.onOverflow = function (pair) {\n      tickClicked = true;\n\n      _this.props.handleOverflow(pair);\n    };\n\n    return _this;\n  }\n\n  _createClass(TabOverflowList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('click', this.onOutsideClick);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('click', this.onOutsideClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          selectedTabs = _this$props.selectedTabs,\n          activePairTab = _this$props.activePairTab,\n          tickers = _this$props.tickers,\n          _this$props$coins = _this$props.coins,\n          coins = _this$props$coins === void 0 ? {} : _this$props$coins;\n      return React.createElement(\"div\", {\n        id: \"tab-overflow-list\",\n        className: \"app-bar-add-tab-menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"app-bar-tab-overflow-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, Object.keys(selectedTabs).map(function (pair, index) {\n        var menu = selectedTabs[pair] || {};\n\n        var _ref = coins[menu.pair_base || BASE_CURRENCY] || DEFAULT_COIN_DATA,\n            min = _ref.min,\n            _ref$symbol = _ref.symbol,\n            symbol = _ref$symbol === void 0 ? '' : _ref$symbol;\n\n        var pairTwo = coins[menu.pair_2 || BASE_CURRENCY] || DEFAULT_COIN_DATA;\n        var ticker = tickers[pair] || {};\n        var priceDifference = (ticker.close || 0) - (ticker.open || 0);\n        var tickerPercent = priceDifference / ticker.open * 100;\n        var priceDifferencePercent = tickerPercent === 'NaN' ? formatPercentage(tickerPercent) : formatPercentage(0);\n        return React.createElement(\"div\", {\n          key: index,\n          className: \"app-bar-add-tab-content-list d-flex align-items-center\",\n          onClick: function onClick() {\n            return _this2.onOverflow(pair);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, pair === activePairTab ? React.createElement(ReactSVG, {\n          path: ICONS.BLACK_CHECK,\n          wrapperClassName: \"app-bar-tab-setting\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }) : React.createElement(\"div\", {\n          className: \"app-bar-tab-setting\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, \" \"), React.createElement(ReactSVG, {\n          path: ICONS[\"\".concat(menu.pair_base.toUpperCase(), \"_ICON\")],\n          wrapperClassName: \"app-bar-add-tab-icons\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"app_bar-pair-font\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, symbol.toUpperCase(), \"/\", pairTwo.symbol.toUpperCase(), \":\"), React.createElement(\"div\", {\n          className: \"title-font ml-1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, \"\".concat(pairTwo.symbol.toUpperCase(), \" \").concat(formatAverage(formatToCurrency(ticker.close, min)))), React.createElement(\"div\", {\n          className: priceDifference < 0 ? \"app-price-diff-down app-bar-price_diff_down\" : \"app-bar-price_diff_up app-price-diff-up\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, formatAverage(formatToCurrency(priceDifference, min))), React.createElement(\"div\", {\n          className: priceDifference < 0 ? \"title-font ml-1 app-price-diff-down\" : \"title-font ml-1 app-price-diff-up\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, \"(\".concat(priceDifferencePercent, \")\")));\n      })));\n    }\n  }]);\n\n  return TabOverflowList;\n}(Component);\n\n;\nexport default TabOverflowList;","map":{"version":3,"sources":["/home/user/Documents/projects/hollaex/src/components/AppBar/TabOverflowList.js"],"names":["React","Component","ReactSVG","ICONS","BASE_CURRENCY","DEFAULT_COIN_DATA","formatToCurrency","formatPercentage","formatAverage","tickClicked","TabOverflowList","onOutsideClick","event","element","document","getElementById","target","contains","props","closeOverflowMenu","onOverflow","pair","handleOverflow","addEventListener","removeEventListener","selectedTabs","activePairTab","tickers","coins","Object","keys","map","index","menu","pair_base","min","symbol","pairTwo","pair_2","ticker","priceDifference","close","open","tickerPercent","priceDifferencePercent","BLACK_CHECK","toUpperCase"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ReactSVG from 'react-svg';\n\nimport { ICONS, BASE_CURRENCY, DEFAULT_COIN_DATA } from '../../config/constants';\nimport { formatToCurrency, formatPercentage, formatAverage } from '../../utils/currency';\n\nlet tickClicked = false;\n\nclass TabOverflowList extends Component {\n\n    componentDidMount() {\n        document.addEventListener('click', this.onOutsideClick);\n    }\n\n    onOutsideClick = event => {\n        const element = document.getElementById('tab-overflow-list');\n        if (element &&\n            event.target !== element &&\n            !element.contains(event.target) &&\n            !tickClicked) {\n                this.props.closeOverflowMenu();\n        }\n        if (tickClicked) {\n            tickClicked = false;\n        }\n    };\n\n    onOverflow = pair => {\n        tickClicked = true;\n        this.props.handleOverflow(pair);\n    };\n\n    componentWillUnmount() {\n        document.removeEventListener('click', this.onOutsideClick);\n    }\n\n    render() {\n        const { selectedTabs, activePairTab, tickers, coins = {} } = this.props;\n        return (\n            <div id=\"tab-overflow-list\" className=\"app-bar-add-tab-menu\">\n                <div className=\"app-bar-tab-overflow-content\">\n                    {Object.keys(selectedTabs).map((pair, index) => {\n                        let menu = selectedTabs[pair] || {};\n                        let { min, symbol = '' } = coins[menu.pair_base || BASE_CURRENCY] || DEFAULT_COIN_DATA;\n                        let pairTwo = coins[menu.pair_2 || BASE_CURRENCY] || DEFAULT_COIN_DATA;\n                        let ticker = tickers[pair] || {};\n                        let priceDifference = (ticker.close || 0) - (ticker.open || 0);\n                        const tickerPercent = ((priceDifference / ticker.open) * 100);\n                        let priceDifferencePercent = tickerPercent==='NaN' ? formatPercentage(tickerPercent) : formatPercentage(0);\n                        return (\n                            <div\n                                key={index}\n                                className=\"app-bar-add-tab-content-list d-flex align-items-center\"\n                                onClick={() => this.onOverflow(pair)}>\n                                {pair === activePairTab\n                                    ? <ReactSVG path={ICONS.BLACK_CHECK} wrapperClassName=\"app-bar-tab-setting\" />\n                                    : <div className=\"app-bar-tab-setting\"> </div>\n                                }\n                                <ReactSVG path={ICONS[`${menu.pair_base.toUpperCase()}_ICON`]} wrapperClassName=\"app-bar-add-tab-icons\" />\n                                <div className=\"app_bar-pair-font\">\n                                    {symbol.toUpperCase()}/{pairTwo.symbol.toUpperCase()}:\n                                </div>\n                                <div className=\"title-font ml-1\">{`${pairTwo.symbol.toUpperCase()} ${formatAverage(formatToCurrency(ticker.close, min))}`}</div>\n                                <div className={priceDifference < 0 ? \"app-price-diff-down app-bar-price_diff_down\" : \"app-bar-price_diff_up app-price-diff-up\"}>\n                                    {formatAverage(formatToCurrency(priceDifference, min))}\n                                </div>\n                                <div\n                                    className={priceDifference < 0\n                                        ? \"title-font ml-1 app-price-diff-down\" : \"title-font ml-1 app-price-diff-up\"}>\n                                    {`(${priceDifferencePercent})`}\n                                </div>\n                            </div>\n                        )\n                    }\n                    )}\n                </div>\n            </div>\n        );\n    }\n};\n\nexport default TabOverflowList;"]},"metadata":{},"sourceType":"module"}