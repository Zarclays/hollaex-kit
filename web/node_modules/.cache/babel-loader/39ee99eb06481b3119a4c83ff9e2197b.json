{"ast":null,"code":"import _objectSpread from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/user/Documents/projects/hollaex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/user/Documents/projects/hollaex/src/containers/Admin/Deposits/index.js\";\nimport React, { Component } from 'react';\nimport { Table, Spin, Button, Input, Select, Alert } from 'antd';\nimport { CSVLink } from 'react-csv';\nimport './index.css';\nimport { requestDeposits, completeDeposits, dismissDeposit } from './actions';\nimport { renderRowContent, COLUMNS, SELECT_KEYS } from './utils';\nimport { Filters } from './Filters';\nvar InputGroup = Input.Group;\nvar Option = Select.Option;\nvar Search = Input.Search;\nvar HEADERS = [{\n  label: 'Type',\n  dataIndex: 'type',\n  key: 'type'\n}, {\n  label: 'User ID',\n  dataIndex: 'user_id',\n  key: 'user_id'\n}, {\n  label: 'Currency',\n  dataIndex: 'currency',\n  key: 'currency'\n}, {\n  label: 'Amount',\n  dataIndex: 'amount',\n  key: 'amount'\n}, {\n  label: 'Fee',\n  dataIndex: 'fee',\n  key: 'fee'\n}, {\n  label: 'Address',\n  dataIndex: 'address',\n  key: 'address'\n}, {\n  label: 'Transaction ID',\n  dataIndex: 'transaction_id',\n  key: 'transaction_id'\n}, {\n  label: 'Time',\n  dataIndex: 'created_at',\n  key: 'created_at'\n}];\n\nvar Deposits =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Deposits, _Component);\n\n  function Deposits() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Deposits);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Deposits)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      deposits: [],\n      fetched: false,\n      loading: true,\n      loadingItem: false,\n      dismissingItem: false,\n      error: '',\n      indexItem: -1,\n      searchKey: 'transaction_id',\n      searchValue: '',\n      queryParams: {},\n      queryDone: JSON.stringify({}),\n      type: ''\n    };\n\n    _this.requestDeposits = function () {\n      var values = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var queryParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        type: 'deposits'\n      };\n\n      if (Object.keys(queryParams).length === 0) {\n        return _this.setState({\n          loading: false,\n          fetched: false,\n          queryParams: {}\n        });\n      }\n\n      _this.setState({\n        loading: true,\n        error: '',\n        queryDone: JSON.stringify(queryParams),\n        queryType: queryParams.type\n      });\n\n      requestDeposits(_objectSpread({}, values, queryParams)).then(function (data) {\n        _this.setState({\n          deposits: data.data,\n          loading: false,\n          fetched: true\n        });\n      }).catch(function (error) {\n        var message = error.data ? error.data.message : error.message;\n\n        _this.setState({\n          loading: false,\n          error: message\n        });\n      });\n    };\n\n    _this.completeDeposit = function (transaction_id, indexItem) {\n      return function () {\n        var _this$state = _this.state,\n            loadingItem = _this$state.loadingItem,\n            loading = _this$state.loading,\n            dismissingItem = _this$state.dismissingItem;\n\n        if (!(dismissingItem || loadingItem || loading)) {\n          _this.setState({\n            loadingItem: true,\n            error: '',\n            indexItem: indexItem\n          });\n\n          completeDeposits(transaction_id, true).then(function (data) {\n            var deposits = _this.state.deposits;\n\n            _this.setState({\n              deposits: [].concat(deposits.slice(0, indexItem), data, deposits.slice(indexItem + 1, deposits.length)),\n              loadingItem: false,\n              indexItem: -1\n            });\n          }).catch(function (error) {\n            var message = error.data ? error.data.message : error.message;\n\n            _this.setState({\n              loadingItem: false,\n              error: message,\n              indexItem: -1\n            });\n          });\n        }\n      };\n    };\n\n    _this.dismissDeposit = function (deposit_id, dismissed, indexItem) {\n      return function () {\n        var _this$state2 = _this.state,\n            loadingItem = _this$state2.loadingItem,\n            loading = _this$state2.loading,\n            dismissingItem = _this$state2.dismissingItem;\n\n        if (!(dismissingItem || loadingItem || loading)) {\n          _this.setState({\n            dismissingItem: true,\n            error: '',\n            indexItem: indexItem\n          });\n\n          dismissDeposit(deposit_id, dismissed).then(function (data) {\n            var deposits = _this.state.deposits;\n\n            _this.setState({\n              deposits: [].concat(deposits.slice(0, indexItem), data, deposits.slice(indexItem + 1, deposits.length)),\n              dismissingItem: false,\n              indexItem: -1\n            });\n          }).catch(function (error) {\n            var message = error.data ? error.data.message : error.message;\n\n            _this.setState({\n              dismissingItem: false,\n              error: message,\n              indexItem: -1\n            });\n          });\n        }\n      };\n    };\n\n    _this.onSelect = function (value, option) {\n      _this.setState({\n        searchKey: value\n      });\n    };\n\n    _this.onSearch = function (value) {\n      if (value) {\n        _this.setState({\n          searchValue: value.trim()\n        });\n\n        var values = {};\n        values[_this.state.searchKey] = value.trim();\n\n        var queryParams = _objectSpread({}, _this.props.queryParams);\n\n        delete queryParams.dismissed;\n        delete queryParams.status;\n\n        _this.requestDeposits(values, queryParams);\n      }\n    };\n\n    _this.onRefresh = function () {\n      var requestData = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var initialData = _this.props.initialData;\n\n      _this.setState({\n        searchValue: '',\n        searchKey: 'transaction_id'\n      });\n\n      if (requestData) {\n        _this.requestDeposits(initialData);\n      }\n    };\n\n    _this.onCloseErrorAlert = function () {\n      _this.setState({\n        error: ''\n      });\n    };\n\n    _this.onChangeQuery = function (key) {\n      return function (value, option) {\n        var queryParams = _objectSpread({}, _this.state.queryParams);\n\n        if (value) {\n          queryParams[key] = value;\n        } else {\n          delete queryParams[key];\n        }\n\n        _this.setState({\n          queryParams: queryParams\n        });\n      };\n    };\n\n    _this.onClickFilters = function () {\n      _this.requestDeposits({}, _this.state.queryParams);\n    };\n\n    return _this;\n  }\n\n  _createClass(Deposits, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var initialData = this.props.initialData;\n      this.requestDeposits(initialData);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {// if (\n      // \tnextProps.queryParams.currency !== this.props.queryParams.currency ||\n      // \tnextProps.queryParams.type !== this.props.queryParams.type\n      // ) {\n      // \tconst { initialData, queryParams } = nextProps;\n      // \tthis.requestDeposits(initialData, queryParams);\n      // \tthis.onRefresh(false);\n      // }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state3 = this.state,\n          deposits = _this$state3.deposits,\n          loading = _this$state3.loading,\n          fetched = _this$state3.fetched,\n          error = _this$state3.error,\n          indexItem = _this$state3.indexItem,\n          searchValue = _this$state3.searchValue,\n          dismissingItem = _this$state3.dismissingItem,\n          loadingItem = _this$state3.loadingItem,\n          queryParams = _this$state3.queryParams,\n          queryDone = _this$state3.queryDone,\n          queryType = _this$state3.queryType;\n      var showFilters = this.props.showFilters;\n      var columns = COLUMNS(undefined);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, loading ? React.createElement(Spin, {\n        size: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        className: \"app-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"upperCase\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, queryType), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, showFilters && React.createElement(Filters, {\n        onChange: this.onChangeQuery,\n        onClick: this.onClickFilters,\n        hasChanges: queryDone !== JSON.stringify(queryParams),\n        params: queryParams,\n        loading: loading,\n        fetched: fetched,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      })), !showFilters && React.createElement(\"div\", {\n        className: \"controls-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"controls-search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, \"Press enter or click on the search icon to perform a search\"), React.createElement(InputGroup, {\n        compact: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, React.createElement(Select, {\n        defaultValue: this.state.searchKey,\n        style: {\n          width: '25%'\n        },\n        onSelect: this.onSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, SELECT_KEYS(undefined).map(function (_ref, index) {\n        var value = _ref.value,\n            label = _ref.label;\n        return React.createElement(Option, {\n          value: value,\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 248\n          },\n          __self: this\n        }, label);\n      })), React.createElement(Search, {\n        style: {\n          width: '75%'\n        },\n        onSearch: this.onSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"controls-refresh\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.onRefresh,\n        type: \"primary\",\n        icon: \"sync\",\n        disabled: !searchValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, \"Refresh Data\"))), error && React.createElement(Alert, {\n        message: error,\n        type: \"error\",\n        showIcon: true,\n        onClose: this.onCloseErrorAlert,\n        closable: true,\n        closeText: \"Close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }), React.createElement(CSVLink, {\n        filename: 'deposit/withdrawal.csv',\n        data: deposits,\n        headers: HEADERS,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, \"Download table\"), React.createElement(Table, {\n        columns: columns,\n        dataSource: deposits.map(function (deposit, index) {\n          return _objectSpread({}, deposit, {\n            completeDeposit: index !== indexItem ? _this2.completeDeposit(deposit.id, index) : function () {},\n            dismissDeposit: index !== indexItem ? _this2.dismissDeposit(deposit.id, !deposit.dismissed, index) : function () {},\n            updatingItem: loadingItem && index === indexItem,\n            dismissingItem: dismissingItem && index === indexItem\n          });\n        }),\n        rowKey: function rowKey(data) {\n          return data.id;\n        },\n        expandedRowRender: renderRowContent,\n        expandRowByClick: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Deposits;\n}(Component);\n\nexport default Deposits;","map":{"version":3,"sources":["/home/user/Documents/projects/hollaex/src/containers/Admin/Deposits/index.js"],"names":["React","Component","Table","Spin","Button","Input","Select","Alert","CSVLink","requestDeposits","completeDeposits","dismissDeposit","renderRowContent","COLUMNS","SELECT_KEYS","Filters","InputGroup","Group","Option","Search","HEADERS","label","dataIndex","key","Deposits","state","deposits","fetched","loading","loadingItem","dismissingItem","error","indexItem","searchKey","searchValue","queryParams","queryDone","JSON","stringify","type","values","Object","keys","length","setState","queryType","then","data","catch","message","completeDeposit","transaction_id","concat","slice","deposit_id","dismissed","onSelect","value","option","onSearch","trim","props","status","onRefresh","requestData","initialData","onCloseErrorAlert","onChangeQuery","onClickFilters","nextProps","showFilters","columns","undefined","width","map","index","deposit","id","updatingItem"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Table, Spin, Button, Input, Select, Alert } from 'antd';\nimport { CSVLink } from 'react-csv';\n\nimport './index.css';\n\nimport { requestDeposits, completeDeposits, dismissDeposit } from './actions';\nimport { renderRowContent, COLUMNS, SELECT_KEYS } from './utils';\nimport { Filters } from './Filters';\n\nconst InputGroup = Input.Group;\nconst Option = Select.Option;\nconst Search = Input.Search;\nconst HEADERS = [\n\t{ label: 'Type', dataIndex: 'type', key: 'type' },\n\t{ label: 'User ID', dataIndex: 'user_id', key: 'user_id' },\n\t{ label: 'Currency', dataIndex: 'currency', key: 'currency' },\n\t{ label: 'Amount', dataIndex: 'amount', key: 'amount' },\n\t{ label: 'Fee', dataIndex: 'fee', key: 'fee' },\n\t{ label: 'Address', dataIndex: 'address', key: 'address' },\n\t{\n\t\tlabel: 'Transaction ID',\n\t\tdataIndex: 'transaction_id',\n\t\tkey: 'transaction_id'\n\t},\n\t{ label: 'Time', dataIndex: 'created_at', key: 'created_at' }\n];\n\nclass Deposits extends Component {\n\tstate = {\n\t\tdeposits: [],\n\t\tfetched: false,\n\t\tloading: true,\n\t\tloadingItem: false,\n\t\tdismissingItem: false,\n\t\terror: '',\n\t\tindexItem: -1,\n\t\tsearchKey: 'transaction_id',\n\t\tsearchValue: '',\n\t\tqueryParams: {},\n\t\tqueryDone: JSON.stringify({}),\n\t\ttype: ''\n\t};\n\n\tcomponentWillMount() {\n\t\tconst { initialData } = this.props;\n\t\tthis.requestDeposits(initialData);\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\t// if (\n\t\t// \tnextProps.queryParams.currency !== this.props.queryParams.currency ||\n\t\t// \tnextProps.queryParams.type !== this.props.queryParams.type\n\t\t// ) {\n\t\t// \tconst { initialData, queryParams } = nextProps;\n\t\t// \tthis.requestDeposits(initialData, queryParams);\n\t\t// \tthis.onRefresh(false);\n\t\t// }\n\t}\n\n\trequestDeposits = (values = {}, queryParams = { type: 'deposits' }) => {\n\t\tif (Object.keys(queryParams).length === 0) {\n\t\t\treturn this.setState({\n\t\t\t\tloading: false,\n\t\t\t\tfetched: false,\n\t\t\t\tqueryParams: {}\n\t\t\t});\n\t\t}\n\n\t\tthis.setState({\n\t\t\tloading: true,\n\t\t\terror: '',\n\t\t\tqueryDone: JSON.stringify(queryParams),\n\t\t\tqueryType: queryParams.type\n\t\t});\n\n\t\trequestDeposits({\n\t\t\t...values,\n\t\t\t...queryParams\n\t\t})\n\t\t\t.then((data) => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tdeposits: data.data,\n\t\t\t\t\tloading: false,\n\t\t\t\t\tfetched: true\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconst message = error.data ? error.data.message : error.message;\n\t\t\t\tthis.setState({\n\t\t\t\t\tloading: false,\n\t\t\t\t\terror: message\n\t\t\t\t});\n\t\t\t});\n\t};\n\n\tcompleteDeposit = (transaction_id, indexItem) => () => {\n\t\tconst { loadingItem, loading, dismissingItem } = this.state;\n\t\tif (!(dismissingItem || loadingItem || loading)) {\n\t\t\tthis.setState({ loadingItem: true, error: '', indexItem });\n\t\t\tcompleteDeposits(transaction_id, true)\n\t\t\t\t.then((data) => {\n\t\t\t\t\tconst { deposits } = this.state;\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tdeposits: [].concat(\n\t\t\t\t\t\t\tdeposits.slice(0, indexItem),\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\tdeposits.slice(indexItem + 1, deposits.length)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tloadingItem: false,\n\t\t\t\t\t\tindexItem: -1\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconst message = error.data ? error.data.message : error.message;\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tloadingItem: false,\n\t\t\t\t\t\terror: message,\n\t\t\t\t\t\tindexItem: -1\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t};\n\n\tdismissDeposit = (deposit_id, dismissed, indexItem) => () => {\n\t\tconst { loadingItem, loading, dismissingItem } = this.state;\n\t\tif (!(dismissingItem || loadingItem || loading)) {\n\t\t\tthis.setState({ dismissingItem: true, error: '', indexItem });\n\t\t\tdismissDeposit(deposit_id, dismissed)\n\t\t\t\t.then((data) => {\n\t\t\t\t\tconst { deposits } = this.state;\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tdeposits: [].concat(\n\t\t\t\t\t\t\tdeposits.slice(0, indexItem),\n\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\tdeposits.slice(indexItem + 1, deposits.length)\n\t\t\t\t\t\t),\n\t\t\t\t\t\tdismissingItem: false,\n\t\t\t\t\t\tindexItem: -1\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tconst message = error.data ? error.data.message : error.message;\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tdismissingItem: false,\n\t\t\t\t\t\terror: message,\n\t\t\t\t\t\tindexItem: -1\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\t};\n\tonSelect = (value, option) => {\n\t\tthis.setState({ searchKey: value });\n\t};\n\n\tonSearch = (value) => {\n\t\tif (value) {\n\t\t\tthis.setState({ searchValue: value.trim() });\n\t\t\tconst values = {};\n\t\t\tvalues[this.state.searchKey] = value.trim();\n\t\t\tconst queryParams = { ...this.props.queryParams };\n\t\t\tdelete queryParams.dismissed;\n\t\t\tdelete queryParams.status;\n\t\t\tthis.requestDeposits(values, queryParams);\n\t\t}\n\t};\n\n\tonRefresh = (requestData = true) => {\n\t\tconst { initialData } = this.props;\n\t\tthis.setState({ searchValue: '', searchKey: 'transaction_id' });\n\t\tif (requestData) {\n\t\t\tthis.requestDeposits(initialData);\n\t\t}\n\t};\n\n\tonCloseErrorAlert = () => {\n\t\tthis.setState({ error: '' });\n\t};\n\n\tonChangeQuery = (key) => (value, option) => {\n\t\tconst queryParams = {\n\t\t\t...this.state.queryParams\n\t\t};\n\t\tif (value) {\n\t\t\tqueryParams[key] = value;\n\t\t} else {\n\t\t\tdelete queryParams[key];\n\t\t}\n\t\tthis.setState({ queryParams });\n\t};\n\n\tonClickFilters = () => {\n\t\tthis.requestDeposits({}, this.state.queryParams);\n\t};\n\n\trender() {\n\t\tconst {\n\t\t\tdeposits,\n\t\t\tloading,\n\t\t\tfetched,\n\t\t\terror,\n\t\t\tindexItem,\n\t\t\tsearchValue,\n\t\t\tdismissingItem,\n\t\t\tloadingItem,\n\t\t\tqueryParams,\n\t\t\tqueryDone,\n\t\t\tqueryType\n\t\t} = this.state;\n\t\tconst { showFilters } = this.props;\n\t\tconst columns = COLUMNS(undefined);\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t{loading ? (\n\t\t\t\t\t<Spin size=\"large\" />\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"app-wrapper\">\n\t\t\t\t\t\t<h1 className=\"upperCase\">{queryType}</h1>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{showFilters && (\n\t\t\t\t\t\t\t\t<Filters\n\t\t\t\t\t\t\t\t\tonChange={this.onChangeQuery}\n\t\t\t\t\t\t\t\t\tonClick={this.onClickFilters}\n\t\t\t\t\t\t\t\t\thasChanges={\n\t\t\t\t\t\t\t\t\t\tqueryDone !== JSON.stringify(queryParams)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tparams={queryParams}\n\t\t\t\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\t\t\t\tfetched={fetched}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{!showFilters && (\n\t\t\t\t\t\t\t<div className=\"controls-wrapper\">\n\t\t\t\t\t\t\t\t<div className=\"controls-search\">\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\tPress enter or click on the search icon to perform\n\t\t\t\t\t\t\t\t\t\ta search\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<InputGroup compact>\n\t\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={this.state.searchKey}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: '25%' }}\n\t\t\t\t\t\t\t\t\t\t\tonSelect={this.onSelect}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{SELECT_KEYS(undefined).map(\n\t\t\t\t\t\t\t\t\t\t\t\t({ value, label }, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option value={value} key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t\t<Search\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: '75%' }}\n\t\t\t\t\t\t\t\t\t\t\tonSearch={this.onSearch}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</InputGroup>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"controls-refresh\">\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tonClick={this.onRefresh}\n\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\t\t\t\ticon=\"sync\"\n\t\t\t\t\t\t\t\t\t\tdisabled={!searchValue}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tRefresh Data\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{error && (\n\t\t\t\t\t\t\t<Alert\n\t\t\t\t\t\t\t\tmessage={error}\n\t\t\t\t\t\t\t\ttype=\"error\"\n\t\t\t\t\t\t\t\tshowIcon\n\t\t\t\t\t\t\t\tonClose={this.onCloseErrorAlert}\n\t\t\t\t\t\t\t\tclosable={true}\n\t\t\t\t\t\t\t\tcloseText=\"Close\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<CSVLink\n\t\t\t\t\t\t\tfilename={'deposit/withdrawal.csv'}\n\t\t\t\t\t\t\tdata={deposits}\n\t\t\t\t\t\t\theaders={HEADERS}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tDownload table\n\t\t\t\t\t\t</CSVLink>\n\t\t\t\t\t\t<Table\n\t\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\t\tdataSource={deposits.map((deposit, index) => {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t...deposit,\n\t\t\t\t\t\t\t\t\tcompleteDeposit:\n\t\t\t\t\t\t\t\t\t\tindex !== indexItem\n\t\t\t\t\t\t\t\t\t\t\t? this.completeDeposit(deposit.id, index)\n\t\t\t\t\t\t\t\t\t\t\t: () => {},\n\t\t\t\t\t\t\t\t\tdismissDeposit:\n\t\t\t\t\t\t\t\t\t\tindex !== indexItem\n\t\t\t\t\t\t\t\t\t\t\t? this.dismissDeposit(\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeposit.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t!deposit.dismissed,\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex\n\t\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t\t: () => {},\n\t\t\t\t\t\t\t\t\tupdatingItem: loadingItem && index === indexItem,\n\t\t\t\t\t\t\t\t\tdismissingItem: dismissingItem && index === indexItem\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\trowKey={(data) => {\n\t\t\t\t\t\t\t\treturn data.id;\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\texpandedRowRender={renderRowContent}\n\t\t\t\t\t\t\texpandRowByClick={true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Deposits;\n"]},"metadata":{},"sourceType":"module"}